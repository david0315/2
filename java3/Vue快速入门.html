<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Vue快速入门' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Vue快速入门</center></div><div class='banquan'>原文出处:本文由博客园博主凌枫zoz提供。<br/>
原文连接:https://www.cnblogs.com/lqgcn/p/11676449.html</div><br>
    <h1 class="md-end-block md-heading"><span class="md-plain">学习目标</span></h1>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">会创建Vue实例，知道Vue的常见属性</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">会使用Vue的生命周期的钩子函数</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">会使用vue常见指令</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">会使用vue计算属性和watch监控</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">会编写Vue组件</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">掌握组件间通信</span></p>
</li>
</ul>
<p class="md-end-block md-p">&nbsp;</p>
<h1 class="md-end-block md-heading"><span class="md-plain">0.前言</span></h1>
<p class="md-end-block md-p"><span class="md-plain">前几天我们已经对后端的技术栈有了初步的了解、并且已经搭建了整个后端微服务的平台。接下来要做的事情就是功能开发了。但是没有前端页面，我们肯定无从下手，因此今天我们就要来了解一下前端的一些技术，完成前端页面搭建。</span></p>
<p class="md-end-block md-p"><span class="md-plain">先聊一下前端开发模式的发展。</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">静态页面</span></p>
</blockquote>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">最初的网页以HTML为主，是纯静态的网页。网页是只读的，信息流只能从服务的到客户端单向流通。<span><strong>开发人员也只关心页面的样式和内容</strong><span class="md-plain">即可。</span></span></span></p>
</li>
</ul>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">异步刷新，操作DOM</span></p>
</blockquote>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">1995年，网景工程师Brendan Eich 花了10天时间设计了JavaScript语言.</span></p>
<p class="md-end-block md-p"><span class="md-plain">随着JavaScript的诞生，我们可以操作页面的DOM元素及样式，页面有了一些动态的效果，但是依然是以静态为主。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">ajax盛行：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">2005年开始，ajax逐渐被前端开发人员所重视，因为不用刷新页面就可以更新页面的数据和渲染效果。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">此时的<span><strong>开发人员不仅仅要编写HTML样式，还要懂ajax与后端交互，然后通过JS操作Dom元素来实现页面动态效果</strong><span class="md-plain">。比较流行的框架如Jquery就是典型代表。</span></span></span></p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">MVVM，关注模型和视图</span></p>
</blockquote>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">2008年，google的Chrome发布，随后就以极快的速度占领市场，超过IE成为浏览器市场的主导者。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">2009年，Ryan Dahl在谷歌的Chrome V8引擎基础上，打造了基于事件循环的异步IO框架：Node.js。</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">基于时间循环的异步IO</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">单线程运行，避免多线程的变量同步问题</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">JS可以编写后台diamante，前后台统一编程语言</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">node.js的伟大之处不在于让JS迈向了后端开发，而是构建了一个庞大的生态系统。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">2010年，NPM作为node.js的包管理系统首次发布，开发人员可以遵循Common.js规范来编写Node.js模块，然后发布到NPM上供其他开发人员使用。目前已经是世界最大的包模块管理系统。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">随后，在node的基础上，涌现出了一大批的前端框架：</span></p>
<p class="md-end-block md-p"><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/Vue快速入门0.png" alt="" width="400" height="233" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</li>
</ul>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">MVVM模式</span></p>
</blockquote>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">M：即Model，模型，包括数据和一些基本操作</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">V：即View，视图，页面渲染结果</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">VM：即View-Model，模型与视图间的双向操作（无需开发人员干涉）</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">在MVVM之前，开发人员从后端获取需要的数据模型，然后要通过DOM操作Model渲染到View中。而后当用户操作视图，我们还需要通过DOM获取View中的数据，然后同步到Model中。</span></p>
<p class="md-end-block md-p"><span class="md-plain">而MVVM中的VM要做的事情就是把DOM操作完全封装起来，开发人员不用再关心Model和View之间是如何互相影响的：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">只要我们Model发生了改变，View上自然就会表现出来。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">当用户修改了View，Model中的数据也会跟着改变。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">把开发人员从繁琐的DOM操作中解放出来，把关注点放在如何操作Model上。</span></p>
<p class="md-end-block md-p"><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/Vue快速入门1.png" alt="" width="622" height="299" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">而我们今天要学习的，就是一款MVVM模式的框架：Vue</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h1 class="md-end-block md-heading"><span class="md-plain">1.认识Vue</span></h1>
<p class="md-end-block md-p"><span class="md-plain">Vue (读音 /vjuː/，类似于 <span><strong>view</strong><span class="md-plain">) 是一套用于构建用户界面的<span><strong>渐进式框架</strong><span class="md-plain">。与其它大型框架不同的是，Vue 被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与<span class=" md-link"><a href="https://cn.vuejs.org/v2/guide/single-file-components.html"><span class="md-plain">现代化的工具链</span></a><span class="md-plain">以及各种<span class=" md-link"><a href="https://github.com/vuejs/awesome-vue#libraries--plugins"><span class="md-plain">支持类库</span></a><span class="md-plain">结合使用时，Vue 也完全能够为复杂的单页应用提供驱动。</span></span></span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-tab"> <span class="md-plain">前端框架三巨头：Vue.js、React.js、AngularJS，vue.js以期轻量易用著称，vue.js和React.js发展速度最快，AngularJS还是老大。</span></span></p>
<p class="md-end-block md-p"><span class="md-plain">官网：<span class="md-link"><a href="https://cn.vuejs.org/">https://cn.vuejs.org/</a></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">参考：<span class="md-link"><a href="https://cn.vuejs.org/v2/guide/">https://cn.vuejs.org/v2/guide/</a></span></span></p>
<p class="md-end-block md-p"><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/Vue快速入门2.png" alt="" width="504" height="343" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">Git地址：<span class="md-link"><a href="https://github.com/vuejs">https://github.com/vuejs</a></span></span></p>
<p class="md-end-block md-p"><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/Vue快速入门3.png" alt="" width="565" height="354" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span><strong>尤雨溪</strong><span class="md-plain">，Vue.js 创作者，Vue Technology创始人，致力于Vue的研究开发。</span></span></p>
<h1 class="md-end-block md-heading"><span class="md-plain">2.Node和NPM</span></h1>
<p class="md-end-block md-p"><span class="md-plain">前面说过，NPM是Node提供的模块管理工具，可以非常方便的下载安装很多前端框架，包括Jquery、AngularJS、VueJs都有。为了后面学习方便，我们先安装node及NPM工具。</span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">2.1.下载Node.js</span></h2>
<p class="md-end-block md-p"><span class="md-plain">下载地址：<span class=" md-link"><a href="https://nodejs.org/en/download/"><span class="md-plain">https://nodejs.org/en/download/</span></a></span></span></p>
<p class="md-end-block md-p"><img style="display: block; margin-left: auto; margin-right: auto;" src="./images/Vue快速入门4.png" alt="" width="548" height="278" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">推荐下载LTS版本。</span></p>
<p class="md-end-block md-p"><span class="md-plain">课程中采用的是8.9.0版本。目前最新的是8.11.1。大家自行下载。然后下一步安装即可。</span></p>
<p class="md-end-block md-p"><span class="md-plain">完成以后，在控制台输入：</span></p>
<pre><code><span><span class="cm-identifier">node <span class="cm-operator">-<span class="cm-identifier">v</span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">看到版本信息：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门5.png" alt="" width="257" height="55" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">2.2.NPM</span></h2>
<p class="md-end-block md-p"><span class="md-plain">安装完成Node应该自带了NPM了，在控制台输入<span><code>npm -v</code><span class="md-plain">查看：</span></span></span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门6.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">npm默认的仓库地址是在国外网站，速度较慢，建议大家设置到淘宝镜像。但是切换镜像是比较麻烦的。推荐一款切换镜像的工具：nrm</span></p>
<p class="md-end-block md-p"><span class="md-plain">我们首先安装nrm，这里<span><code>-g</code><span class="md-plain">代表全局安装</span></span></span></p>
<pre><code><span>npm install nrm -g</span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">然后通过<span><code>nrm ls</code><span class="md-plain">命令查看npm的仓库列表,带*的就是当前选中的镜像仓库：</span></span></span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门7.png" alt="" width="400" height="150" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">通过<span><code>nrm use taobao</code><span class="md-plain">来指定要使用的镜像源：</span></span></span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门8.png" alt="" width="783" height="76" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">然后通过<span><code>nrm test npm</code><span class="md-plain">来测试速度：</span></span></span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门9.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">注意：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">有教程推荐大家使用cnpm命令，但是使用发现cnpm有时会有bug，不推荐。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">安装完成请一定要重启下电脑！！！</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">安装完成请一定要重启下电脑！！！</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">安装完成请一定要重启下电脑！！！</span></p>
</li>
</ul>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<h1 class="md-end-block md-heading"><span class="md-plain">3.快速入门</span></h1>
<p class="md-end-block md-p"><span class="md-plain">接下来，我们快速领略下vue的魅力</span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">3.1.创建工程</span></h2>
<p class="md-end-block md-p"><span class="md-plain">创建一个新的工程：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门10.png" alt="" width="483" height="461" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">选中一个空的：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门11.png" alt="" width="466" height="376" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">然后新建一个module：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门12.png" alt="" width="462" height="320" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">选中static web，静态web项目：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门13.png" alt="" width="545" height="443" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">位置信息：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门14.png" alt="" width="491" height="397" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">3.2.安装vue</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">3.2.1.下载安装</span></h3>
<p class="md-end-block md-p"><span class="md-plain">下载地址：<span class="md-link"><a href="https://github.com/vuejs/vue">https://github.com/vuejs/vue</a></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">可以下载2.5.16版本<span class="md-link"><a href="https://github.com/vuejs/vue/archive/v2.5.16.zip">https://github.com/vuejs/vue/archive/v2.5.16.zi</a></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">下载解压，得到vue.js文件。</span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">3.2.2.使用CDN</span></h3>
<p class="md-end-block md-p"><span class="md-plain">或者也可以直接使用公共的CDN服务：</span></p>
<pre><code><span><span class="cm-comment">&lt;!-- 开发环境版本，包含了用帮助的命令行警告 --&gt;<br /></span></span></code></pre>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></code></pre>

<p class="md-end-block md-p"><span class="md-plain">或者：</span></p>
<pre><code><span><span class="cm-comment">&lt;!-- 生产环境版本，优化了尺寸和速度 --&gt;<br /></span></span></code></pre>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="https://cdn.jsdelivr.net/npm/vue"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></code></pre>

<h3 class="md-end-block md-heading"><span class="md-plain">3.2.3.推荐npm安装</span></h3>
<p class="md-end-block md-p"><span class="md-plain">在idea的左下角，有个Terminal按钮，点击打开控制台：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门15.png" alt="" width="484" height="228" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">进入hello-vue目录：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门16.png" alt="" width="421" height="72" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">先输入：<span><code>npm init -y</code><span class="md-plain"> 进行初始化</span></span></span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门17.png" alt="" width="472" height="292" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">安装Vue，输入命令：<span><code>npm install vue --save</code></span></span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门18.png" alt="" width="598" height="148" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">然后就会在hello-vue目录发现一个node_modules目录，并且在下面有一个vue目录。</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门19.png" alt="" width="479" height="291" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">node_modules是通过npm安装的所有模块的默认位置。</span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">3.3.vue入门案例</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">3.3.1.HTML模板</span></h3>
<p class="md-end-block md-p"><span class="md-plain"> 在hello-vue目录新建一个HTML</span></p>
<p class="md-end-block md-p"><span class="md-plain"><img src="./images/Vue快速入门20.png" alt="" width="579" height="227" /></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">在hello.html中，我们编写一段简单的代码：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门21.png" alt="" width="581" height="196" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">h2中要输出一句话：xx 非常帅。前面的xx是要渲染的数据。</span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">3.3.2.vue渲染</span></h3>
<p class="md-end-block md-p"><span class="md-plain">然后我们通过Vue进行渲染：</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="app"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>{{name}} 非常帅<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="./node_modules/vue/dist/vue.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span>
    <span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 生成一个Vue实例</span>
    <span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> app </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">new</span><span style="background-color: #f5f5f5; color: #000000;"> Vue({
        el:</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#app</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> el,即element。要渲染的的页面元素</span>
<span style="background-color: #f5f5f5; color: #000000;">        data:{ </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 数据</span>
<span style="background-color: #f5f5f5; color: #000000;">            name:</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">虎哥</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">
        }
    })
</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></code></pre>

<p>&nbsp;</p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">首先通过 new Vue()来创建Vue实例</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">然后构造函数接收一个对象，对象中有一些属性：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">el：是element的缩写，通过id选中要渲染的页面元素，本例中是一个div</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">data：数据，数据是一个对象，里面有很多属性，都可以渲染到视图中</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">name：这里我们指定了一个name属性</span></p>
</li>
</ul>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">页面中的<span><code>h2</code><span class="md-plain">元素中，我们通过{{name}}的方式，来渲染刚刚定义的name属性。</span></span></span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">打开页面查看效果：</span></p>
<p class="md-end-block md-p"><img src="./images/Vue快速入门22.png" alt="" width="419" height="144" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">更神奇的在于，当你修改name属性时，页面会跟着变化：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/ScreenGif-1525834621341.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/ScreenGif-1525834621341.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;<span class="md-plain md-expand"><span class="md-image md-img-loaded md-expand" data-src="assets/ScreenGif-1525834621341.gif">&nbsp;</span></span><span class="md-plain md-expand"><span class="md-image md-img-loaded md-expand" data-src="assets/ScreenGif-1525834621341.gif">&nbsp;</span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">3.3.3.双向绑定</span></h3>
<p class="md-end-block md-p"><span class="md-plain">我们对刚才的案例进行简单修改：</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">div </span><span style="color: #ff0000;">id</span><span style="color: #0000ff;">="app"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">input </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text"</span><span style="color: #ff0000;"> v-model</span><span style="color: #0000ff;">="num"</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
        {{name}} 非常帅,
        有{{num}}位女神为他着迷。
    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">h2</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">div</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">src</span><span style="color: #0000ff;">="./node_modules/vue/dist/vue.js"</span><span style="color: #0000ff;">&gt;&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">script </span><span style="color: #ff0000;">type</span><span style="color: #0000ff;">="text/javascript"</span><span style="color: #0000ff;">&gt;</span>
    <span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 生成一个Vue实例</span>
    <span style="background-color: #f5f5f5; color: #0000ff;">var</span><span style="background-color: #f5f5f5; color: #000000;"> app </span><span style="background-color: #f5f5f5; color: #000000;">=</span> <span style="background-color: #f5f5f5; color: #0000ff;">new</span><span style="background-color: #f5f5f5; color: #000000;"> Vue({
        el:</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">#app</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">, </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> el,即element。要渲染的的页面元素</span>
<span style="background-color: #f5f5f5; color: #000000;">        data:{ </span><span style="background-color: #f5f5f5; color: #008000;">//</span><span style="background-color: #f5f5f5; color: #008000;"> 数据</span>
<span style="background-color: #f5f5f5; color: #000000;">            name:</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">虎哥</span><span style="background-color: #f5f5f5; color: #000000;">"</span><span style="background-color: #f5f5f5; color: #000000;">,
            num:</span><span style="background-color: #f5f5f5; color: #000000;">1</span><span style="background-color: #f5f5f5; color: #000000;">
        }
    })
</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">script</span><span style="color: #0000ff;">&gt;</span></code></pre>

<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">我们在data添加了新的属性：<span><code>num</code></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">在页面中有一个<span><code>input</code><span class="md-plain">元素，通过<span><code>v-model</code><span class="md-plain">与<span><code>num</code><span class="md-plain">进行绑定。</span></span></span></span></span></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">同时通过<span><code>{{num}}</code><span class="md-plain">在页面输出</span></span></span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/2.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/2.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">我们可以观察到，输入框的变化引起了data中的num的变化，同时页面输出也跟着变化。</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">input与num绑定，input的value值变化，影响到了data中的num值</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">页面<span><code>{{num}}</code><span class="md-plain">与数据num绑定，因此num值变化，引起了页面效果变化。</span></span></span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">没有任何dom操作，这就是双向绑定的魅力。</span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">3.3.4.事件处理</span></h3>
<p class="md-end-block md-p"><span class="md-plain">我们在页面添加一个按钮：</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">button </span><span style="color: #ff0000;">v-on:click</span><span style="color: #0000ff;">="num++"</span><span style="color: #0000ff;">&gt;</span>点我<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">button</span><span style="color: #0000ff;">&gt;</span></code></pre>

<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">这里用<span><code>v-on</code><span class="md-plain">指令绑定点击事件，而不是普通的<span><code>onclick</code><span class="md-plain">，然后直接操作num</span></span></span></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">普通click是无法直接操作num的。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/3.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/3.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<h1 class="md-end-block md-heading"><span class="md-plain">4.Vue实例</span></h1>
<h2 class="md-end-block md-heading"><span class="md-plain">4.1.创建Vue实例</span></h2>
<p class="md-end-block md-p"><span class="md-plain">每个 Vue 应用都是通过用 <span><code>Vue</code><span class="md-plain"> 函数创建一个新的 <span><strong>Vue 实例</strong><span class="md-plain">开始的：</span></span></span></span></span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">var vm = new Vue({
  // 选项
})</span></code></pre>

<p class="md-end-block md-p"><span class="md-plain">在构造函数中传入一个对象，并且在对象中声明各种Vue需要的数据和方法，包括：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">el</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">data</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">methods</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">等等</span></p>
<p class="md-end-block md-p"><span class="md-plain">接下来我们一 一介绍。</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">4.2.模板或元素</span></h2>
<p class="md-end-block md-p"><span class="md-plain">每个Vue实例都需要关联一段Html模板，Vue会基于此模板进行视图渲染。</span></p>
<p class="md-end-block md-p"><span class="md-plain">我们可以通过el属性来指定。</span></p>
<p class="md-end-block md-p"><span class="md-plain">例如一段html模板：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">然后创建Vue实例，关联这个div</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span><span class="cm-tab">    <span class="cm-property">el:<span class="cm-string">"#app"<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">这样，Vue就可以基于id为<span><code>app</code><span class="md-plain">的div元素作为模板进行渲染了。在这个div范围以外的部分是无法使用vue特性的。</span></span></span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">4.3.数据</span></h2>
<p class="md-end-block md-p"><span class="md-plain">当Vue实例被创建时，它会尝试获取在data中定义的所有属性，用于视图的渲染，并且监视data中的属性变化，当data发生改变，所有相关的视图都将重新渲染，这就是&ldquo;响应式&ldquo;系统。</span></p>
<p class="md-end-block md-p"><span class="md-plain">html：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">type=<span class="cm-string">"text" <span class="cm-attribute">v-model=<span class="cm-string">"name"<span class="cm-tag cm-bracket">/&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">js:</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">name:<span class="cm-string">"刘德华"<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">name的变化会影响到<span><code>input</code><span class="md-plain">的值</span></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">input中输入的值，也会导致vm中的name发生改变</span></p>
</li>
</ul>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">4.4.方法</span></h2>
<p class="md-end-block md-p"><span class="md-plain">Vue实例中除了可以定义data属性，也可以定义方法，并且在Vue的作用范围内使用。</span></p>
<p class="md-end-block md-p"><span class="md-plain">html:</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp;  {{num}}<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">button <span class="cm-attribute">v-on:click=<span class="cm-string">"add"<span class="cm-tag cm-bracket">&gt;加<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">button<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">js:</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">num: <span class="cm-number">0<br /><span> &nbsp;  },<br /><span> &nbsp; &nbsp;<span class="cm-property">methods:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">add:<span class="cm-keyword">function(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// this代表的当前vue实例<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">num<span class="cm-operator">++;<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<h2 class="md-end-block md-heading"><span class="md-plain">4.5.生命周期钩子</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">4.5.1.生命周期</span></h3>
<p class="md-end-block md-p"><span class="md-plain">每个 Vue 实例在被创建时都要经过一系列的初始化过程 ：创建实例，装载模板，渲染模板等等。Vue为生命周期中的每个状态都设置了钩子函数（监听函数）。每当Vue实例处于不同的生命周期时，对应的函数就会被触发调用。</span></p>
<p class="md-end-block md-p"><span class="md-plain">生命周期：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="assets/lifecycle.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/lifecycle.png?lastModify=1571107840" alt="Vue life cycle" data-local-refresh="true" /></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">4.5.2.钩子函数</span></h3>
<p class="md-end-block md-p"><span class="md-plain">例如：created代表在vue实例创建后；</span></p>
<p class="md-end-block md-p"><span class="md-plain">我们可以在Vue中定义一个created函数，代表这个时期的构造函数：</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">html:</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp;  {{hello}}<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">js:</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">hello: <span class="cm-string">'' <span class="cm-comment">// hello初始化为空<br /><span> &nbsp;  },<br /><span> &nbsp; &nbsp;<span class="cm-property">created(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">hello <span class="cm-operator">= <span class="cm-string">"hello, world！ 我出生了！";<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">结果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525843098485.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525843098485.png?lastModify=1571107840" alt="1525843098485" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">4.5.3.this</span></h3>
<p class="md-end-block md-p"><span class="md-plain">我们可以看下在vue内部的this变量是谁，我们在created的时候，打印this</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">hello: <span class="cm-string">'' <span class="cm-comment">// hello初始化为空<br /><span> &nbsp;  },<br /><span> &nbsp; &nbsp;<span class="cm-property">created(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">hello <span class="cm-operator">= <span class="cm-string">"hello, world！ 我出生了！";<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">console.<span class="cm-property">log(<span class="cm-keyword">this);<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain"> 控制台的输出：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="assets/1525843381094.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525843381094.png?lastModify=1571107840" alt="1525843381094" data-local-refresh="true" /></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<h1 class="md-end-block md-heading"><span class="md-plain">5.指令</span></h1>
<p class="md-end-block md-p"><span class="md-plain">什么是指令？</span></p>
<p class="md-end-block md-p"><span class="md-plain">指令 (Directives) 是带有&nbsp;<span><code>v-</code><span class="md-plain">&nbsp;前缀的特殊特性。指令特性的预期值是：<span><strong>单个 JavaScript 表达式</strong><span class="md-plain">。指令的职责是，当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM。 </span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">例如我们在入门案例中的v-on，代表绑定事件。</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.1.插值表达式</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">5.1.1.花括号</span></h3>
<p class="md-end-block md-p"><span class="md-plain">格式：</span></p>
<pre><code><span>{{表达式}}</span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">说明：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">该表达式支持JS语法，可以调用js内置函数（必须有返回值）</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">表达式必须有返回结果。例如 1 + 1，没有结果的表达式不允许使用，如：var a = 1 + 1;</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">可以直接获取Vue实例中定义的数据或函数</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<p class="md-end-block md-p"><span class="md-plain">HTML：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;{{name}}<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">JS:</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">name:<span class="cm-string">"Jack"<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.1.2.插值闪烁</span></h3>
<p class="md-end-block md-p"><span class="md-plain">使用{{}}方式在网速较慢时会出现问题。在数据未加载完成时，页面会显示出原始的<span><code>{{}}</code><span class="md-plain">，加载完毕后才显示正确数据，我们称为插值闪烁。</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">我们将网速调慢一些，然后试试看刚才的案例：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="assets/1525843894502.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525843894502.png?lastModify=1571107840" alt="1525843894502" data-local-refresh="true" /></span></p>
<p class="md-end-block md-p"><span class="md-plain">刷新页面：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/4.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/4.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.1.3.v-text和v-html</span></h3>
<p class="md-end-block md-p"><span class="md-plain">使用v-text和v-html指令来替代<span><code>{{}}</code></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">说明：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">v-text：将数据输出到元素内部，如果输出的数据有HTML代码，会作为普通文本输出</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">v-html：将数据输出到元素内部，如果输出的数据有HTML代码，会被渲染</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<p class="md-end-block md-p"><span class="md-plain">HTML:</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp;  v-text:<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">span <span class="cm-attribute">v-text=<span class="cm-string">"hello"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">span<span class="cm-tag cm-bracket">&gt; <span class="cm-tag cm-bracket">&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp;  v-html:<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">span <span class="cm-attribute">v-html=<span class="cm-string">"hello"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">span<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">JS:</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">hello: <span class="cm-string">"&lt;h1&gt;大家好，我是虎哥&lt;/h1&gt;"<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525844448278.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525844448278.png?lastModify=1571107840" alt="1525844448278" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">并且不会出现插值闪烁，当没有数据时，会显示空白。</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.2.v-model</span></h2>
<p class="md-end-block md-p"><span class="md-plain">刚才的v-text和v-html可以看做是单向绑定，数据影响了视图渲染，但是反过来就不行。接下来学习的v-model是双向绑定，视图（View）和模型（Model）之间会互相影响。</span></p>
<p class="md-end-block md-p"><span class="md-plain">既然是双向绑定，一定是在视图中可以修改数据，这样就限定了视图的元素类型。目前v-model的可使用元素有：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">input</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">select</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">textarea</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">checkbox</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">radio</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">components（Vue中的自定义组件）</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">基本上除了最后一项，其它都是表单的输入项。</span></p>
<p class="md-end-block md-p"><span class="md-plain">举例：</span></p>
<p class="md-end-block md-p"><span class="md-plain">html：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">type=<span class="cm-string">"checkbox" <span class="cm-attribute">v-model=<span class="cm-string">"language" <span class="cm-attribute">value=<span class="cm-string">"Java" <span class="cm-tag cm-bracket">/&gt;Java<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">type=<span class="cm-string">"checkbox" <span class="cm-attribute">v-model=<span class="cm-string">"language" <span class="cm-attribute">value=<span class="cm-string">"PHP" <span class="cm-tag cm-bracket">/&gt;PHP<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">type=<span class="cm-string">"checkbox" <span class="cm-attribute">v-model=<span class="cm-string">"language" <span class="cm-attribute">value=<span class="cm-string">"Swift" <span class="cm-tag cm-bracket">/&gt;Swift<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp;  你选择了：{{language.join(',')}}<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">language: []<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">多个<span><code>CheckBox</code><span class="md-plain">对应一个model时，model的类型是一个数组，单个checkbox值是boolean类型</span></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">radio对应的值是input的value值</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>input</code><span class="md-plain"> 和<span><code>textarea</code><span class="md-plain"> 默认对应的model是字符串</span></span></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>select</code><span class="md-plain">单选对应字符串，多选对应也是数组</span></span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525845481512.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525845481512.png?lastModify=1571107840" alt="1525845481512" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.3.v-on</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">5.3.1.基本用法</span></h3>
<p class="md-end-block md-p"><span class="md-plain">v-on指令用于给页面元素绑定事件。</span></p>
<p class="md-end-block md-p"><span class="md-plain">语法：</span></p>
<pre><code><span>v-on:事件名="js片段或函数名"</span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!--事件中直接写js片段--&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">button <span class="cm-attribute">v-on:click=<span class="cm-string">"num++"<span class="cm-tag cm-bracket">&gt;增加<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">button<span class="cm-tag cm-bracket">&gt;&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!--事件指定一个回调函数，必须是Vue实例中定义的函数--&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">button <span class="cm-attribute">v-on:click=<span class="cm-string">"decrement"<span class="cm-tag cm-bracket">&gt;减少<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">button<span class="cm-tag cm-bracket">&gt;&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;num: {{num}}<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">num:<span class="cm-number">1<br /><span> &nbsp; &nbsp; &nbsp;  },<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">methods:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">decrement(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">num<span class="cm-operator">--;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/5.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/5.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">另外，事件绑定可以简写，例如<span><code>v-on:click='add'</code><span class="md-plain">可以简写为<span><code>@click='add'</code></span></span></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.3.2.事件修饰符</span></h3>
<p class="md-end-block md-p"><span class="md-plain">在事件处理程序中调用 <span><code>event.preventDefault()</code><span class="md-plain"> 或 <span><code>event.stopPropagation()</code><span class="md-plain"> 是非常常见的需求。尽管我们可以在方法中轻松实现这点，但更好的方式是：方法只有纯粹的数据逻辑，而不是去处理 DOM 事件细节。</span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">为了解决这个问题，Vue.js 为 <span><code>v-on</code><span class="md-plain"> 提供了<span><strong>事件修饰符</strong><span class="md-plain">。之前提过，修饰符是由点开头的指令后缀来表示的。</span></span></span></span></span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.stop</code><span class="md-plain"> ：阻止事件冒泡</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.prevent</code><span class="md-plain">：阻止默认事件发生</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.capture</code><span class="md-plain">：使用事件捕获模式</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.self</code><span class="md-plain">：只有元素自身触发事件才执行。（冒泡或捕获的都不执行）</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.once</code><span class="md-plain">：只执行一次</span></span></p>
</li>
</ul>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.3.3.按键修饰符</span></h3>
<p class="md-end-block md-p"><span class="md-plain">在监听键盘事件时，我们经常需要检查常见的键值。Vue 允许为&nbsp;<span><code>v-on</code><span class="md-plain">&nbsp;在监听键盘事件时添加按键修饰符： </span></span></span></p>
<pre><code><span><span class="cm-comment">&lt;!-- 只有在 `keyCode` 是 13 时调用 `vm.submit()` --&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">v-on:keyup.13=<span class="cm-string">"submit"<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">记住所有的 <span><code>keyCode</code><span class="md-plain"> 比较困难，所以 Vue 为最常用的按键提供了别名：</span></span></span></p>
<pre><code><span><span class="cm-comment">&lt;!-- 同上 --&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">v-on:keyup.enter=<span class="cm-string">"submit"<span class="cm-tag cm-bracket">&gt;<br /><span><span>​<br /><span><span class="cm-comment">&lt;!-- 缩写语法 --&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">@keyup.enter=<span class="cm-string">"submit"<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">全部的按键别名：</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.enter</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.tab</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.delete</code><span class="md-plain"> (捕获&ldquo;删除&rdquo;和&ldquo;退格&rdquo;键)</span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.esc</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.space</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.up</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.down</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.left</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.right</code></span></p>
</li>
</ul>
<h3 class="md-end-block md-heading"><span class="md-plain">5.3.4.组合按钮</span></h3>
<p class="md-end-block md-p"><span class="md-plain">可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器。</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.ctrl</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.alt</code></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span><code>.shift</code></span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">例如：</span></p>
<pre><code><span><span class="cm-comment">&lt;!-- Alt + C --&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">@keyup.alt.67=<span class="cm-string">"clear"<span class="cm-tag cm-bracket">&gt;<br /><span><span>​<br /><span><span class="cm-comment">&lt;!-- Ctrl + Click --&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">@click.ctrl=<span class="cm-string">"doSomething"<span class="cm-tag cm-bracket">&gt;Do something<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.4.v-for</span></h2>
<p class="md-end-block md-p"><span class="md-plain">遍历数据渲染页面是非常常用的需求，Vue中通过v-for指令来实现。</span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.4.1.遍历数组</span></h3>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">语法：</span></p>
</blockquote>
<pre><code><span>v-for="item in items"</span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">items：要遍历的数组，需要在vue的data中定义好。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">item：迭代得到的数组元素的别名</span></p>
</li>
</ul>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">示例</span></p>
</blockquote>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">li <span class="cm-attribute">v-for=<span class="cm-string">"user in users"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {{user.name}} : {{user.gender}} : {{user.age}}<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">li<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">users:[<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'柳岩', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">21},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'虎哥', <span class="cm-property">gender:<span class="cm-string">'男', <span class="cm-property">age: <span class="cm-number">30},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'范冰冰', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">24},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'刘亦菲', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">18},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'古力娜扎', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">25}<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ]<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525848812000.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525848812000.png?lastModify=1571107840" alt="1525848812000" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.4.2.数组角标</span></h3>
<p class="md-end-block md-p"><span class="md-plain">在遍历的过程中，如果我们需要知道数组角标，可以指定第二个参数：</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">语法</span></p>
</blockquote>
<pre><code><span>v-for="(item,index) in items"</span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">items：要迭代的数组</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">item：迭代得到的数组元素别名</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">index：迭代到的当前元素索引，从0开始。</span></p>
</li>
</ul>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">示例</span></p>
</blockquote>
<pre><code><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">li <span class="cm-attribute">v-for=<span class="cm-string">"(user,index) in users"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {{index}} - {{user.name}} : {{user.gender}} : {{user.age}}<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">li<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525849039930.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525849039930.png?lastModify=1571107840" alt="1525849039930" data-local-refresh="true" /></span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.4.3.遍历对象</span></h3>
<p class="md-end-block md-p"><span class="md-plain">v-for除了可以迭代数组，也可以迭代对象。语法基本类似</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">语法：</span></p>
</blockquote>
<pre><code><span>v-for="value in object"<br /><span>v-for="(value,key) in object"<br /><span>v-for="(value,key,index) in object"</span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">1个参数时，得到的是对象的值</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">2个参数时，第一个是值，第二个是键</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">3个参数时，第三个是索引，从0开始</span></p>
</li>
</ul>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
</blockquote>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">li <span class="cm-attribute">v-for=<span class="cm-string">"(value,key,index) in user"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {{index}} - {{key}} : {{value}}<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">li<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">user:{<span class="cm-property">name:<span class="cm-string">'柳岩', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">21}<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525849552865.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525849552865.png?lastModify=1571107840" alt="1525849552865" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.4.4.key</span></h3>
<p class="md-end-block md-p"><span class="md-plain">当 Vue.js 用&nbsp;<span><code>v-for</code><span class="md-plain">&nbsp;正在更新已渲染过的元素列表时，它默认用&ldquo;就地复用&rdquo;策略。如果数据项的顺序被改变，Vue 将不会移动 DOM 元素来匹配数据项的顺序， 而是简单复用此处每个元素，并且确保它在特定索引下显示已被渲染过的每个元素。 </span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">这个功能可以有效的提高渲染的效率。</span></p>
<p class="md-end-block md-p"><span class="md-plain">但是要实现这个功能，你需要给Vue一些提示，以便它能跟踪每个节点的身份，从而重用和重新排序现有元素，你需要为每项提供一个唯一&nbsp;<span><code>key</code><span class="md-plain">&nbsp;属性。理想的&nbsp;<span><code>key</code><span class="md-plain">&nbsp;值是每项都有的且唯一的 id。 </span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">li <span class="cm-attribute">v-for=<span class="cm-string">"(item,index) in items" <span class="cm-attribute">:key=<span class="cm-string">index<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">li<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">这里使用了一个特殊语法：<span><code>:key=""</code><span class="md-plain"> 我们后面会讲到，它可以让你读取vue中的属性，并赋值给key属性</span></span></span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">这里我们绑定的key是数组的索引，应该是唯一的</span></p>
</li>
</ul>
<h2 class="md-end-block md-heading"><span class="md-plain">5.5.v-if和v-show</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">5.5.1.基本使用</span></h3>
<p class="md-end-block md-p"><span class="md-plain">v-if，顾名思义，条件判断。当得到结果为true时，所在的元素才会被渲染。</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">语法：</span></p>
</blockquote>
<pre><code><span>v-if="布尔表达式"</span></code></pre>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
</blockquote>
<pre><code><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">&lt;!--事件中直接写js片段--&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">button <span class="cm-attribute">v-on:click=<span class="cm-string">"show = !show"<span class="cm-tag cm-bracket">&gt;点击切换<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">button<span class="cm-tag cm-bracket">&gt;&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1 <span class="cm-attribute">v-if=<span class="cm-string">"show"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  你好<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">show:<span class="cm-atom">true<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  })<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/ScreenGif-1525850553649.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/ScreenGif-1525850553649.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.5.2.与v-for结合</span></h3>
<p class="md-end-block md-p"><span class="md-plain">当v-if和v-for出现在一起时，v-for优先级更高。也就是说，会先遍历，再判断条件。</span></p>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<pre><code><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">li <span class="cm-attribute">v-for=<span class="cm-string">"(user,index) in users" <span class="cm-attribute">v-if=<span class="cm-string">"user.gender === '女'"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {{index}} - {{user.name}} : {{user.gender}} : {{user.age}}<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">li<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">ul<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">users:[<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'柳岩', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">21},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'虎哥', <span class="cm-property">gender:<span class="cm-string">'男', <span class="cm-property">age: <span class="cm-number">30},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'范冰冰', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">24},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'刘亦菲', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">18},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">name:<span class="cm-string">'古力娜扎', <span class="cm-property">gender:<span class="cm-string">'女', <span class="cm-property">age: <span class="cm-number">25}<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ]<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  })<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525850816434.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525850816434.png?lastModify=1571107840" alt="1525850816434" data-local-refresh="true" /></span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.5.3.v-else</span></h3>
<p class="md-end-block md-p"><span class="md-plain">你可以使用 <span><code>v-else</code><span class="md-plain"> 指令来表示 <span><code>v-if</code><span class="md-plain"> 的&ldquo;else 块&rdquo;：</span></span></span></span></span></p>
<pre><code><span>&lt;div v-if="Math.random() &gt; 0.5"&gt;<br /><span>  Now you see me<br /><span>&lt;/div&gt;<br /><span>&lt;div v-else&gt;<br /><span>  Now you don't<br /><span>&lt;/div&gt;</span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span><code>v-else</code><span class="md-plain"> 元素必须紧跟在带 <span><code>v-if</code><span class="md-plain"> 或者 <span><code>v-else-if</code><span class="md-plain"> 的元素的后面，否则它将不会被识别。</span></span></span></span></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span><code>v-else-if</code><span class="md-plain">，顾名思义，充当 <span><code>v-if</code><span class="md-plain"> 的&ldquo;else-if 块&rdquo;，可以连续使用：</span></span></span></span></p>
<pre><code><span>&lt;div v-if="type === 'A'"&gt;<br /><span>  A<br /><span>&lt;/div&gt;<br /><span>&lt;div v-else-if="type === 'B'"&gt;<br /><span>  B<br /><span>&lt;/div&gt;<br /><span>&lt;div v-else-if="type === 'C'"&gt;<br /><span>  C<br /><span>&lt;/div&gt;<br /><span>&lt;div v-else&gt;<br /><span>  Not A/B/C<br /><span>&lt;/div&gt;</span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">类似于 <span><code>v-else</code><span class="md-plain">，<span><code>v-else-if</code><span class="md-plain"> 也必须紧跟在带 <span><code>v-if</code><span class="md-plain"> 或者 <span><code>v-else-if</code><span class="md-plain"> 的元素之后。</span></span></span></span></span></span></span></span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.5.4.v-show</span></h3>
<p class="md-end-block md-p"><span class="md-plain">另一个用于根据条件展示元素的选项是 <span><code>v-show</code><span class="md-plain"> 指令。用法大致一样：</span></span></span></p>
<pre><code><span>&lt;h1 v-show="ok"&gt;Hello!&lt;/h1&gt;</span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">不同的是带有 <span><code>v-show</code><span class="md-plain"> 的元素始终会被渲染并保留在 DOM 中。<span><code>v-show</code><span class="md-plain"> 只是简单地切换元素的 CSS 属性 <span><code>display</code><span class="md-plain">。</span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<pre><code><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">&lt;!--事件中直接写js片段--&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">button <span class="cm-attribute">v-on:click=<span class="cm-string">"show = !show"<span class="cm-tag cm-bracket">&gt;点击切换<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">button<span class="cm-tag cm-bracket">&gt;&lt;<span class="cm-tag">br<span class="cm-tag cm-bracket">/&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1 <span class="cm-attribute">v-if=<span class="cm-string">"show"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  你好<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">show:<span class="cm-atom">true<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  })<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">代码：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.6.v-bind</span></h2>
<h3 class="md-end-block md-heading"><span class="md-plain">5.6.1.绑定class样式</span></h3>
<p class="md-end-block md-p"><span class="md-plain">假如我们想动态的修改页面元素的属性，比如class属性，这样写是错误的：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">class=<span class="cm-string">"{{isAcctive}}"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">因为插值表达式不能用在属性的值中。</span></p>
<p class="md-end-block md-p"><span class="md-plain">Vue对class属性进行了特殊处理，可以接收数组或对象格式：</span></p>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">数组语法</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain">我们可以借助于<span><code>v-bind</code><span class="md-plain">指令来实现：</span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">HTML：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">v-bind:class=<span class="cm-string">"isActive"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">你的data属性：</span></p>
<pre><code><span><span class="cm-variable">data:{<br /><span> &nbsp; &nbsp;<span class="cm-variable">isActive:[<span class="cm-string">'active',<span class="cm-string">'hasError']<br /><span>}</span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">渲染后的效果：</span></p>
<pre><code><span>&lt;div class="active hasError"&gt;&lt;/div&gt;</span></code></pre>
<blockquote>
<p class="md-end-block md-p"><span class="md-plain">对象语法</span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain">我们可以传给 <span><code>v-bind:class</code><span class="md-plain"> 一个对象，以动态地切换 class：</span></span></span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">v-bind:class=<span class="cm-string">"{ active: isActive }"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">上面的语法表示 <span><code>active</code><span class="md-plain"> 这个 class 存在与否将取决于数据属性 <span><code>isActive</code><span class="md-plain"> 的 <span class=" md-link"><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy"><span class="md-plain">truthiness</span></a><span class="md-plain">。</span></span></span></span></span></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">你可以在对象中传入更多属性来动态切换多个 class。此外，<span><code>v-bind:class</code><span class="md-plain"> 指令也可以与普通的 class 属性共存。当有如下模板:</span></span></span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">class=<span class="cm-string">"static"<br /><span> &nbsp; &nbsp; <span class="cm-attribute">v-bind:class=<span class="cm-string">"{ active: isActive, 'text-danger': hasError }"<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">和如下 data：</span></p>
<pre><code><span><span class="cm-variable">data: {<br /><span> &nbsp;<span class="cm-variable">isActive: <span class="cm-atom">true,<br /><span> &nbsp;<span class="cm-variable">hasError: <span class="cm-atom">false<br /><span>}</span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">结果渲染为：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">class=<span class="cm-string">"static active"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">当 <span><code>isActive</code><span class="md-plain"> 或者 <span><code>hasError</code><span class="md-plain"> 变化时，class 列表将相应地更新。例如，如果 <span><code>hasError</code><span class="md-plain">的值为 <span><code>true</code><span class="md-plain">，class 列表将变为 <span><code>"static active text-danger"</code><span class="md-plain">。</span></span></span></span></span></span></span></span></span></span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">5.6.2.简写</span></h3>
<p class="md-end-block md-p"><span><code>v-bind:class</code><span class="md-plain">可以简写为<span><code>:class</code></span></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.7.计算属性</span></h2>
<p class="md-end-block md-p"><span class="md-plain">在插值表达式中使用js表达式是非常方便的，而且也经常被用到。</span></p>
<p class="md-end-block md-p"><span class="md-plain">但是如果表达式的内容很长，就会显得不够优雅，而且后期维护起来也不方便，例如下面的场景，我们有一个日期的数据，但是是毫秒值：</span></p>
<pre><code><span><span class="cm-variable">data:{<br /><span> &nbsp; &nbsp;<span class="cm-variable">birthday:<span class="cm-number">1529032123201 <span class="cm-comment">// 毫秒值<br /><span>}</span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">我们在页面渲染，希望得到yyyy-MM-dd的样式：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;您的生日是：{{<br /><span> &nbsp;  new Date(birthday).getFullYear() + '-'+ new Date(birthday).getMonth()+ '-' + new Date(birthday).getDay()<br /><span> &nbsp;  }}<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">虽然能得到结果，但是非常麻烦。</span></p>
<p class="md-end-block md-p"><span class="md-plain">Vue中提供了计算属性，来替代复杂的表达式：</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">birthday:<span class="cm-number">1429032123201 <span class="cm-comment">// 毫秒值<br /><span> &nbsp;  },<br /><span> &nbsp; &nbsp;<span class="cm-property">computed:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">birth(){<span class="cm-comment">// 计算属性本质是一个方法，但是必须返回结果<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">const <span class="cm-def">d <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Date(<span class="cm-keyword">this.<span class="cm-property">birthday);<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return <span class="cm-variable-2">d.<span class="cm-property">getFullYear() <span class="cm-operator">+ <span class="cm-string">"-" <span class="cm-operator">+ <span class="cm-variable-2">d.<span class="cm-property">getMonth() <span class="cm-operator">+ <span class="cm-string">"-" <span class="cm-operator">+ <span class="cm-variable-2">d.<span class="cm-property">getDay();<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">计算属性本质就是方法，但是一定要返回数据。然后页面渲染时，可以把这个方法当成一个变量来使用。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">页面使用：</span></p>
<pre><code><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp; &nbsp; <span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;您的生日是：{{birth}} <span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525861635758.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525861635758.png?lastModify=1571107840" alt="1525861635758" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">5.8.watch</span></h2>
<p class="md-end-block md-p"><span class="md-plain">watch可以让我们监控一个值的变化。从而做出相应的反应。</span></p>
<p class="md-end-block md-p"><span class="md-plain">示例：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">input <span class="cm-attribute">type=<span class="cm-string">"text" <span class="cm-attribute">v-model=<span class="cm-string">"message"<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">vm <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">message:<span class="cm-string">""<br /><span> &nbsp; &nbsp; &nbsp;  },<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">watch:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">message(<span class="cm-def">newVal, <span class="cm-def">oldVal){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">console.<span class="cm-property">log(<span class="cm-variable-2">newVal, <span class="cm-variable-2">oldVal);<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525865657611.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525865657611.png?lastModify=1571107840" alt="1525865657611" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h1 class="md-end-block md-heading"><span class="md-plain">6.组件化</span></h1>
<p class="md-end-block md-p"><span class="md-plain">在大型应用开发的时候，页面可以划分成很多部分。往往不同的页面，也会有相同的部分。例如可能会有相同的头部导航。</span></p>
<p class="md-end-block md-p"><span class="md-plain">但是如果每个页面都独自开发，这无疑增加了我们开发的成本。所以我们会把页面的不同部分拆分成独立的组件，然后在不同页面就可以共享这些组件，避免重复开发。</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">6.1.定义全局组件</span></h2>
<p class="md-end-block md-p"><span class="md-plain">我们通过Vue的component方法来定义一个全局组件。</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!--使用定义好的全局组件--&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">// 定义全局组件，两个参数：1，组件名称。2，组件参数<br /><span> &nbsp; &nbsp;<span class="cm-variable">Vue.<span class="cm-property">component(<span class="cm-string">"counter",{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'&lt;button v-on:click="count++"&gt;你点了我 {{ count }} 次，我记住了.&lt;/button&gt;',<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return {<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">count:<span class="cm-number">0<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app"<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">组件其实也是一个Vue实例，因此它在定义时也会接收：data、methods、生命周期函数等</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">不同的是组件不会与页面的元素绑定，否则就无法复用了，因此没有el属性。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">但是组件渲染需要html模板，所以增加了template属性，值就是HTML模板</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">全局组件定义完毕，任何vue实例都可以直接在HTML中通过组件名称来使用组件了。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">data的定义方式比较特殊，必须是一个函数。</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/6.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/6.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">6.2.组件的复用</span></h2>
<p class="md-end-block md-p"><span class="md-plain">定义好的组件，可以任意复用多次：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!--使用定义好的全局组件--&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525854127169.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525854127169.png?lastModify=1571107840" alt="1525854127169" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">你会发现每个组件互不干扰，都有自己的count值。怎么实现的？</span></p>
<blockquote>
<p class="md-end-block md-p"><span><strong>组件的data属性必须是函数</strong><span class="md-plain">！</span></span></p>
</blockquote>
<p class="md-end-block md-p"><span class="md-plain">当我们定义这个 <span><code>&lt;counter&gt;</code><span class="md-plain"> 组件时，它的data 并不是像这样直接提供一个对象：</span></span></span></p>
<pre><code><span><span class="cm-variable">data: {<br /><span> &nbsp;<span class="cm-variable">count: <span class="cm-number">0<br /><span>}<br /><span><span>​</span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">取而代之的是，一个组件的 data 选项必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝：</span></p>
<pre><code><span><span class="cm-variable">data: <span class="cm-keyword">function () {<br /><span> &nbsp;<span class="cm-keyword">return {<br /><span> &nbsp; &nbsp;<span class="cm-property">count: <span class="cm-number">0<br /><span>  }<br /><span>}</span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">如果 Vue 没有这条规则，点击一个按钮就会影响到其它所有实例！</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<h2 class="md-end-block md-heading"><span class="md-plain">6.2.局部注册</span></h2>
<p class="md-end-block md-p"><span class="md-plain">一旦全局注册，就意味着即便以后你不再使用这个组件，它依然会随着Vue的加载而加载。</span></p>
<p class="md-end-block md-p"><span class="md-plain">因此，对于一些并不频繁使用的组件，我们会采用局部注册。</span></p>
<p class="md-end-block md-p"><span class="md-plain">我们先在外部定义一个对象，结构与创建组件时传递的第二个参数一致：</span></p>
<pre><code><span><span class="cm-keyword">const <span class="cm-def">counter <span class="cm-operator">= {<br /><span> &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'&lt;button v-on:click="count++"&gt;你点了我 {{ count }} 次，我记住了.&lt;/button&gt;',<br /><span> &nbsp; &nbsp;<span class="cm-property">data(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return {<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">count:<span class="cm-number">0<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  }<br /><span>};</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">然后在Vue中使用它：</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">components:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">counter:<span class="cm-variable">counter <span class="cm-comment">// 将定义的对象注册为组件<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">components就是当前vue对象子组件集合。</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">其key就是子组件名称</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">其值就是组件对象的属性</span></p>
</li>
</ul>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">效果与刚才的全局注册是类似的，不同的是，这个counter组件只能在当前的Vue实例中使用</span></p>
</li>
</ul>
<h2 class="md-end-block md-heading"><span class="md-plain">6.3.组件通信</span></h2>
<p class="md-end-block md-p"><span class="md-plain">通常一个单页应用会以一棵嵌套的组件树的形式来组织：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="assets/1525855149491.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525855149491.png?lastModify=1571107840" alt="1525855149491" data-local-refresh="true" /></span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">页面首先分成了顶部导航、左侧内容区、右侧边栏三部分</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">左侧内容区又分为上下两个组件</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">右侧边栏中又包含了3个子组件</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">各个组件之间以嵌套的关系组合在一起，那么这个时候不可避免的会有组件间通信的需求。</span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">6.3.1.父向子传递props</span></h3>
<p class="md-end-block md-p"><span class="md-plain">比如我们有一个子组件：</span></p>
<pre><code><span><span class="cm-variable">Vue.<span class="cm-property">component(<span class="cm-string">"introduce",{<br /><span> &nbsp; &nbsp;<span class="cm-comment">// 直接使用props接收到的属性来渲染页面<br /><span> &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'&lt;h3&gt;{{title}}&lt;/h3&gt;',<br /><span> &nbsp; &nbsp;<span class="cm-property">props:[<span class="cm-variable">title] <span class="cm-comment">// 通过props来接收一个父组件传递的属性<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">这个子组件中要使用title属性渲染页面，但是自己并没有title属性</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">通过props来接收父组件属性，名为title</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">父组件使用子组件，同时传递title属性：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;打个招呼：<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h1<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!--使用子组件，同时传递title属性--&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">introduce <span class="cm-attribute">title=<span class="cm-string">"大家好，我是虎哥"<span class="cm-tag cm-bracket">/&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-variable">Vue.<span class="cm-property">component(<span class="cm-string">"introduce",{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-comment">// 直接使用props接收到的属性来渲染页面<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'&lt;h1&gt;{{title}}&lt;/h1&gt;',<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">props:[<span class="cm-string">'title'] <span class="cm-comment">// 通过props来接收一个父组件传递的属性<br /><span> &nbsp;  })<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app"<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525857338270.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525857338270.png?lastModify=1571107840" alt="1525857338270" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>
<h3 class="md-end-block md-heading"><span class="md-plain">6.3.2.传递复杂数据</span></h3>
<p class="md-end-block md-p"><span class="md-plain">我们定义一个子组件：</span></p>
<pre><code><span><span class="cm-keyword">const <span class="cm-def">myList <span class="cm-operator">= {<br /><span> &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;ul&gt;\<br /><span> &nbsp; &nbsp; &nbsp;  <span class="cm-tab">    <span class="cm-string">&lt;li v-for="item in items" :key="item.id"&gt;{{item.id}} : {{item.name}}&lt;/li&gt;\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;/ul&gt;\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">',<br /><span> &nbsp; &nbsp;<span class="cm-variable">props:{ <span class="cm-comment">// 通过props来接收父组件传递来的属性<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">items:{<span class="cm-comment">// 这里定义items属性<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">type:<span class="cm-variable">Array,<span class="cm-comment">// 要求必须是Array类型<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">default:[] <span class="cm-comment">// 如果父组件没有传，那么给定默认值是[]<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span><span class="cm-tab">    }<br /><span>}</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">这个子组件可以对 items 进行迭代，并输出到页面。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">但是组件中并未定义items属性。</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">通过props来定义需要从父组件中接收的属性</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">items：是要接收的属性名称</span></p>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">type：限定父组件传递来的必须是数组，否则报错</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">default：默认值</span></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">我们在父组件中使用它：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h2<span class="cm-tag cm-bracket">&gt;传智播客已开设如下课程：<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h2<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!-- 使用子组件的同时，传递属性，这里使用了v-bind，指向了父组件自己的属性lessons --&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">my-list <span class="cm-attribute">:items=<span class="cm-string">"lessons"<span class="cm-tag cm-bracket">/&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">components:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">myList <span class="cm-comment">// 当key和value一样时，可以只写一个<br /><span> &nbsp;  },<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">lessons:[<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">id:<span class="cm-number">1, <span class="cm-property">name: <span class="cm-string">'java'},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">id:<span class="cm-number">2, <span class="cm-property">name: <span class="cm-string">'php'},<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  {<span class="cm-property">id:<span class="cm-number">3, <span class="cm-property">name: <span class="cm-string">'ios'},<br /><span> &nbsp; &nbsp; &nbsp;  ]<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525857477274.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525857477274.png?lastModify=1571107840" alt="1525857477274" data-local-refresh="true" /></span></span></p>
<h3 class="md-end-block md-heading"><span class="md-plain">6.3.3.子向父的通信</span></h3>
<p class="md-end-block md-p"><span class="md-plain">来看这样的一个案例：</span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h2<span class="cm-tag cm-bracket">&gt;num: {{num}}<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h2<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-comment">&lt;!--使用子组件的时候，传递num到子组件中--&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">counter <span class="cm-attribute">:num=<span class="cm-string">"num"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">src=<span class="cm-string">"./node_modules/vue/dist/vue.js"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">script <span class="cm-attribute">type=<span class="cm-string">"text/javascript"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-variable">Vue.<span class="cm-property">component(<span class="cm-string">"counter", {<span class="cm-comment">// 子组件，定义了两个按钮，点击数字num会加或减<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;div&gt;\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;button @click="num++"&gt;加&lt;/button&gt;  \<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;button @click="num--"&gt;减&lt;/button&gt;  \<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;/div&gt;',<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">props:[<span class="cm-string">'num']<span class="cm-comment">// count是从父组件获取的。<br /><span> &nbsp;  })<br /><span> &nbsp; &nbsp;<span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">num:<span class="cm-number">0<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  })<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">script<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">子组件接收父组件的num属性</span></p>
</li>
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">子组件定义点击按钮，点击后对num进行加或减操作</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">我们尝试运行：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/1525859093172.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525859093172.png?lastModify=1571107840" alt="1525859093172" data-local-refresh="true" /></span></span></p>
<p class="md-end-block md-p"><span class="md-plain">好像没问题，点击按钮试试：</span></p>
<p class="md-end-block md-p"><span class="md-image md-img-loaded" data-src="assets/1525859138607.png"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/1525859138607.png?lastModify=1571107840" alt="1525859138607" data-local-refresh="true" /></span></p>
<p class="md-end-block md-p"><span class="md-plain">子组件接收到父组件属性后，默认是不允许修改的。怎么办？</span></p>
<p class="md-end-block md-p"><span class="md-plain">既然只有父组件能修改，那么加和减的操作一定是放在父组件：</span></p>
<pre><code><span><span class="cm-keyword">var <span class="cm-def">app <span class="cm-operator">= <span class="cm-keyword">new <span class="cm-variable">Vue({<br /><span> &nbsp; &nbsp;<span class="cm-property">el:<span class="cm-string">"#app",<br /><span> &nbsp; &nbsp;<span class="cm-property">data:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">num:<span class="cm-number">0<br /><span> &nbsp;  },<br /><span> &nbsp; &nbsp;<span class="cm-property">methods:{ <span class="cm-comment">// 父组件中定义操作num的方法<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">increment(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">num<span class="cm-operator">++;<br /><span> &nbsp; &nbsp; &nbsp;  },<br /><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">decrement(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">num<span class="cm-operator">--;<br /><span> &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp;  }<br /><span>})</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p"><span class="md-plain">但是，点击按钮是在子组件中，那就是说需要子组件来调用父组件的函数，怎么做？</span></p>
<p class="md-end-block md-p"><span class="md-plain">我们可以<span><strong>通过v-on指令将父组件的函数绑定到子组件</strong><span class="md-plain">上：</span></span></span></p>
<pre><code><span><span class="cm-tag cm-bracket">&lt;<span class="cm-tag">div <span class="cm-attribute">id=<span class="cm-string">"app"<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">h2<span class="cm-tag cm-bracket">&gt;num: {{num}}<span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">h2<span class="cm-tag cm-bracket">&gt;<br /><span> &nbsp; &nbsp;<span class="cm-tag cm-bracket">&lt;<span class="cm-tag">counter <span class="cm-attribute">:count=<span class="cm-string">"num" <span class="cm-attribute">@inc=<span class="cm-string">"increment" <span class="cm-attribute">@dec=<span class="cm-string">"decrement"<span class="cm-tag cm-bracket">&gt;&lt;/<span class="cm-tag">counter<span class="cm-tag cm-bracket">&gt;<br /><span><span class="cm-tag cm-bracket">&lt;/<span class="cm-tag">div<span class="cm-tag cm-bracket">&gt;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<p class="md-end-block md-p"><span class="md-plain">然后，当子组件中按钮被点击时，调用绑定的函数：</span></p>
<pre><code><span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">Vue.<span class="cm-property">component(<span class="cm-string">"counter", {<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-property">template:<span class="cm-string">'\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;div&gt;\<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;button @click="plus"&gt;加&lt;/button&gt;  \<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;button @click="reduce"&gt;减&lt;/button&gt;  \<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-string">&lt;/div&gt;',<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">props:[<span class="cm-string">'count'],<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">methods:{<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">plus(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">$emit(<span class="cm-string">"inc");<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  },<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">reduce(){<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">this.<span class="cm-property">$emit(<span class="cm-string">"dec");<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  }<br /><span> &nbsp; &nbsp; &nbsp;  })</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></pre>
<ul class="ul-list" data-mark="-">
<li class="md-list-item">
<p class="md-end-block md-p"><span class="md-plain">vue提供了一个内置的this.$emit函数，用来调用父组件绑定的函数</span></p>
</li>
</ul>
<p class="md-end-block md-p"><span class="md-plain">效果：</span></p>
<p class="md-end-block md-p"><span class="md-plain"> <span class="md-image md-img-loaded" data-src="assets/7.gif"><img src="file://C:/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E/%E4%B9%90%E4%BC%98%E5%95%86%E5%9F%8E%E8%AF%BE%E4%BB%B6/day05-Vue/assets/7.gif?lastModify=1571107840" alt="" data-local-refresh="true" /></span></span></p>
<p><span class="md-image md-img-loaded" data-src="assets/7.gif">&nbsp;</span></p>
<p class="md-end-block md-p">&nbsp;</p>
<p class="md-end-block md-p">&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>