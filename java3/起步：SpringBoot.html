<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修起步：SpringBoot' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>起步：SpringBoot</center></div><div class='banquan'>原文出处:本文由博客园博主crazy戴夫提供。<br/>
原文连接:https://www.cnblogs.com/crazy-lc/p/11795726.html</div><br>
    <p>pom.xml</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> &lt;parent&gt;
<span style="color: #008080;">2</span>         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
<span style="color: #008080;">3</span>         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
<span style="color: #008080;">4</span>         &lt;version&gt;2.2.0.RELEASE&lt;/version&gt;
<span style="color: #008080;">5</span>         &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;
<span style="color: #008080;">6</span> &lt;/parent&gt;</code></pre>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">maven依赖：<br /> 1</span> &lt;dependency&gt;
<span style="color: #008080;"> 2</span>             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
<span style="color: #008080;"> 3</span>             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
<span style="color: #008080;"> 4</span>         &lt;/dependency&gt;
<span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span>         &lt;dependency&gt;
<span style="color: #008080;"> 7</span>             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
<span style="color: #008080;"> 8</span>             &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
<span style="color: #008080;"> 9</span>             &lt;scope&gt;test&lt;/scope&gt;
<span style="color: #008080;">10</span>             &lt;exclusions&gt;
<span style="color: #008080;">11</span>                 &lt;exclusion&gt;
<span style="color: #008080;">12</span>                     &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;
<span style="color: #008080;">13</span>                     &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;
<span style="color: #008080;">14</span>                 &lt;/exclusion&gt;
<span style="color: #008080;">15</span>             &lt;/exclusions&gt;
<span style="color: #008080;">16</span>         &lt;/dependency&gt;</code></pre>

<p>&nbsp;</p>
<pre><code><br /><br /></code></pre>

<p>华为云镜像：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> &lt;mirror&gt;
<span style="color: #008080;">2</span>     &lt;id&gt;huaweicloud&lt;/id&gt;
<span style="color: #008080;">3</span>     &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
<span style="color: #008080;">4</span>     &lt;url&gt;https:<span style="color: #008000;">//</span><span style="color: #008000;">mirrors.huaweicloud.com/repository/maven/&lt;/url&gt;</span>
<span style="color: #008080;">5</span> &lt;/mirror&gt;</code></pre>

<p>&nbsp;</p>
<p><span style="font-size: 18pt;"><strong><span style="font-family: 'Microsoft YaHei';">-基本web开发</span></strong></span></p>
<src class="cnblogs_code">
<pre><code>1<span style="color: #000000;">、导入依赖库<br />lombok的使用：<br />
</span>&lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.6&lt;/version&gt;
&lt;/dependency&gt;</code></pre>

<p>2.安装Lombok插件：plugins----&gt;lombok</p>
<p>3.实体类中</p>
<src class="cnblogs_code">
<pre><code>@Data <span style="color: #008000;">//</span><span style="color: #008000;">get set tostring</span>
<span style="color: #000000;">@AllArgsConstructor //所有参数构造方法
@NoArgsConstructor  //空参构造方法
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Car {
  </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Integer id;
  </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
  </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Float price;
</span><span style="color: #008000;">//</span><span style="color: #008000;">  @DateTimeFormat(pattern = "yyyy-MM-dd HH:mm:ss")           　　　　传入参数       </span>
  @JsonFormat(timezone = "GMT+8",pattern = "yyyy-MM-dd HH:mm:ss"<span style="color: #000000;">)　　　传出参数　
  </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Date createDate;
}</span></code></pre>

<p>4.Controller：</p>
<p>请求参数两种类型：</p>
<p class="MsoNormal"><strong><span style="font-family: 宋体; color: #1e1c11; font-size: 10.5pt;">　　@RequestParam &nbsp;&nbsp;</span></strong><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">获取查询参数。即</span>url?name=value &nbsp;&nbsp;<span style="font-family: 宋体;">这种形式</span></span></p>
<p class="MsoNormal"><strong><span style="font-family: 宋体; color: #1e1c11; font-size: 10.5pt;">　　@PathVariable</span></strong><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">&nbsp; &nbsp;<span style="font-family: 宋体;">获取路径参数。即</span>url/{id} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-family: 宋体;">这种形式</span></span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">@RestController             //相当于@Controller+@ResponseBody 类中所有方法都返回json数据
@RequestMapping(</span>"/car"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> CarController {

    @RequestMapping(</span>"/demo"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String demo(){
        </span><span style="color: #0000ff;">return</span> "demo.html"<span style="color: #000000;">;
    }</span></code></pre>

<p><span style="font-size: 18pt;"><strong><span style="font-family: 'Microsoft YaHei';">-静态资源访问</span></strong></span></p>
<h3><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 14.0000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">（</span>1<span style="font-family: 宋体;">）、默认静态资源映射</span></span></h3>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">Spring Boot <span style="font-family: 宋体;">对静态资源映射提供了默认配置</span></span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">Spring Boot <span style="font-family: 宋体;">默认将 </span><span style="font-family: Calibri;">/** </span><span style="font-family: 宋体;">所有访问映射到以下目录：</span></span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">classpath:/static </span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">classpath:/public </span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">classpath:/resources </span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">classpath:/META-INF/resources</span></p>
<h3><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 14.0000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">（</span>2<span style="font-family: 宋体;">）、自定义静态资源访问</span></span></h3>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">将静态资源路径设置到磁盘的基本个目录，上传文件时上传到磁盘中</span></p>
<p class="MsoNormal"><strong><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">方式1.使用配置类实现</span><span style="font-family: 'Courier New'; font-size: 12px;">WebMvcConfigurer接口，重写</span><span style="font-family: 'Courier New'; font-size: 12px;">addResourceHandlers（</span><span style="font-family: 'Courier New'; font-size: 12px;">ResourceHandlerRegistry registry</span><span style="font-family: 'Courier New'; font-size: 12px;">）</span></strong></p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #000000;">@Configurable
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> WebMvcConfig <span style="color: #0000ff;">implements</span><span style="color: #000000;"> WebMvcConfigurer{
</span><span style="color: #008080;"> 3</span> <span style="color: #000000;">    @Override
</span><span style="color: #008080;"> 4</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> addResourceHandlers(ResourceHandlerRegistry registry) {
</span><span style="color: #008080;"> 5</span>         <span style="color: #008000;">//</span><span style="color: #008000;">配置映射关系</span>
<span style="color: #008080;"> 6</span>        //访问/images，则映射到d:\a\下<span style="color: #008080;"> 7</span>  <span style="color: #008000;">       registry.addResourceHandler("/images/**").addResourceLocations("file:D:\\a\\");
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;">11</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">12</span> }</code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">在浏览器输入：</span>http://localhost:8080/images/1.jpg<span style="font-family: 宋体;">即可访问。</span></span></p>

<p>方式2.<span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">配置</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">application.properties</span></p>
<p class="MsoNormal">&nbsp;</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> web.upload-path=D:/springboot/pic/
<span style="color: #008080;">2</span> spring.mvc.<span style="color: #0000ff;">static</span>-path-pattern=<span style="color: #008000;">/**</span>
<span style="color: #008080;">3</span> <span style="color: #008000;">spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,\
</span><span style="color: #008080;">4</span> <span style="color: #008000;">classpath:/static/,classpath:/public/,file:${web.upload-path}<br /><br /></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">web.upload-path<span style="font-family: 宋体;">：这个属于自定义的属性，指定了一个路径，注意要以</span><span style="font-family: Calibri;">/</span><span style="font-family: 宋体;">结尾；</span></span></p>
<pre><code><span style="color: #008000;"></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">spring.mvc.static-path-pattern=/**<span style="font-family: 宋体;">：表示所有的访问都经过静态资源路径；</span></span></p>
<pre><code><span style="color: #008000;"></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">spring.resources.static-locations<span style="font-family: 宋体;">：在这里配置静态资源路径，前面说了这里的配置是覆盖默认配置，</span></span></p>
<pre><code><span style="color: #008000;"></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">所以需要将默认的也加上否则</span><span style="font-family: Calibri;">static</span><span style="font-family: 宋体;">、</span><span style="font-family: Calibri;">public</span><span style="font-family: 宋体;">等这些路径将不能被当作静态资源路径，</span></span></p>
<pre><code><span style="color: #008000;"></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">在这个最末尾的</span><span style="font-family: Calibri;">file:${web.upload-path}</span><span style="font-family: 宋体;">之所有要加</span><span style="font-family: Calibri;">file:</span><span style="font-family: 宋体;">是因为指定的是一个具体的硬盘路径，其他的使用</span><span style="font-family: Calibri;">classpath</span><span style="font-family: 宋体;">指的是系统环境变量。</span></span></p>
<pre><code><span style="color: #008000;"></span></code></pre>

<p><span style="font-family: 'Microsoft YaHei'; font-size: 18pt;"><strong>--<span style="color: #1e1c11;">WebJars</span></strong></span></p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">推荐使用Webjars的三大理由：</p>
<ul style="box-sizing: border-box; margin: 0px 0px 0px 20px; padding-left: 0px; list-style-position: initial; list-style-image: initial; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; line-height: 30px; margin-bottom: 0px;">将静态资源版本化，更利于升级和维护。</li>
<li style="box-sizing: border-box; line-height: 30px; margin-bottom: 0px;">剥离静态资源，提高编译速度和打包效率。</li>
<li style="box-sizing: border-box; line-height: 30px; margin-bottom: 0px;">实现资源共享，有利于统一前端开发。</li>
</ul>
<p>使用步骤：</p>
<p>1.引入依赖：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span>        &lt;dependency&gt;&lt;!--Webjars版本定位工具（前端）--&gt;
<span style="color: #008080;"> 2</span>                 &lt;groupId&gt;org.webjars&lt;/groupId&gt;
<span style="color: #008080;"> 3</span>                 &lt;artifactId&gt;webjars-locator-core&lt;/artifactId&gt;
<span style="color: #008080;"> 4</span>             &lt;/dependency&gt;
<span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span>             &lt;dependency&gt;&lt;!--Jquery组件（前端）--&gt;
<span style="color: #008080;"> 7</span>                 &lt;groupId&gt;org.webjars&lt;/groupId&gt;
<span style="color: #008080;"> 8</span>                 &lt;artifactId&gt;jquery&lt;/artifactId&gt;
<span style="color: #008080;"> 9</span>                 &lt;version&gt;3.3.1&lt;/version&gt;
<span style="color: #008080;">10</span>             &lt;/dependency&gt;</code></pre>

<p>2.访问静态资源</p>
<src>
<p>快速访问：<a href="http://localhost:8080/webjars/jquery/jquery.js" rel="nofollow" target="_blank">http://localhost:8080/webjars/jquery/jquery.js</a> （推荐）除去版本路径也可以访问得到</p>
<p>快速访问：<a href="http://localhost:8080/webjars/jquery/3.3.1/jquery.js" rel="nofollow" target="_blank">http://localhost:8080/webjars/jquery/3.3.1/jquery.js</a></p>
<p>&nbsp;</p>

<p><span style="font-size: 18pt;"><strong>--<span style="color: #1e1c11; font-family: 宋体;">SpringBoot</span><span style="color: #1e1c11; font-family: 宋体;">属性配置</span></strong></span></p>
<p>&nbsp;</p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">1.</span></span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">默认属性配置文件</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">application.properties(</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">可以修改后缀为</span><span style="color: #1e1c11; font-size: 10.5pt; font-family: Calibri;">.yml)</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">application.yml<br />server:
  port: </span>8888<span style="color: #000000;">
  servlet:
    context</span>-path: /javaok<br /><br /></code></pre>

<p class="MsoNormal"><span style="text-decoration: underline;"><span class="15" style="font-family: 宋体; color: #0000ff;">访问<a href="http://localhost:8888/java001">http://localhost:8888/java</a>ok即可</span></span></p>
<p class="MsoNormal"><span style="color: #000000;"><span style="text-decoration: underline;"><span class="15" style="font-family: 宋体;">2.自定义属性及读取</span></span></span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">在</span>application.yml<span style="font-family: 宋体;">文件中，配置一些常量或者其他参数配置。读取的时候通过</span><span style="font-family: Calibri;">Spring</span><span style="font-family: 宋体;">的</span><span style="font-family: Calibri;">@Value(</span><span style="font-family: 宋体;">&ldquo;</span><span style="font-family: Calibri;">${</span><span style="font-family: 宋体;">属性名</span><span style="font-family: Calibri;">}</span><span style="font-family: 宋体;">&rdquo;</span><span style="font-family: Calibri;">)</span><span style="font-family: 宋体;">注解即可</span></span></p>
<p class="MsoNormal">&nbsp;</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">application.yml
server:
  port: </span>8888<span style="color: #000000;">
  servlet:
    context</span>-path: /<span style="color: #000000;">javaok
server_ip: </span>192.168.10.9999999999</code></pre>

<p class="MsoNormal">&nbsp;</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">@RestController
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> HelloController {

    @Value(</span>"${server_ip}"<span style="color: #000000;">)            //获取到自定义参数值server_ip
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String server_ip;

    @GetMapping(</span>"/getMapping"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String getMapping(){
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> server_ip;
    }
}</span></code></pre>

<p>3.实体类属性赋值</p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">当属性参数变多的时候，我们习惯创建一个实体，用实体来统一接收赋值这些属性。</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">application.yml

user:
  name: www
  password: </span>8888888<span style="color: #000000;">
  birthday: </span>1992.10.28<span style="color: #000000;">
  mobile: </span>1234567890<span style="color: #000000;">
  address: beijing</span></code></pre>

<src class="cnblogs_code">
<pre><code><span style="color: #000000;">实体类：<span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">在实体类上增加注解</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">@ConfigurationProperties</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">，并指定</span><span style="color: #1e1c11; font-size: 10.5pt; font-family: Calibri;">prrfix</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">前缀</span><br />

@ConfigurationProperties(prefix </span>= "user"<span style="color: #000000;">)      
@Data
@NoArgsConstructor
@AllArgsConstructor
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> User {
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String password;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String birthday;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String mobile;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String address;

}</span></code></pre>

<src class="cnblogs_code">
<pre><code><span style="color: #000000;">Controller层：<br /></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">EnableConfigurationProperties<span style="font-family: 宋体;">注解需要加在调用类上，或者加在启动类</span><span style="font-family: Calibri;">SpringbootSimpleApplication</span><span style="font-family: 宋体;">上也可以。</span></span></p>
<pre><code><span style="color: #000000;"><br />@RestController
@EnableConfigurationProperties({User.</span><span style="color: #0000ff;">class</span>,TestUser.<span style="color: #0000ff;">class</span><span style="color: #000000;">})   //多个实体类加载
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> UserController {

   </span>@Autowired</code></pre>
<pre><code>User <span style="color: #660e7a; font-weight: bold;">user</span>;<br /><br /><span style="color: #808000; font-weight: bold;">@Autowired<br /></span>TestUser <span style="color: #660e7a; font-weight: bold;">testUser</span>;<br /><br /><span style="color: #808000; font-weight: bold;">@GetMapping</span>(<span style="color: #008000; font-weight: bold;">"/testUser"</span>)<br /><span style="color: #000080; font-weight: bold;">public  </span>String test(){<br />    <span style="color: #000080; font-weight: bold;">return </span><span style="color: #660e7a; font-weight: bold;">testUser</span>.toString();<br />}<br /><br /><span style="color: #808000; font-weight: bold;">@GetMapping</span>(<span style="color: #008000; font-weight: bold;">"/getUser"</span>)<br /><span style="color: #000080; font-weight: bold;">public </span>String getUser(){<br />    <span style="color: #000080; font-weight: bold;">return </span><span style="color: #660e7a; font-weight: bold;">user</span>.toString();<br />}</code></pre>

<p><span style="font-size: 15px;">4.<span style="color: #1e1c11; font-family: 黑体;">自定义配置文件</span></span></p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">创建文件</span>test.properties</span></p>
<src class="cnblogs_code">
<pre><code>testuser.name = "mike"<span style="color: #000000;">
testuser.password </span>= "123"<span style="color: #000000;">
testuser.birthday </span>= "1978.10.28"</code></pre>

<src class="cnblogs_code">
<pre><code><span style="color: #000000;">实体类：<br /></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">pring boot 1.5<span style="font-family: 宋体;">版本后</span><span style="font-family: Calibri;">@PropertySource</span><span style="font-family: 宋体;">注解就不能加载自定义的</span><span style="font-family: Calibri;">yml</span><span style="font-family: 宋体;">配置文件了</span></span></p>
<pre><code><span style="color: #000000;"></span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">1.5<span style="font-family: 宋体;">版本后需要通过</span><span style="font-family: Calibri;">@PropertySource(</span><span style="font-family: 宋体;">&ldquo;</span><span style="font-family: Calibri;">classpath:test.properties</span><span style="font-family: 宋体;">&rdquo;</span><span style="font-family: Calibri;">)</span><span style="font-family: 宋体;">指定配置文件</span></span></p>
<pre><code><span style="color: #000000;">&nbsp;</span></code></pre>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;">@Configuration <span style="font-family: 宋体;">注解包含</span><span style="font-family: Calibri;">@Component</span><span style="font-family: 宋体;">注解</span></span></p>
<pre><code><span style="color: #000000;">
@Configuration
@PropertySource(</span>"classpath:test.properties"<span style="color: #000000;">)
@ConfigurationProperties(prefix </span>= "testuser"<span style="color: #000000;">)
@Data
@NoArgsConstructor
@AllArgsConstructor
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> TestUser {
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String password;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String birthday;

}</span></code></pre>

<h2><!--[if !supportLists]--><span style="font-family: 'Microsoft YaHei'; color: #1e1c11; font-size: 15px;">5.多环境配置文件</span></h2>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">　　可以使用多个</span>yml<span style="font-family: 宋体;">来配置属性，将于环境无关的属性放置到</span><span style="font-family: Calibri;">application.yml</span><span style="font-family: 宋体;">文件里面；通过与配置文件相同的命名规范，创建</span><span style="font-family: Calibri;">application-{profile}.yml</span><span style="font-family: 宋体;">文件 存放不同环境特有的配置，例如 </span><span style="font-family: Calibri;">application-test.yml </span><span style="font-family: 宋体;">存放测试环境特有的配置属性，</span><span style="font-family: Calibri;">application-prod.yml </span><span style="font-family: 宋体;">存放生产环境特有的配置属性。</span></span></p>
<p class="MsoNormal"><span style="mso-spacerun: 'yes'; font-family: 宋体; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri; mso-bidi-font-family: 'Times New Roman'; color: #1e1c11; font-size: 10.5000pt; mso-font-kerning: 1.0000pt;"><span style="font-family: 宋体;">　　</span></span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">通过这种形式来配置多个环境的属性文件，在</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">application.yml</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">文件里面</span><span style="color: #1e1c11; font-size: 10.5pt; font-family: Calibri;">spring.profiles.active=xxx</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">来指定加载不同环境的配置</span><span style="color: #1e1c11; font-size: 10.5pt; font-family: Calibri;">,</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">如果不指定，则默认只使用</span><span style="color: #1e1c11; font-size: 10.5pt; font-family: Calibri;">application.yml</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">属性文件，不会加载其他的</span><span style="color: #1e1c11; font-size: 10.5pt; font-family: Calibri;">profiles</span><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">的配置。</span></p>
<p class="MsoNormal">　　</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">application.yml

spring:
   profiles:
    active: prod                //将调用application-prod.yml<br /></span></code></pre>
<src class="cnblogs_code">
<pre><code>application-<span style="color: #000000;">test.yml

server:
  port: </span>8081<span style="color: #000000;">
  servlet:
    context</span>-path: /javaok1</code></pre>

<pre><code></code></pre>
<src class="cnblogs_code">
<pre><code>application-<span style="color: #000000;">prod.yml

server:
  port: </span>8082<span style="color: #000000;">
  servlet:
    context</span>-path: /javaok2</code></pre>

<src class="cnblogs_code">
<pre><code>application-<span style="color: #000000;">dev.yml

server:
  port: </span>8083<span style="color: #000000;">
  servlet:
    context</span>-path: /javaok3</code></pre>


<p><span style="font-family: 'Microsoft YaHei'; font-size: 18pt;">--<strong><span style="color: #1e1c11;">SpringBoot<span style="font-family: 黑体;">构建</span><span style="font-family: Calibri;">RESTful API</span></span></strong></span></p>
<p class="MsoNormal">&nbsp;</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1  Controller层：</span>  <br />
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">private</span> List&lt;User&gt; listUser= Collections.synchronizedList(<span style="color: #0000ff;">new</span> ArrayList&lt;User&gt;<span style="color: #000000;">());
</span><span style="color: #008080;"> 3</span>     
<span style="color: #008080;"> 4</span>     <span style="color: #008000;">//</span><span style="color: #008000;">查询所有</span>
<span style="color: #008080;"> 5</span>     @GetMapping("/"<span style="color: #000000;">)
</span><span style="color: #008080;"> 6</span>     <span style="color: #0000ff;">public</span> List&lt;User&gt;<span style="color: #000000;"> getAllUser(){
</span><span style="color: #008080;"> 7</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> listUser;
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 9</span>     <span style="color: #008000;">//</span><span style="color: #008000;">获取指定id的user</span>
<span style="color: #008080;">10</span>     @GetMapping("/{id}"<span style="color: #000000;">)
</span><span style="color: #008080;">11</span>     <span style="color: #0000ff;">public</span> User getUser(@PathVariable("id"<span style="color: #000000;">) Long id){
</span><span style="color: #008080;">12</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;">(User u:listUser){
</span><span style="color: #008080;">13</span>             <span style="color: #0000ff;">if</span>(u.getId()==<span style="color: #000000;">id){
</span><span style="color: #008080;">14</span>                 <span style="color: #0000ff;">return</span><span style="color: #000000;"> user;
</span><span style="color: #008080;">15</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">16</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">17</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">null</span><span style="color: #000000;">;
</span><span style="color: #008080;">18</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">19</span>     <span style="color: #008000;">//</span><span style="color: #008000;">插入</span>
<span style="color: #008080;">20</span>     @PostMapping("/"<span style="color: #000000;">)
</span><span style="color: #008080;">21</span>     <span style="color: #0000ff;">public</span><span style="color: #000000;"> String insert(User user){
</span><span style="color: #008080;">22</span> <span style="color: #000000;">        listUser.add(user);
</span><span style="color: #008080;">23</span>         <span style="color: #0000ff;">return</span> "success"<span style="color: #000000;">;
</span><span style="color: #008080;">24</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">25</span>     <span style="color: #008000;">//</span><span style="color: #008000;">根据id修改</span>
<span style="color: #008080;">26</span>     @PutMapping("/{id}"<span style="color: #000000;">)
</span><span style="color: #008080;">27</span>     <span style="color: #0000ff;">public</span> String update(@PathVariable("id"<span style="color: #000000;">) Long id,User user){
</span><span style="color: #008080;">28</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;"> (User user2 : listUser) {
</span><span style="color: #008080;">29</span>             <span style="color: #0000ff;">if</span>(user2.getId()==<span style="color: #000000;">id) {
</span><span style="color: #008080;">30</span> <span style="color: #000000;">                user2.setName(user.getName());
</span><span style="color: #008080;">31</span> <span style="color: #000000;">                user2.setAge(user.getAge());
</span><span style="color: #008080;">32</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">33</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">34</span>         <span style="color: #0000ff;">return</span> "success"<span style="color: #000000;">;
</span><span style="color: #008080;">35</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">36</span>     <span style="color: #008000;">//</span><span style="color: #008000;">根据id删除</span>
<span style="color: #008080;">37</span>     @DeleteMapping("/{id}"<span style="color: #000000;">)
</span><span style="color: #008080;">38</span>     <span style="color: #0000ff;">public</span> String delete(@PathVariable("id"<span style="color: #000000;">) Long id){
</span><span style="color: #008080;">39</span> <span style="color: #000000;">        listUser.remove(getUser(id));
</span><span style="color: #008080;">40</span>         <span style="color: #0000ff;">return</span> "success"<span style="color: #000000;">;
</span><span style="color: #008080;">41</span>     }</code></pre>

<p class="MsoNormal">&nbsp;</p>
<p>&nbsp;</p>
<p class="MsoNormal"><span style="color: #1e1c11; font-family: 宋体; font-size: 10.5pt;">&nbsp;</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img id="uploading_image_64302" src="./images/起步：SpringBoot0.png" alt="" /></p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>