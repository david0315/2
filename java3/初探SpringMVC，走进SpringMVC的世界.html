<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修初探SpringMVC，走进SpringMVC的世界' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>初探SpringMVC，走进SpringMVC的世界</center></div><div class='banquan'>原文出处:本文由博客园博主宜春提供。<br/>
原文连接:https://www.cnblogs.com/yichunguo/p/11939586.html</div><br>
    <h2 id="springmvc入门">1.Springmvc入门</h2>
<h4 id="springmvc是什么">1.1.Springmvc是什么</h4>
<p><font color=red><strong>SpringMVC是Spring中的一个组件，目前（2019）在互联网公司用的很多，是必需学习的一门框架技术！</strong></font>SpringMVC用于web层，相当于controller（等价于传统的servlet和struts的action，或者hendler），用来处理用户请求。举个例子，用户在地址栏输入http://网站域名/login，那么springmvc就会拦截到这个请求，并且调用controller层中相应的方法，（中间可能包含验证用户名和密码的业务逻辑，以及查询数据库操作，但这些都不是springmvc的职责），最终把结果返回给用户，并且返回相应的页面（当然也可以只返回json/xml等格式数据）。springmvc就是做前面和后面过程的活，与用户打交道！！springmvc需要有spring的jar包作为支撑才能跑起来,所以学好Spring也是非常重要的！</p>
<p>Spring web mvc和Struts2都属于表现层的框架,它是Spring框架的一部分,我们可以从Spring的整体结构中看得出来,如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界0.png" alt="在这里插入图片描述" /></p>
<h4 id="springmvc处理流程">1.2.Springmvc处理流程</h4>
<p>如下图所示：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界1.png" alt="在这里插入图片描述" /></p>
<h4 id="入门程序">1.3.入门程序</h4>
<p>需求：使用浏览器显示商品列表</p>
<h5 id="创建web工程">1.3.1.创建web工程</h5>
<p>springMVC是表现层框架，需要搭建web工程开发。<br />
创建动态web工程：</p>
<p>输入工程名，选择<strong>配置Tomcat</strong>（如果已有，则直接使用），如下图：</p>
<p><img src="./images/初探SpringMVC，走进SpringMVC的世界2.png" alt="在这里插入图片描述" /></p>
<p>选择成功，点击Finish，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界3.png" alt="在这里插入图片描述" /><br />
选择刚刚设置成功的Tomcat，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界4.png" alt="在这里插入图片描述" /></p>
<p>如下图选择web的版本是2.5，可以自动生成web.xml配置文件，</p>
<p><img src="./images/初探SpringMVC，走进SpringMVC的世界5.png" alt="在这里插入图片描述" /></p>
<p>创建效果如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界6.png" alt="在这里插入图片描述" /></p>
<h5 id="导入jar包">1.3.2.导入jar包</h5>
<p>从课前资料中导入springMVC的jar包，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界7.png" alt="在这里插入图片描述" /></p>
<p>复制jar到lib目录，工程直接加载jar包，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界8.png" alt="在这里插入图片描述" /></p>
<h5 id="加入配置文件">1.3.3.加入配置文件</h5>
<p>创建config资源文件夹，存放配置文件，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界9.png" alt="在这里插入图片描述" /></p>
<h6 id="创建springmvc.xml">1.3.3.1.创建springmvc.xml</h6>
<p>创建SpringMVC的核心配置文件springmvc.xml<br />
SpringMVC本身就是Spring的子项目，对Spring兼容性很好，不需要做很多配置。<br />
这里只配置一个Controller扫描就可以了，让Spring对页面控制层Controller进行管理。</p>
<p>创建springmvc.xml</p>
<pre><code><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;
&lt;/beans&gt;</code></code></pre>
<h6 id="springmvc.xml中配置处理器适配器handleradapter">1.3.3.2.springmvc.xml中配置处理器适配器HandlerAdapter</h6>
<p>因为处理器Handler要根据适配器的要求来开发，所以我们先配置一下适配器HandlerAdapter，在springmvc.xml中配置：</p>
<pre><code><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;

    &lt;!-- 处理器适配器：HandlerAdapter。所有处理器适配器都实现了HandlerAdapter接口--&gt;
    &lt;!-- SimpleControllerHandlerAdapter适配器能执行实现了Controller接口的Handler 
    所以，现在配置了这个适配器的话，所有的处理器Handler必须要实现Controller接口才行。
--&gt;
    &lt;bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot; /&gt; 
&lt;/beans&gt;</code></code></pre>
<h6 id="springmvc.xml中配置处理器映射器handlermapping">1.3.3.3.springmvc.xml中配置处理器映射器HandlerMapping</h6>
<p><img src="./images/初探SpringMVC，走进SpringMVC的世界10.png" alt="在这里插入图片描述" /></p>
<h6 id="web.xml中配置视图解析器viewresolver">1.3.3.4.web.xml中配置视图解析器ViewResolver</h6>
<p>配置视图解析器ViewResolver，这样就可以解析jsp了<br />
<font color=red>最终jsp物理地址：前缀+逻辑视图名+后缀</font></p>
<p>配置视图解析器ViewResolver代码：</p>
<pre><code><code> &lt;!-- 视图解释器 --&gt;
        &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
              &lt;!-- 前缀 --&gt;
            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt;
              &lt;!-- 后缀 --&gt;
            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;
        &lt;/bean&gt;</code></code></pre>
<h6 id="web.xml中总体效果代码">1.3.3.5.web.xml中总体效果代码</h6>
<p>web.xml中总体要包含：</p>
<p>1、springmvc.xml的 “头”</p>
<p>2、组件扫描配置处理器<font color=red><strong>handler</strong></font>（controller）</p>
<p>3、处理器适配器<font color=red>HandlerAdapter</font></p>
<p>4、处理器映射器<font color=red>HandlerMapping</font></p>
<p>5、视图解析器<font color=red>ViewResolver</font></p>
<p>web.xml中总体效果代码如下：</p>
<pre><code><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:p=&quot;http://www.springframework.org/schema/p&quot;
    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd
        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd&quot;&gt;
        
  &lt;!-- 扫描@Controler  @Service   --&gt;
        &lt;context:component-scan base-package=&quot;com.gx.springmvc&quot;/&gt;
      
        &lt;!-- 处理器映射器 --&gt;
        &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;/&gt;
      
        &lt;!-- 处理器适配器 --&gt;
        &lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;/&gt;
       
        &lt;!-- 视图解释器 --&gt;
        &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
              &lt;!-- 前缀 --&gt;
            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt;
              &lt;!-- 后缀 --&gt;
            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;
        &lt;/bean&gt;
   &lt;/beans&gt;</code></code></pre>
<p>配置文件需要的约束文件，位置如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界11.png" alt="在这里插入图片描述" /></p>
<p>创建包com.gx.springmvc.controller</p>
<h6 id="在web.xml中配置前端控制器dispatcherservlet">1.3.3.6.在web.xml中配置前端控制器DispatcherServlet</h6>
<p>配置SpringMVC的前端控制器DispatcherServlet<br />
在web.xml中</p>
<pre><code><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;
    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;
    id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;
    &lt;display-name&gt;springmvc-first&lt;/display-name&gt;
    &lt;welcome-file-list&gt;
        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;
        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;
        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;
        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;
        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;
    &lt;/welcome-file-list&gt;

    &lt;!-- 配置SpringMVC前端控制器 --&gt;
    &lt;servlet&gt;
        &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;
        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
        &lt;!-- 指定SpringMVC配置文件 --&gt;
        &lt;!-- SpringMVC的配置文件的默认路径是/WEB-INF/${servlet-name}-servlet.xml --&gt;
        &lt;init-param&gt;
            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
            &lt;param-value&gt;classpath:springmvc.xml&lt;/param-value&gt;
        &lt;/init-param&gt;
    &lt;/servlet&gt;

    &lt;servlet-mapping&gt;
        &lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;
        &lt;!-- 设置所有以action结尾的请求进入SpringMVC --&gt;
        &lt;url-pattern&gt;*.action&lt;/url-pattern&gt;
    &lt;/servlet-mapping&gt;
&lt;/web-app&gt;
</code></code></pre>
<p>从上面的配置中可以看出，和以前学习servlet时候的配置基本上一模一样，前端控制器就相当于一个servlet</p>
<p><strong>重点注意：</strong></p>
<p>1、配置<font color=red><strong>contextConfigLocation</strong></font>：用来加载springmvc的配置文件（配置处理器映射器、适配器等）</p>
<p>不配置contextConfigLocation，则<font color=red>默认加载WEB-INF/[DispatcherServlet的Servlet名字]-servlet.xml </font></p>
<p>所以处理器映射器和处理器适配器都会配在classpath下我们指定的springmvc.xml中。<br />
　　<br />
2、<font color=red><strong>DispatcherServlet的拦截方式</strong></font>，主要有三种拦截方式，如下：</p>
<blockquote>
<p>方式一：<font color=red> *.action </font>， 可以访问以.action结尾的地址，由DispatcherServlet进行解析。此方法最简单，不会导致静态资源（jpg,js,css）被拦截。【开发中经常使用】<br />
方式二：<font color=red>/ </font> ，所有访问的地址都由DispatcherServlet进行解析，此方法可以实现REST风格的url，很多互联网类型的应用使用这种方式。但是此方法会导致静态文件（jpg,js,css）被拦截后不能正常显示，所以对静态文件的解析需要配置不让DispatcherServlet进行解析。【开发中建议使用】</p>
<p>方式三：<font color=red> * </font>，这样配置是不对的，使用这种配置，最重要转发到一个jsp页面时，仍然会由DispatcherServlet解析jsp地址，不能根据jsp页面找到Handler，会报错。【开发中不建议使用】</p>
</blockquote>
<h4 id="加入jsp页面">1.3.4.加入jsp页面</h4>
<p>jsp创建到工程的/WEB-INF/jsp目录下，jsp如下：</p>
<pre><code><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot;  prefix=&quot;fmt&quot;%&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;title&gt;查询商品列表&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt; 
&lt;form action=&quot;${pageContext.request.contextPath }/item/queryitem.action&quot; method=&quot;post&quot;&gt;
查询条件：
&lt;table width=&quot;100%&quot; border=1&gt;
&lt;tr&gt;
&lt;td&gt;&lt;input type=&quot;submit&quot; value=&quot;查询&quot;/&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
商品列表：
&lt;table width=&quot;100%&quot; border=1&gt;
&lt;tr&gt;
    &lt;td&gt;商品名称&lt;/td&gt;
    &lt;td&gt;商品价格&lt;/td&gt;
    &lt;td&gt;生产日期&lt;/td&gt;
    &lt;td&gt;商品描述&lt;/td&gt;
    &lt;td&gt;操作&lt;/td&gt;
&lt;/tr&gt;
&lt;c:forEach items=&quot;${itemList }&quot; var=&quot;item&quot;&gt;
&lt;tr&gt;
    &lt;td&gt;${item.name }&lt;/td&gt;
    &lt;td&gt;${item.price }&lt;/td&gt;
    &lt;td&gt;&lt;fmt:formatDate value=&quot;${item.createtime}&quot; pattern=&quot;yyyy-MM-dd HH:mm:ss&quot;/&gt;&lt;/td&gt;
    &lt;td&gt;${item.detail }&lt;/td&gt;
    
    &lt;td&gt;&lt;a href=&quot;${pageContext.request.contextPath }/itemEdit.action?id=${item.id}&quot;&gt;修改&lt;/a&gt;&lt;/td&gt;

&lt;/tr&gt;
&lt;/c:forEach&gt;

&lt;/table&gt;
&lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;</code></code></pre>
<h4 id="实现显示商品列表页">1.3.5.实现显示商品列表页</h4>
<h6 id="创建pojo">1.3.5.1.创建pojo</h6>
<p>分析页面，查看页面需要的数据，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界12.png" alt="在这里插入图片描述" /></p>
<p>创建商品pojo</p>
<pre><code><code>public class Item {
    // 商品id
    private int id;
    // 商品名称
    private String name;
    // 商品价格
    private double price;
    // 商品创建时间
    private Date createtime;
    // 商品描述
    private String detail;

创建带参数的构造器
set/get。。。
}</code></code></pre>
<h6 id="创建普通java类itemcontroller">1.3.5.2.创建普通java类ItemController</h6>
<p>1、ItemController是一个普通的java类，<font color=red>不需要实现任何接口。</font></p>
<p>2、需要在<font color=red><strong>类上</strong>添加@Controller注解</font>，在1.3.3.1.创建springmvc.xml中已经配置 扫描了Controller包，所以直接交由Spring管理</p>
<p>3、在<font color=red><strong>方法上</strong>面添加@RequestMapping注解</font>，里面指定请求的url。其中“.action”可以加也可以不加。</p>
<p>4、由于是入门程序，就暂时不连接数据库，<font color=red>modelAndView.addObject</font>给其页面设置并赋值（ 利用集合）</p>
<pre><code><code>@Controller
public class ItemController {

    // @RequestMapping：里面放的是请求的url，和用户请求的url进行匹配
    // action可以写也可以不写
        // 创建页面需要显示的商品数据
    @RequestMapping(value = &quot;/item/itemlist.action&quot;)
    public ModelAndView itemList(){
        List&lt;Items&gt; list= new ArrayList&lt;Items&gt;();
        list.add(new Items (1,&quot;XiaoMi 9&quot;,233f,new Date(),&quot;hhh1&quot;));
        list.add(new Items (2,&quot;XiaoMi 8&quot;,233f,new Date(),&quot;hhh1&quot;));
        list.add(new Items (3,&quot;XiaoMi 7&quot;,233f,new Date(),&quot;hhh1&quot;));
        list.add(new Items (4,&quot;XiaoMi 6&quot;,233f,new Date(),&quot;hhh1&quot;));

        // 创建ModelAndView，用来存放数据和视图
        ModelAndView modelAndView = new ModelAndView();
        // 设置数据到模型中
        modelAndView.addObject(&quot;itemList&quot;, list); //第一个参数要对应JSP中的${value}
        // 设置视图jsp，需要设置视图的物理地址
        modelAndView.setViewName(&quot;/WEB-INF/jsp/itemList.jsp&quot;);

        return modelAndView;
    }
}</code></code></pre>
<h4 id="启动项目测试">1.3.6.启动项目测试</h4>
<p>启动项目，浏览器访问地址<br />
http://localhost:8080/springMVC/item/itemlist.action<br />
效果如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界13.png" alt="在这里插入图片描述" /></p>
<h4 id="org.springframework.web.servlet.dispatcherservlet-nohandlerfound">1.3.7.org.springframework.web.servlet.DispatcherServlet noHandlerFound</h4>
<p>当然并不是每个小白都能一次就测试失败的，很幸运，你就是万中无一的小白QAQ，我没猜错的话，兄嘚，你报了org.springframework.web.servlet.DispatcherServlet noHandlerFound<br />
警告: No mapping found for HTTP request with URI [/springMVC/iteam/itemlist.action] in DispatcherServlet with name 'springMVC'<br />
如果异常了，95%是这个异常，不要问我为什么，厂长是我表锅..咳咳，这个异常就比较易出现，我就举几个出现该异常的情况吧，中枪的自觉双击关注评论666</p>
<p>1、在 web.xml 中对 springDispatcherServlet 的配置出错</p>
<p>2、Handler 类没有加上 @Controller 注解，处理器将不会扫描该类是否使用了 @RequestMapping 注解。</p>
<p>3、@RequestMapping 的值和在<font color=red>浏览器输入的地址</font>不一致</p>
<p>4、访问静态资源时，请求会被 DispatcherServlet 拦截器拦截</p>
<p>5、检查配置文件，一定是有些地方路径没有对应上</p>
<p>如果入门程序成功了，那么恭喜恭喜，请进行下一步的探索</p>
<h2 id="springmvc架构">2.springMVC架构</h2>
<h4 id="springmvc的架构图">2.1springMVC的架构图</h4>
<p>咳咳..兄台你是不是很好奇上面的springMVC程序为什么可以那样用呢？好奇就对了，那就需要分析一下springMVC的架构图了，嘤嘤嘤QAQ</p>
<p><img src="./images/初探SpringMVC，走进SpringMVC的世界14.png" alt="在这里插入图片描述" /></p>
<h4 id="架构流程">2.2.架构流程</h4>
<p>1、用户发送请求至<font color=red>前端控制器DispatcherServlet</font></p>
<p>2、DispatcherServlet收到请求调用<font color=red>HandlerMapping处理器映射器。</font></p>
<p>3、处理器映射器根据请求url找到具体的处理器，生成处理器对象及处理器拦截器(如果有则生成)一并返回给DispatcherServlet。</p>
<p>4、DispatcherServlet通过HandlerAdapter处理器适配器调用处理器</p>
<p>5、执行处理器(Controller，也叫后端控制器)。</p>
<p>6、Controller执行完成返回ModelAndView</p>
<p>7、HandlerAdapter将controller执行结果ModelAndView返回给DispatcherServlet</p>
<p>8、DispatcherServlet将ModelAndView传给ViewReslover视图解析器</p>
<p>9、ViewReslover解析后返回具体View</p>
<p>10、DispatcherServlet对View进行渲染视图（即将模型数据填充至视图中）。</p>
<p>11、DispatcherServlet响应用户</p>
<h4 id="springmvc组件说明">2.3.springmvc组件说明</h4>
<p>在springmvc的各个组件中，<font color=red>处理器映射器、处理器适配器、视图解析器称为springmvc的<strong>三大组件</strong>。</font></p>
<p>以下组件通常使用框架提供实现：</p>
<p><font color=red>DispatcherServlet：前端控制器</font><br />
用户请求到达前端控制器，它就相当于mvc模式中的c，dispatcherServlet是整个流程控制的中心，由它调用其它组件处理用户的请求，dispatcherServlet的存在降低了组件之间的耦合性。</p>
<p><font color=red>HandlerMapping：处理器映射器</font><br />
HandlerMapping负责根据用户请求url找到Handler即处理器，springmvc提供了不同的映射器实现不同的映射方式，例如：配置文件方式，实现接口方式，注解方式等。</p>
<p><font color=red>Handler：处理器</font><br />
Handler 是继DispatcherServlet前端控制器的后端控制器，在DispatcherServlet的控制下Handler对具体的用户请求进行处理。<br />
由于Handler涉及到具体的用户业务请求，所以一般情况需要程序员根据业务需求开发Handler。</p>
<p><font color=red>HandlAdapter：处理器适配器</font><br />
通过HandlerAdapter对处理器进行执行，这是适配器模式的应用，通过扩展适配器可以对更多类型的处理器进行执行。<br />
下图是许多不同的适配器，最终都可以使用usb接口连接<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界15.png" alt="在这里插入图片描述" /></p>
<p><font color=red>ViewResolver：视图解析器</font><br />
View Resolver负责将处理结果生成View视图，View Resolver首先根据逻辑视图名解析成物理视图名即具体的页面地址，再生成View视图对象，最后对View进行渲染将处理结果通过页面展示给用户。</p>
<p>View：视图<br />
springmvc框架提供了很多的View视图类型的支持，包括：jstlView、freemarkerView、pdfView等。我们最常用的视图就是jsp。</p>
<p>一般情况下需要通过页面标签或页面模版技术将模型数据通过页面展示给用户，需要由程序员根据业务需求开发具体的页面。</p>
<p><font color=red>需要用户开发的组件有<strong>handler、view</strong></font></p>
<h4 id="默认加载的组件了解">2.4.默认加载的组件（了解）</h4>
<p>我们没有做任何配置，就可以使用这些组件<br />
因为框架已经默认加载这些组件了，配置文件位置如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界16.png" alt="在这里插入图片描述" /></p>
<p>代码如下：</p>
<pre><code><code># Default implementation classes for DispatcherServlet&#39;s strategy interfaces.
# Used as fallback when no matching beans are found in the DispatcherServlet context.
# Not meant to be customized by application developers.

org.springframework.web.servlet.LocaleResolver=org.springframework.web.servlet.i18n.AcceptHeaderLocaleResolver

org.springframework.web.servlet.ThemeResolver=org.springframework.web.servlet.theme.FixedThemeResolver

org.springframework.web.servlet.HandlerMapping=org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,\
    org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping

org.springframework.web.servlet.HandlerAdapter=org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,\
    org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,\
    org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter

org.springframework.web.servlet.HandlerExceptionResolver=org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerExceptionResolver,\
    org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver,\
    org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver

org.springframework.web.servlet.RequestToViewNameTranslator=org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator

org.springframework.web.servlet.ViewResolver=org.springframework.web.servlet.view.InternalResourceViewResolver

org.springframework.web.servlet.FlashMapManager=org.springframework.web.servlet.support.SessionFlashMapManager
</code></code></pre>
<h4 id="组件扫描器">2.5.组件扫描器</h4>
<p>组件扫描器主要作用：<font color=red>使用组件扫描器省去在spring容器配置每个Controller类的繁琐</font>。</p>
<p>使用<font color=red>&lt; context:component-scan &gt;自动扫描标记@Controller的控制器类，</font></p>
<p>组件扫描器在springmvc.xml配置文件中配置如下：</p>
<pre><code><code>&lt;!-- 配置controller扫描包，多个包之间用,分隔 --&gt;
&lt;context:component-scan base-package=&quot;cn.itcast.springmvc.controller&quot; /&gt;</code></code></pre>
<h4 id="注解映射器和适配器">2.6.注解映射器和适配器</h4>
<h6 id="配置处理器映射器">2.6.1.配置处理器映射器</h6>
<p>注解式处理器映射器，对类中标记了<font color=red>@ResquestMapping</font>的方法进行映射。根据@ResquestMapping定义的url匹配@ResquestMapping标记的方法，匹配成功返回HandlerMethod对象给前端控制器。<br />
HandlerMethod对象中封装url对应的方法Method。</p>
<p>从spring3.1版本开始，废除了DefaultAnnotationHandlerMapping的使用，推荐使用RequestMappingHandlerMapping完成注解式处理器映射。</p>
<p>在springmvc.xml配置文件中配置如下：</p>
<pre><code><code>&lt;!-- 配置处理器映射器 --&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot; /&gt;</code></code></pre>
<p>注解描述：<br />
<font color=red><strong>@RequestMapping</strong></font>：定义请求url到处理器功能方法的映射</p>
<h6 id="配置处理器适配器">2.6.2.配置处理器适配器</h6>
<p>注解式处理器适配器，对标记<font color=red>@ResquestMapping</font>的方法进行适配。</p>
<p>从spring3.1版本开始，废除了AnnotationMethodHandlerAdapter的使用，推荐使用RequestMappingHandlerAdapter完成注解式处理器适配。</p>
<p>在springmvc.xml配置文件中配置如下：</p>
<pre><code><code>&lt;!-- 配置处理器适配器 --&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot; /&gt;
</code></code></pre>
<h6 id="注解驱动">2.6.3.注解驱动</h6>
<p>直接配置处理器映射器和处理器适配器比较麻烦，可以使用注解驱动来加载。<br />
SpringMVC使用&lt; mvc:annotation-driven &gt;自动加载RequestMappingHandlerMapping和RequestMappingHandlerAdapter<br />
可以在springmvc.xml配置文件中使用&lt; mvc:annotation-driven &gt;替代注解处理器和适配器的配置。</p>
<pre><code><code>&lt;!-- 注解驱动 --&gt;
&lt;mvc:annotation-driven /&gt;</code></code></pre>
<h4 id="视图解析器">2.7.视图解析器</h4>
<p>视图解析器使用SpringMVC框架默认的InternalResourceViewResolver，这个视图解析器支持JSP视图解析<br />
在springmvc.xml配置文件中配置如下：</p>
<pre><code><code>    &lt;!-- Example: prefix=&quot;/WEB-INF/jsp/&quot;, suffix=&quot;.jsp&quot;, viewname=&quot;test&quot; -&gt; 
        &quot;/WEB-INF/jsp/test.jsp&quot; --&gt;
    &lt;!-- 配置视图解析器 --&gt;
    &lt;bean
        class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;!-- 配置逻辑视图的前缀 --&gt;
        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt;
        &lt;!-- 配置逻辑视图的后缀 --&gt;
        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;
    &lt;/bean&gt;</code></code></pre>
<p>逻辑视图名需要在controller中返回ModelAndView指定，比如逻辑视图名为ItemList，则最终返回的jsp视图地址: “WEB-INF/jsp/itemList.jsp”</p>
<p><font color=red>最终jsp物理地址：<strong>前缀+逻辑视图名+后缀</strong></font></p>
<h6 id="修改handler-itemcontroller">2.7.1.修改Handler (ItemController )</h6>
<p>修改ItemController中设置视图的代码<br />
<font color=red>@RequestMapping</font>：里面放的是请求的url，和用户请求的url进行匹配<br />
// action可以写也可以不写</p>
<pre><code><code>package com.gx.springmvc;

import java.util.ArrayList;
import java.util.Date;
import java.util.List;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;


import com.gx.po.Items;
@Controller
public class ItemController {
    @RequestMapping(value = &quot;/item/itemlist.action&quot;)
    public ModelAndView itemList(){
        List&lt;Items&gt; list= new ArrayList&lt;Items&gt;();
        list.add(new Items (1,&quot;XiaoMi 9&quot;,233f,new Date(),&quot;hhh1&quot;));
        list.add(new Items (2,&quot;XiaoMi 8&quot;,233f,new Date(),&quot;hhh1&quot;));
        list.add(new Items (3,&quot;XiaoMi 7&quot;,233f,new Date(),&quot;hhh1&quot;));
        list.add(new Items (4,&quot;XiaoMi 6&quot;,233f,new Date(),&quot;hhh1&quot;));
        
        ModelAndView mav= new ModelAndView();
        
        mav.addObject(&quot;itemList&quot;,list);
        mav.setViewName(&quot;itemList&quot;);
        return mav;
    }
}
</code></code></pre>
<h6 id="效果">2.7.2.效果</h6>
<p>效果和之前一样，如下图：<br />
<img src="./images/初探SpringMVC，走进SpringMVC的世界17.png" alt="在这里插入图片描述" /><br />
到这里兄嘚，springMVC的入门程序以及SpringMVC架构就有了一定的了解！是不是觉得很有成就感</p>
<p>啊? 拉倒吧! 我都不好意思说了.但是我是阻止不了你骄傲的心. 那就顶我,让我感受感受你的骄傲!哈哈</p>
<p>哈...哈哈..啊..咳咳..嗝气了QAQ...</p>
<h4 id="结语">2.8结语</h4>
<p>我希望各位最好是按照以上思路自己去<font color=red><strong>动手敲一遍，走一个流程</strong></font>，切勿眼高手低（你会发现一动手就bug成堆），学编程最忌讳的就是眼高手低！！！</p>
<p><strong>如果本文对你有一点点帮助，那么请点个赞呗，谢谢~</strong></p>
<blockquote>
<p><strong>最后，若有不足或者不正之处，欢迎指正批评，感激不尽！如果有疑问欢迎留言，绝对第一时间回复！</strong></p>
</blockquote>
<p>欢迎各位关注我的公众号，一起探讨技术，向往技术，追求技术，说好了来了就是盆友喔...</p>
<p><img src="./images/初探SpringMVC，走进SpringMVC的世界18.png" alt="在这里插入图片描述" /></p>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>