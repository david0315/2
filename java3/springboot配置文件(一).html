<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修springboot配置文件(一)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>springboot配置文件(一)</center></div><div class='banquan'>原文出处:本文由博客园博主隐市高手提供。<br/>
原文连接:https://www.cnblogs.com/java-diaosi/p/12009140.html</div><br>
    <h4 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 20px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 28px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">一、YAML语法</h4>
<h5 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 18px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">1、基本语法</h5>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">k 空格 v 表示一对键值对（必须有空格），以空格的缩进来控制层级关系，只要是左对齐的一列数据，都表示同一个层级。属性和值大小写敏感</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">1</span> <span style="color: #000000;">server:
</span><span style="color: #008080;">2</span>     port: 8081
<span style="color: #008080;">3</span>     servlet-path: /hello</code></pre>

<h5 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 18px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">2、值的规则</h5>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">① 字面量： 普通值</span><br style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;" /><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">② 字符串默认不用加上单引号和双引号</span><br style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;" /><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">③ 双引号不会转义字符串里面的特殊字符，也就是说如果字符串中有一个 \n 那么就会换行</span><br style="box-sizing: border-box; outline: 0px; margin: 0px; padding: 0px; overflow-wrap: break-word; color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;" /><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">④ 单引号会转义特殊字符，特殊字符最终只是一个普通字符串数据</span></p>
<h5 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 18px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">3、对象的写法</h5>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">比如有一个对象Person和一个Dog对象，如下：</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String username;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Integer age;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Boolean boss;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Date birth;

    </span><span style="color: #0000ff;">private</span> Map&lt;String,Object&gt;<span style="color: #000000;"> maps;
    </span><span style="color: #0000ff;">private</span> List&lt;Object&gt;<span style="color: #000000;"> lists;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Dog dog;
  </span><span style="color: #008000;">//</span><span style="color: #008000;">get set toString 方法</span>
<span style="color: #000000;"> }
 </span></code></pre>

<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Dog {
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Integer age;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">get set toString 方法</span>
}</code></pre>

<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">application.yml配置文件</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">person:
  username: lwb
  age: 18
  boss: true
  birth: 2019/12/8
  maps: {name: wt, age: 16}
  lists: [lwb, wt]
  dog:
    name: 小狗
    age: 3</span></code></pre>

<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">上面的代码就是给对象Person 配置注入值的yaml写法</span></p>
<h5 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 18px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 26px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">4、多种写法</h5>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">yaml中，按照缩进来控制层级，但是对象、map、数组、List、set等也可以有另一种写法。</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">#对象行内写法
person: {username: zhangsan,age: </span>20<span style="color: #000000;">}
#数组（List、Set）
pets:
  ‐ cat
  ‐ dog
  ‐ pig
#或者
pets: [cat,dog,pig]</span></code></pre>

<h4 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 20px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 28px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">二、application.properties写法回顾实例</h4>
<src class="cnblogs_code">
<pre><code>person.age=18<span style="color: #000000;">
person.birth</span>=2019/12/7<span style="color: #000000;">
person.boss</span>=<span style="color: #0000ff;">true</span><span style="color: #000000;">
person.maps.k1</span>=<span style="color: #000000;">wt
person.maps.k2</span>=19<span style="color: #000000;">
person.dog.name</span>=<span style="color: #000000;">小狗
person.dog.age</span>=3<span style="color: #000000;">
person.lists</span>=a,b,c</code></pre>

<h4 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 20px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 28px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">三、配置文件注入</h4>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">要将配置文件中的值注入到javabean对象在，需要确定导入</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>org.springframework.boot<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>
       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>spring-boot-configuration-processor<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>
       <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">optional</span><span style="color: #0000ff;">&gt;</span>true<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">optional</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span></code></pre>

<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">最终的实验环境为：</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependencies</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>org.springframework.boot<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>spring-boot-starter-web<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>org.springframework.boot<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>spring-boot-configuration-processor<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">optional</span><span style="color: #0000ff;">&gt;</span>true<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">optional</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>org.springframework.boot<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>spring-boot-starter-test<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">scope</span><span style="color: #0000ff;">&gt;</span>test<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">scope</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dependency</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dependencies</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">build</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">plugins</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">plugin</span><span style="color: #0000ff;">&gt;</span>
                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>org.springframework.boot<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">groupId</span><span style="color: #0000ff;">&gt;</span>
                <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>spring-boot-maven-plugin<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">artifactId</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">plugin</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">plugins</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">build</span><span style="color: #0000ff;">&gt;</span></code></pre>

<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">要想将配置文件中的值，自动注入到上面的对象Person中，那么就需要将Person交给Spring来管理。因此需要在Person类上加上两个spring的注解：</span></p>
<src class="cnblogs_code">
<pre><code>@ConfigurationProperties(prefix = "person"<span style="color: #000000;">)
@Component
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
</span><span style="color: #008000;">//</span><span style="color: #008000;">如上面的属性</span>
}</code></pre>

<p>@ConfigurationProperties：告诉SpringBoot将本类中的所有属性和配置文件中相关的配置进行绑定，prefix = &ldquo;person&rdquo;：配置文件中哪个下面的所有属性进行一一映射。有了上面的配置，那么就可以在我们想获取Person对象的地方自动注入Person对象，并且初始值和配置文件中的配置一致</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">@Service
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> PersonService {
    @Autowired
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Person person;
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> getPerson() {
        System.out.println(person);
    }
}</span></code></pre>

<h4 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 20px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 28px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">四、application.properties写法出现乱码</h4>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">如二中，使用application.properties的写法所示，其实获取到的汉字可能是乱码，具体解决配置方式如下：</span></p>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;"><img src="./images/springboot配置文件(一)0.png" alt="" /></span></p>
<p>&nbsp;<span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">并且在application.properties文件中加上如下的配置：</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">spring.http.encoding.charset=utf-8
spring.http.encoding.force=true
spring.http.encoding.enabled=true</span></code></pre>

<h4 style="box-sizing: border-box; outline: 0px; margin: 8px 0px 16px; padding: 0px; font-size: 20px; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; color: #4f4f4f; line-height: 28px; overflow-wrap: break-word; font-variant-ligatures: common-ligatures;">五、使用@Value来设置值</h4>
<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">可以使用spring原生注解@Value来注入值</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">@Component
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    @Value(</span>"${person.username}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String username;
    @Value(</span>"#{11 * 2}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Integer age;
    @Value(</span>"true"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Boolean boss;
    @Value(</span>"${person.birth}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Date birth;
    </span><span style="color: #0000ff;">private</span> Map&lt;String,Object&gt;<span style="color: #000000;"> maps;
    </span><span style="color: #0000ff;">private</span> List&lt;Object&gt;<span style="color: #000000;"> lists;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Dog dog;
    </span><span style="color: #008000;">//</span><span style="color: #008000;">get set toString</span>
 }</code></pre>

<p><img src="./images/springboot配置文件(一)1.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;<span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">由上例子可以看见，所有的设置值都是简单类型的，如果给maps、lists、dog也加上注入值标签，会出现什么结果呢？</span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">@Component
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Person {
    @Value(</span>"${person.username}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String username;
    @Value(</span>"#{11 * 2}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Integer age;
    @Value(</span>"true"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Boolean boss;
    @Value(</span>"${person.birth}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Date birth;
    @Value(</span>"${person.maps}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span> Map&lt;String,Object&gt;<span style="color: #000000;"> maps;
    @Value(</span>"${person.lists}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span> List&lt;Object&gt;<span style="color: #000000;"> lists;
    @Value(</span>"${person.dog}"<span style="color: #000000;">)
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Dog dog;
    </span><span style="color: #008000;">//</span><span style="color: #008000;"> get set toString方法</span>
}</code></pre>

<src class="cnblogs_code">
<pre><code><span style="color: #000000;">java.lang.IllegalStateException: Failed to load ApplicationContext
    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:</span>132<span style="color: #000000;">)
    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:</span>123<span style="color: #000000;">)
    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:</span>190<span style="color: #000000;">)
    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:</span>132<span style="color: #000000;">)
    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:</span>244<span style="color: #000000;">)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:</span>227<span style="color: #000000;">)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$</span>1.runReflectiveCall(SpringJUnit4ClassRunner.java:289<span style="color: #000000;">)
    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:</span>12<span style="color: #000000;">)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:</span>291<span style="color: #000000;">)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:</span>246<span style="color: #000000;">)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:</span>97<span style="color: #000000;">)
    at org.junit.runners.ParentRunner$</span>3.run(ParentRunner.java:290<span style="color: #000000;">)
    at org.junit.runners.ParentRunner$</span>1.schedule(ParentRunner.java:71<span style="color: #000000;">)
    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:</span>288<span style="color: #000000;">)
    at org.junit.runners.ParentRunner.access$</span>000(ParentRunner.java:58<span style="color: #000000;">)
    at org.junit.runners.ParentRunner$</span>2.evaluate(ParentRunner.java:268<span style="color: #000000;">)
    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:</span>61<span style="color: #000000;">)
    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:</span>70<span style="color: #000000;">)
    at org.junit.runners.ParentRunner.run(ParentRunner.java:</span>363<span style="color: #000000;">)
    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:</span>190<span style="color: #000000;">)
    at org.junit.runner.JUnitCore.run(JUnitCore.java:</span>137<span style="color: #000000;">)
    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:</span>68<span style="color: #000000;">)
    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:</span>47<span style="color: #000000;">)
    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:</span>242<span style="color: #000000;">)
    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:</span>70<span style="color: #000000;">)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name </span>'person': Injection of autowired dependencies failed; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'person.maps' in value "${person.maps}"</code></pre>

<p><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">可以看见直接报错，其实@ConfigurationProperties和@Value是有区别的，具体如下：</span></p>
<table style="height: 180px; width: 800px; border-color: #58a670; border-width: 0px; background-color: #baf9fc; border-style: solid;" dir="ltr" border="0" frame="border" rules="all" align="center">
<tbody>
<tr><th>&nbsp;</th><th>@ConﬁgurationProperties</th><th>@Value</th></tr>
<tr>
<td>功能</td>
<td>批量注入配置文件中的属性</td>
<td>一个个指定</td>
</tr>
<tr>
<td>松散绑定（松散语法）(lastName --&gt; last-name)</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>SpEL</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>JSR303数据校验</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>复杂类型封装</td>
<td>支持</td>
<td>不支持</td>
</tr>
</tbody>
</table>
<p>&nbsp;<span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">配置文件yml还是properties他们都能获取到值；</span><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">如果说，我们只是在某个业务逻辑中需要获取一下配置文件中的某项值，使用@Value；</span><em id="__mceDel"><span style="color: #4d4d4d; font-family: 'Microsoft YaHei', 'SF Pro Display', Roboto, Noto, Arial, 'PingFang SC', sans-serif; font-size: 16px; font-variant-ligatures: common-ligatures;">如果说，我们专门编写了一个javaBean来和配置文件进行映射，我们就直接使用@ConﬁgurationProperties；</span></em></p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>