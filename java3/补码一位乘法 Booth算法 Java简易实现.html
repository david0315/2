<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修补码一位乘法 Booth算法 Java简易实现' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>补码一位乘法 Booth算法 Java简易实现</center></div><div class='banquan'>原文出处:本文由博客园博主Alex_Jintan提供。<br/>
原文连接:https://www.cnblogs.com/xiaohu12138/p/11955619.html</div><br>
    <p style="text-align: left;"><span style="font-size: 18.6667px;"><strong>本文链接：<a class="ng-star-inserted" href="https://www.cnblogs.com/xiaohu12138/p/11955619.html" target="_blank">https://www.cnblogs.com/xiaohu12138/p/11955619.html</a>。</strong></span></p>
<p style="text-align: left;"><span style="font-size: 18.6667px;"><strong>转载，请说明出处。</strong></span></p>
<p style="text-align: left;"><strong><span style="font-size: 14pt;">本</span></strong><strong><span style="font-size: 14pt;">程序为简易实现补码一位乘法，若代码中存在错误，可指出，本人会不定期修改。</span></strong></p>
<p style="text-align: left;">&nbsp;</p>
<p style="text-align: left;"><span style="font-size: 14px;">简易大纲：</span></p>
<p><strong><span style="font-size: 14pt;"><img style="float: left;" src="./images/补码一位乘法 Booth算法 Java简易实现0.png" alt="" /></span></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>代码实现：</p>
<p>package self_make;</p>
<p>import java.util.Scanner;</p>
<p>//补码一位乘法（布斯算法：booth algorithm）<br />public class booth_test {<br />	static Scanner scanofX;<br />	static Scanner scanofY;</p>
<p>	public static void main(String[] args) {<br />//输入区</p>
<p>		// 键入X值<br />		while (true) {<br />			System.out.print("请输入小于7位的定点数X:");<br />			scanofX = new Scanner(System.in);<br />			String x = scanofX.nextLine();<br />			char X[] = x.toCharArray(); // 将字符串变成字符数组<br />			char Xn[] = x.toCharArray();</p>
<p>			// 检查输入的值是否符合<br />			if (check(X) == false) {<br />				continue;<br />			}<br />			// 键入Y值<br />			System.out.print("请输入小于7位的定点数Y:");<br />			scanofY = new Scanner(System.in);<br />			String y = scanofY.nextLine();</p>
<p>			char Y[] = y.toCharArray();<br />			if (check(Y) == false) {<br />				continue;<br />			}</p>
<p>//初始化区<br />			int ycount = 0; // 用于截取y值<br />			int ccount = 0; // 用于记录移位乘法操作次数<br />			char getfA[] = new char[5];</p>
<p>			// 真值为负数<br />			// [-X]补<br />			if (X[0] == '-') {<br />				Xn[0] = '0';<br />				for (int i = 1; i &lt;= X.length - 1; i++) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />					} else if (Xn[i] == '0' &amp; Xn[i] != '.') {<br />						Xn[i] = '0';<br />					} else {<br />						Xn[i] = '.';<br />					}<br />				}<br />				// [X]补<br />				X[0] = '1';<br />				int countx = 0; // 记录从右至左第一位数值为1的下标<br />				for (int i = X.length - 1; i &gt; 0; i--) {<br />					if (X[i] == '1') {<br />						X[i] = '1';<br />						countx = i;<br />						break;<br />					}<br />				}<br />				// 下标左边按位取反<br />				for (int i = 1; i &lt; countx; i++) {<br />					if (X[i] == '1' &amp;&amp; X[i] != '.') {<br />						X[i] = '0';<br />					} else if (X[i] == '0' &amp;&amp; X[i] != '.') {<br />						X[i] = '1';<br />					} else {<br />						X[i] = '.';<br />					}<br />				}<br />				// 下标右边不变<br />				for (int i = countx; i &lt;= X.length - 1; i++) {<br />					if (X[i] == '1') {<br />						X[i] = '1';<br />					} else if (X[i] == '0') {<br />						X[i] = '0';<br />					}<br />				}<br />				System.out.print("[X]补为:");<br />				for (int i = 0; i &lt; X.length; i++) {<br />					System.out.print(X[i]);<br />				}<br />				System.out.print("\t[-X]补为:");<br />				for (int i = 0; i &lt; Xn.length; i++) {<br />					System.out.print(Xn[i]);<br />				}<br />			}<br />			// 若真值为正数,正数补码为本身<br />			else if (X[0] == '+') {<br />				X[0] = '0';<br />				System.out.print("[X]补为:");<br />				for (int i = 0; i &lt; X.length; i++) {<br />					System.out.print(X[i]);<br />				}<br />				// 当乘数X真值为正时，对Xn进行操作<br />				char Xn1[] = new char[Xn.length + 1];<br />				for (int i = Xn.length - 2; i &gt;= 0; i--) {<br />					Xn1[i + 1] = Xn[i];<br />				}<br />				Xn[0] = '1';<br />				int countXn = 0; // 记录从右至左第一位数值为1的下标<br />				for (int i = Xn.length - 1; i &gt; 0; i--) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />						countXn = i;<br />						break;<br />					}<br />				}<br />				// 下标左边按位取反<br />				for (int i = 1; i &lt; countXn; i++) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '0';<br />					} else if (Xn[i] == '0' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />					} else {<br />						Xn[i] = '.';<br />					}<br />				}<br />				// 下标右边不变<br />				for (int i = countXn; i &lt;= Xn.length - 1; i++) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />					} else if (Xn[i] == '0' &amp; Xn[i] != '.') {<br />						Xn[i] = '0';<br />					}<br />				}<br />				System.out.print("\t[-X]补为:");<br />				for (int i = 0; i &lt; Xn.length; i++) {<br />					System.out.print(Xn[i]);<br />				}<br />			} else if (X[0] == '0') {<br />				String xtemp = String.valueOf(X);<br />				xtemp = "0" + xtemp;<br />				X = xtemp.toCharArray();<br />				System.out.print("[X]补为:");<br />				for (int i = 0; i &lt; X.length; i++) {<br />					System.out.print(X[i]);<br />				}<br />				// Xn<br />				Xn = xtemp.toCharArray();<br />				Xn[0] = '1';<br />				int countXn = 0; // 记录从右至左第一位数值为1的下标<br />				for (int i = Xn.length - 1; i &gt; 0; i--) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />						countXn = i;<br />						break;<br />					}<br />				}<br />				// 下标左边按位取反<br />				for (int i = 1; i &lt; countXn; i++) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '0';<br />					} else if (Xn[i] == '0' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />					} else {<br />						Xn[i] = '.';<br />					}<br />				}<br />				// 下标右边不变<br />				for (int i = countXn; i &lt;= Xn.length - 1; i++) {<br />					if (Xn[i] == '1' &amp; Xn[i] != '.') {<br />						Xn[i] = '1';<br />					} else if (Xn[i] == '0' &amp; Xn[i] != '.') {<br />						Xn[i] = '0';<br />					}<br />				}<br />				System.out.print("\t[-X]补为:");<br />				for (int i = 0; i &lt; Xn.length; i++) {<br />					System.out.print(Xn[i]);<br />				}<br />			}<br />			System.out.println();</p>
<p>			// Y值部分<br />			if (Y[0] == '-') {<br />				// 左移覆盖<br />				for (int i = 0; i &lt; Y.length - 2; i++) {<br />					Y[i] = Y[i + 1];<br />				}<br />				Y[Y.length - 1] = 0;<br />				Y[0] = '1';<br />				for (int i = 0; i &lt; Y.length; i++) {<br />					if (Y[i] == 0) {<br />						ycount = i;<br />					}<br />				}<br />				int county = 0; // 记录从右至左第一位数值为1的下标<br />				for (int i = ycount; i &gt; 0; i--) {<br />					if (Y[i] == '1') {<br />						Y[i] = '1';<br />						county = i;<br />						break;<br />					}<br />				}<br />				// 下标左边按位取反<br />				for (int i = 1; i &lt; county; i++) {<br />					if (Y[i] == '1' &amp; Y[i] != '.') {<br />						Y[i] = '0';<br />					} else if (Y[i] == '0' &amp; Y[i] != '.') {<br />						Y[i] = '1';<br />					} else {<br />						Y[i] = '.';<br />					}<br />				}<br />				// 下标右边不变<br />				for (int i = county; i &lt;= ycount; i++) {<br />					if (Y[i] == '1') {<br />						Y[i] = '1';<br />					} else if (Y[i] == '0') {<br />						Y[i] = '0';<br />					}<br />				}<br />				System.out.print("[Y]补为:");<br />				for (int i = 0; i &lt; Y.length; i++) {<br />					System.out.print(Y[i]);<br />				}<br />			}<br />			// 若真值为正数,正数补码为本身<br />			else if (Y[0] == '0') {<br />				ycount = Y.length;<br />				System.out.print("[Y]补为:");<br />				for (int i = 0; i &lt; Y.length; i++) {<br />					System.out.print(Y[i]);<br />				}<br />			} else if (Y[0] == '+') {<br />				ycount = Y.length;<br />				for (int i = 0; i &lt; Y.length - 2; i++) {<br />					Y[i] = Y[i + 1];<br />				}<br />				System.out.print("[Y]补为:");<br />				for (int i = 0; i &lt; Y.length; i++) {<br />					System.out.print(Y[i]);<br />				}</p>
<p>			}</p>
<p>//计算区	<br />			char A[] = { '0', '0', '.', '0', '0', '0', '0' }; // 累加数<br />			char C[] = new char[ycount + 1];//用于CnCn+1的数<br />			for (int i = 0; i &lt; ycount; i++) {<br />				C[i] = Y[i];<br />			}<br />			C[C.length - 1] = '0';<br />			System.out.print("\tC为：");<br />			for (int i = 0; i &lt; C.length; i++) {<br />				System.out.print(C[i]);<br />			}<br />//判断，计算，累加<br />			for (int i = C.length - 2; i &gt; 0; i--) {<br />				if (C[i] == '0' &amp; C[i + 1] == '0' | C[i] == '1' &amp; C[i + 1] == '1') { // CnCn+1为00,11情况<br />					// 右移<br />					getfA[ccount] = A[A.length - 1];<br />					for (int j = A.length - 1; j &gt; 0; j--) {<br />						A[j] = A[j - 1];<br />					}<br />					A[3] = A[0];<br />					A[2] = '.';<br />					ccount++;<br />				} else if (C[i] == '0' &amp; C[i + 1] == '1') { // CnCn+1为01情况<br />					sum(A, X);<br />					getfA[ccount] = A[A.length - 1];<br />					// 右移<br />					for (int j = A.length - 1; j &gt; 0; j--) {<br />						A[j] = A[j - 1];<br />					}<br />					A[3] = A[0];<br />					A[2] = '.';<br />					ccount++;<br />				} else if (C[i] == '1' &amp; C[i + 1] == '0') { // CnCn+1为10情况<br />					sum(A, Xn);<br />					getfA[ccount] = A[A.length - 1];<br />					// 右移<br />					for (int j = A.length - 1; j &gt; 0; j--) {<br />						A[j] = A[j - 1];<br />					}<br />					A[3] = A[0];<br />					A[2] = '.';<br />					ccount++;<br />				} else if (C[i] == '.') {<br />					if (C[i - 1] == '0' &amp; C[i + 1] == '1') {<br />						sum(A, X);<br />						ccount++;<br />						break;<br />					} else if (C[i - 1] == '1' &amp; C[i + 1] == '0') {<br />						sum(A, Xn);<br />						ccount++;<br />						break;<br />					} else {<br />						break;<br />					}<br />				}<br />			}<br />			System.out.print("\n结果为：");<br />			for (int i = 0; i &lt; A.length; i++) {<br />				System.out.print(A[i]);<br />			}<br />			for (int i = 0; i &lt; getfA.length; i++) {<br />				System.out.print(getfA[i]);<br />			}<br />			System.out.print("\n");<br />		}<br />	}</p>
<p>//累加函数，二进制加法<br />	static public char[] sum(char a[], char b[]) {<br />		char[] result = a;<br />		int c = 0;//进位C<br />		for (int i = b.length - 1; i &gt;= 0; i--) {<br />			if ('.' == (b[i])) {<br />				result[i] = '.';<br />			} else if (c == 0) {<br />				if (a[i] == '1' &amp; b[i] == '1') {<br />					result[i] = '0';<br />					c = 1;<br />				} else if (a[i] == '1' &amp; b[i] == '0') {<br />					result[i] = '1';<br />					c = 0;<br />				} else if (a[i] == '0' &amp; b[i] == '1') {<br />					result[i] = '1';<br />					c = 0;<br />				} else if (a[i] == '0' &amp; b[i] == '0') {<br />					result[i] = '0';<br />					c = 0;<br />				}<br />			} else if (c == 1) {<br />				if (a[i] == '1' &amp; b[i] == '1') {<br />					result[i] = '1';<br />					c = 1;<br />				} else if (a[i] == '1' &amp; b[i] == '0') {<br />					result[i] = '0';<br />					c = 1;<br />				} else if (a[i] == '0' &amp; b[i] == '1') {<br />					result[i] = '0';<br />					c = 1;<br />				} else if (a[i] == '0' &amp; b[i] == '0') {<br />					result[i] = '1';<br />					c = 0;<br />				}<br />			}<br />		}<br />		return result;<br />	}</p>
<p>//检查函数，查看输入字符是否符合格式<br />	static public boolean check(char[] a) {<br />		boolean flag = true;// 用于记录字符是否合法<br />		int countc = 0; // 记录'+' '-'号个数<br />		int countd = 0; // 记录'.'<br />		if (a.length &gt;= 8) {<br />			System.out.print("格式错误，请重新输入\n");<br />			flag = false;<br />		}<br />		if (a[0] != '0' &amp; a[0] != '+' &amp; a[0] != '-') {<br />			System.out.print("格式错误，请重新输入\n");<br />			flag = false;<br />		}<br />		if (a[0] == '0') {<br />			if (a[1] != '.') {<br />				System.out.print("格式错误，请重新输入\n");<br />				flag = false;<br />			}<br />			for (int i = 2; i &lt; a.length; i++) {<br />				if (a[i] != '0' &amp; a[i] != '1') {<br />					System.out.print("格式错误，请重新输入\n");<br />					flag = false;<br />					break;<br />				}<br />			}<br />		}<br />		if (a[0] == '+' | a[0] == '-') {<br />			if (a[2] != '.') {<br />				System.out.print("格式错误，请重新输入\n");<br />				flag = false;<br />			}<br />			if (a[1] != '0' &amp; a[1] != '1') {<br />				System.out.print("格式错误，请重新输入\n");<br />				flag = false;<br />			}<br />			for (int i = 3; i &lt; a.length; i++) {<br />				if (a[i] != '0' &amp; a[i] != '1') {<br />					System.out.print("格式错误，请重新输入\n");<br />					flag = false;<br />					break;<br />				}<br />			}<br />		}<br />		for (int i = 0; i &lt; a.length; i++) {<br />			if (a[i] == '+' &amp; a[i] == '-') {<br />				countc++;<br />			}<br />		}<br />		if (countc &gt; 1) {<br />			System.out.print("格式错误，请重新输入\n");<br />			flag = false;<br />		}<br />		for (int i = 0; i &lt; a.length; i++) {<br />			if (a[i] == '.') {<br />				countd++;<br />			}<br />		}<br />		if (countd &gt; 1) {<br />			System.out.print("格式错误，请重新输入\n");<br />			flag = false;<br />		}<br />		return flag;<br />	}<br />}</p>
<p style="text-align: left;">&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>