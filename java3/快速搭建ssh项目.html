<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修快速搭建ssh项目' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>快速搭建ssh项目</center></div><div class='banquan'>原文出处:本文由博客园博主PunishWicked提供。<br/>
原文连接:https://www.cnblogs.com/LuckySon/p/11983048.html</div><br>
    <p>环境：oracle11g、myeclipse2014</p>
<p>首先在web项目中添加spring框架</p>
<p><img src="./images/快速搭建ssh项目0.png" alt="" width="861" height="469" /></p>
<p><img src="./images/快速搭建ssh项目1.png" alt="" width="420" height="533" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img src="./images/快速搭建ssh项目2.png" alt="" width="419" height="531" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img src="./images/快速搭建ssh项目3.png" alt="" width="421" height="534" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>现在已经添加完spring框架了</p>
<p><img src="./images/快速搭建ssh项目4.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;然后我们开始添加Hibernate框架</p>
<p><img src="./images/快速搭建ssh项目5.png" alt="" width="859" height="547" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img src="./images/快速搭建ssh项目6.png" alt="" width="396" height="416" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/快速搭建ssh项目7.png" alt="" width="393" height="413" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/快速搭建ssh项目8.png" alt="" width="392" height="413" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/快速搭建ssh项目9.png" alt="" width="391" height="411" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;到这一步Hibernate框架就添加完成了</p>
<p>applicationContext.xml配置文件</p>
<src class="cnblogs_code">
<pre><code>&lt;?xml version=<span style="color: #800000;">"</span><span style="color: #800000;">1.0</span><span style="color: #800000;">"</span> encoding=<span style="color: #800000;">"</span><span style="color: #800000;">UTF-8</span><span style="color: #800000;">"</span>?&gt;
&lt;beans xmlns=<span style="color: #800000;">"</span><span style="color: #800000;">http://www.springframework.org/schema/beans</span><span style="color: #800000;">"</span><span style="color: #000000;">
    xmlns:xsi</span>=<span style="color: #800000;">"</span><span style="color: #800000;">http://www.w3.org/2001/XMLSchema-instance</span><span style="color: #800000;">"</span> xmlns:p=<span style="color: #800000;">"</span><span style="color: #800000;">http://www.springframework.org/schema/p</span><span style="color: #800000;">"</span><span style="color: #000000;">
    xmlns:context</span>=<span style="color: #800000;">"</span><span style="color: #800000;">http://www.springframework.org/schema/context</span><span style="color: #800000;">"</span> xmlns:tx=<span style="color: #800000;">"</span><span style="color: #800000;">http://www.springframework.org/schema/tx</span><span style="color: #800000;">"</span><span style="color: #000000;">
    xsi:schemaLocation</span>=<span style="color: #800000;">"</span><span style="color: #800000;">http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</span>
        http:<span style="color: #008000;">//</span><span style="color: #008000;">www.springframework.org/schema/tx </span><span style="color: #008000; text-decoration: underline;">http://www.springframework.org/schema/tx/spring-tx-3.1.xsd</span>
        http:<span style="color: #008000;">//</span><span style="color: #008000;">www.springframework.org/schema/context </span><span style="color: #008000; text-decoration: underline;">http://www.springframework.org/schema/context/spring-context-3.1.xsd</span><span style="color: #008000;">"&gt;</span>


    &lt;bean id=<span style="color: #800000;">"</span><span style="color: #800000;">dataSource</span><span style="color: #800000;">"</span> <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">org.apache.commons.dbcp.BasicDataSource</span><span style="color: #800000;">"</span>&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">url</span><span style="color: #800000;">"</span> value=<span style="color: #800000;">"</span><span style="color: #800000;">jdbc:oracle:thin:@127.0.0.1:1521:orcl</span><span style="color: #800000;">"</span>&gt;
        &lt;/property&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">username</span><span style="color: #800000;">"</span> value=<span style="color: #800000;">"</span><span style="color: #800000;">system</span><span style="color: #800000;">"</span>&gt;&lt;/property&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">password</span><span style="color: #800000;">"</span> value=<span style="color: #800000;">"</span><span style="color: #800000;">1234</span><span style="color: #800000;">"</span>&gt;&lt;/property&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">driverClassName</span><span style="color: #800000;">"</span> value=<span style="color: #800000;">"</span><span style="color: #800000;">oracle.jdbc.driver.OracleDriver</span><span style="color: #800000;">"</span>&gt;&lt;/property&gt;
    &lt;/bean&gt;
    &lt;bean id=<span style="color: #800000;">"</span><span style="color: #800000;">sessionFactory</span><span style="color: #800000;">"</span>
        <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean</span><span style="color: #800000;">"</span>&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">dataSource</span><span style="color: #800000;">"</span>&gt;
            &lt;<span style="color: #0000ff;">ref</span> bean=<span style="color: #800000;">"</span><span style="color: #800000;">dataSource</span><span style="color: #800000;">"</span> /&gt;
        &lt;/property&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">hibernateProperties</span><span style="color: #800000;">"</span>&gt;
            &lt;props&gt;
                &lt;prop key=<span style="color: #800000;">"</span><span style="color: #800000;">hibernate.dialect</span><span style="color: #800000;">"</span>&gt;<span style="color: #000000;">
                    org.hibernate.dialect.Oracle9Dialect
                </span>&lt;/prop&gt;
                &lt;prop key=<span style="color: #800000;">"</span><span style="color: #800000;">hibernate.show_sql</span><span style="color: #800000;">"</span>&gt;<span style="color: #0000ff;">true</span>&lt;/prop&gt;
                &lt;prop key=<span style="color: #800000;">"</span><span style="color: #800000;">hibernate.format_sql</span><span style="color: #800000;">"</span>&gt;<span style="color: #0000ff;">true</span>&lt;/prop&gt;
            &lt;/props&gt;
        &lt;/property&gt;
        &lt;!-- &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">annotatedClasses</span><span style="color: #800000;">"</span>&gt; &lt;list&gt; &lt;value&gt;com.bdqn.pojo.Dept&lt;/value&gt; 
            &lt;value&gt;com.bdqn.pojo.Emp&lt;/value&gt; &lt;/list&gt; &lt;/property&gt; --&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">packagesToScan</span><span style="color: #800000;">"</span> value=<span style="color: #800000;">"</span><span style="color: #800000;">com.bdqn.pojo</span><span style="color: #800000;">"</span>&gt;&lt;/property&gt;
    &lt;/bean&gt;
    
    &lt;context:component-scan <span style="color: #0000ff;">base</span>-package=<span style="color: #800000;">"</span><span style="color: #800000;">com.bdqn</span><span style="color: #800000;">"</span> /&gt;
    
    &lt;bean id=<span style="color: #800000;">"</span><span style="color: #800000;">txManager</span><span style="color: #800000;">"</span>
        <span style="color: #0000ff;">class</span>=<span style="color: #800000;">"</span><span style="color: #800000;">org.springframework.orm.hibernate3.HibernateTransactionManager</span><span style="color: #800000;">"</span>&gt;
        &lt;property name=<span style="color: #800000;">"</span><span style="color: #800000;">sessionFactory</span><span style="color: #800000;">"</span> <span style="color: #0000ff;">ref</span>=<span style="color: #800000;">"</span><span style="color: #800000;">sessionFactory</span><span style="color: #800000;">"</span>&gt;&lt;/property&gt;
    &lt;/bean&gt;
    
    &lt;tx:annotation-driven transaction-manager=<span style="color: #800000;">"</span><span style="color: #800000;">txManager</span><span style="color: #800000;">"</span> /&gt;

&lt;/beans&gt;</code></pre>

<p>然后开始配置struts2框架</p>
<p><img src="./images/快速搭建ssh项目10.png" alt="" width="807" height="482" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><img src="./images/快速搭建ssh项目11.png" alt="" width="390" height="334" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/快速搭建ssh项目12.png" alt="" width="385" height="330" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;到现在struts2框架也整合进来了</p>
<p>然后使用Hibernate的反向工程创建实体类</p>
<p><img src="./images/快速搭建ssh项目13.png" alt="" width="394" height="408" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/快速搭建ssh项目14.png" alt="" width="390" height="447" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;点击finish，然后实体类就创建好了，接下来就可以开始写代码了</p>
<p>dao层接口</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> com.bdqn.dao;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.pojo.Emp;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span><span style="color: #000000;"> EmpDao {

    </span><span style="color: #0000ff;">public</span> List&lt;Emp&gt;<span style="color: #000000;"> findAll();
}</span></code></pre>

<p>dao层实现</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> com.bdqn.dao.impl;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.hibernate.SessionFactory;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.beans.factory.annotation.Autowired;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.beans.factory.annotation.Qualifier;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.orm.hibernate3.support.HibernateDaoSupport;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.stereotype.Repository;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.dao.EmpDao;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.pojo.Emp;

@Repository(</span>"empDao"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> EmpDaoImpl <span style="color: #0000ff;">extends</span> HibernateDaoSupport <span style="color: #0000ff;">implements</span><span style="color: #000000;"> EmpDao {

    @Autowired
    </span><span style="color: #0000ff;">public</span> EmpDaoImpl(@Qualifier("sessionFactory"<span style="color: #000000;">) SessionFactory sessionFactory) {
          </span><span style="color: #0000ff;">this</span><span style="color: #000000;">.setSessionFactory(sessionFactory);
    }
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> EmpDaoImpl() {
    }
    
    @Override
    </span><span style="color: #0000ff;">public</span> List&lt;Emp&gt;<span style="color: #000000;"> findAll() {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> TODO Auto-generated method stub</span>
        <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span>.getHibernateTemplate().find("from Emp"<span style="color: #000000;">);
    }

}</span></code></pre>

<p>service层接口</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> com.bdqn.service;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.pojo.Emp;

</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span><span style="color: #000000;"> EmpService {

    </span><span style="color: #0000ff;">public</span> List&lt;Emp&gt;<span style="color: #000000;"> findAll();
}</span></code></pre>

<p>service层实现</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> com.bdqn.service.impl;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.beans.factory.annotation.Autowired;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.stereotype.Service;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.transaction.annotation.Transactional;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.dao.EmpDao;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.pojo.Emp;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.service.EmpService;

@Service(</span>"empService"<span style="color: #000000;">)
@Transactional
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> EmpServiceImpl <span style="color: #0000ff;">implements</span><span style="color: #000000;"> EmpService {

    @Autowired
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> EmpDao empDao;
    
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> EmpDao getEmpDao() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> empDao;
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setEmpDao(EmpDao empDao) {
        </span><span style="color: #0000ff;">this</span>.empDao =<span style="color: #000000;"> empDao;
    }

    @Override
    @Transactional(readOnly </span>= <span style="color: #0000ff;">true</span><span style="color: #000000;">)
    </span><span style="color: #0000ff;">public</span> List&lt;Emp&gt;<span style="color: #000000;"> findAll() {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> TODO Auto-generated method stub</span>
        <span style="color: #0000ff;">return</span><span style="color: #000000;"> empDao.findAll();
    }

}</span></code></pre>

<p>Action（web）：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">package</span><span style="color: #000000;"> com.bdqn.web;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Map;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.beans.factory.annotation.Autowired;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> org.springframework.stereotype.Controller;

</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.pojo.Emp;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.bdqn.service.EmpService;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.opensymphony.xwork2.ActionContext;
</span><span style="color: #0000ff;">import</span><span style="color: #000000;"> com.opensymphony.xwork2.ActionSupport;

@Controller
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> EmpAction <span style="color: #0000ff;">extends</span><span style="color: #000000;"> ActionSupport {

    @Autowired
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> EmpService empService;

    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> EmpService getEmpService() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> empService;
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setEmpService(EmpService empService) {
        </span><span style="color: #0000ff;">this</span>.empService =<span style="color: #000000;"> empService;
    }
    
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String execute(){
        Map</span>&lt;String, Object&gt; request = (Map&lt;String, Object&gt;) ActionContext.getContext().get("request"<span style="color: #000000;">);
        List</span>&lt;Emp&gt; emps =<span style="color: #000000;"> empService.findAll();
        request.put(</span>"emps"<span style="color: #000000;">, emps);
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> SUCCESS;
    }
}</span></code></pre>

<p>struts.xml配置文件</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="UTF-8" </span><span style="color: #0000ff;">?&gt;</span>
<span style="color: #0000ff;">&lt;!</span><span style="color: #ff00ff;">DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd"</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">struts</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">package </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="def"</span><span style="color: #ff0000;"> namespace</span><span style="color: #0000ff;">="/"</span><span style="color: #ff0000;"> extends</span><span style="color: #0000ff;">="struts-default"</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">action </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="empAction"</span><span style="color: #ff0000;"> class</span><span style="color: #0000ff;">="com.bdqn.web.EmpAction"</span><span style="color: #0000ff;">&gt;</span>
            <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">result</span><span style="color: #0000ff;">&gt;</span>/index.jsp<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">result</span><span style="color: #0000ff;">&gt;</span>
        <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">action</span><span style="color: #0000ff;">&gt;</span>
    <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">package</span><span style="color: #0000ff;">&gt;</span>
<span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">struts</span><span style="color: #0000ff;">&gt;</span>    </code></pre>

<p>jsp页面：</p>
<src class="cnblogs_code">
<pre><code>&lt;%@ page language="java" <span style="color: #0000ff;">import</span>="java.util.*" pageEncoding="UTF-8"%&gt;
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;
&lt;%<span style="color: #000000;">
String path </span>=<span style="color: #000000;"> request.getContextPath();
String basePath </span>= request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/"<span style="color: #000000;">;
</span>%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;base href="&lt;%=basePath%&gt;"&gt;
    
    &lt;title&gt;My JSP 'index.jsp' starting page&lt;/title&gt;
    &lt;meta http-equiv="pragma" content="no-cache"&gt;
    &lt;meta http-equiv="cache-control" content="no-cache"&gt;
    &lt;meta http-equiv="expires" content="0"&gt;    
    &lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
    &lt;meta http-equiv="description" content="This is my page"&gt;
    &lt;!--
    &lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
    --&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
    &lt;c:forEach items="${emps}"  var="emp"&gt;<span style="color: #000000;">
        ${emp.ename }</span>&lt;br/&gt;
    &lt;/c:forEach&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>

<p>到这一步恭喜，你的ssh项目搭建完了</p>
<p>然后部署项目发布</p>
<p>在浏览器上输入<a href="http://localhost:9001/Deom_ssh_12_04_002/empAction.action">http://localhost:8080/你的项目命/empAction.action</a>就可以访问项目了</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>