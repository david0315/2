<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Struts2  常量配置' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Struts2  常量配置</center></div><div class='banquan'>原文出处:本文由博客园博主chenhongyong提供。<br/>
原文连接:https://www.cnblogs.com/chy18883701161/p/11455456.html</div><br>
    <p>&nbsp;</p>
<p>除了action的配置，struts还有其他的一些配置，比如编码方式。</p>
<p>这些配置用键值对来表示，键是固定的，是常量，所以也叫做常量配置。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>常量配置有5种方式，Struts会按以下顺序依次搜索加载常量（配置）：</h3>
<ul>
<li>struts-default.xml&nbsp; &nbsp; 此文件在struts-core.jar的根目录下</li>
<li>struts-plugin.xml&nbsp; &nbsp;此文件在struts的插件jar包中，一个插件jar包中有一个struts-plugin.xml，用于配置该插件</li>
<li>struts.xml&nbsp; &nbsp;位于src目录下，主要用于配置action</li>
<li>struts.properties&nbsp; &nbsp; 这是struts2的默认配置文件，在struts2-core.jar的org.apache.strut2的根目录下。</li>
<li>web.xml&nbsp; &nbsp;整个WebApp的配置文件</li>
</ul>
<p>如果在多个配置文件中配置同一常量，后加载的会覆盖之前的。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h3>一般我们在struts.xml中配置常量。</h3>
<src class="cnblogs_code">
<pre><code>&lt;struts&gt;
    &lt;constant name="" value=""&gt;&lt;/constant&gt;
    &lt;constant name="" value=""&gt;&lt;/constant&gt;
    &lt;<span style="color: #0000ff;">package</span> name="action" namespace="/action" <span style="color: #0000ff;">extends</span>="struts-default"&gt;

    &lt;/<span style="color: #0000ff;">package</span>&gt;
&lt;/struts&gt;</code></pre>

<p>一个&lt;constant&gt;配置一个常量。</p>
<p>可参考默认配置文件struts.properties中的配置。</p>
<p>&nbsp;</p>
<h3>&nbsp;</h3>
<p>&nbsp;</p>
<h3>默认配置文件struts.properties的常用配置</h3>
<h4>1、struts.i18n.encoding=UTF-8&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;国际化、解决中文乱码</h4>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>2、struts.action.extension=action,,&nbsp; &nbsp; &nbsp; 指定action的后缀。第一个是.action，第二个是空，即不带后缀。</h4>
<p>比如说有这样一个action：</p>
<src class="cnblogs_code">
<pre><code>&lt;<span style="color: #0000ff;">package</span> name="action" namespace="/" <span style="color: #0000ff;">extends</span>="struts-default"&gt;
        &lt;action name="<span style="color: #ff0000;">LoginAction</span>" <span style="color: #0000ff;">class</span>="action.LoginAction"&gt;

        &lt;/action&gt;
&lt;/<span style="color: #0000ff;">package</span>&gt;</code></pre>

<p>引用时可以带后缀.action，也可以不带后缀：</p>
<src class="cnblogs_code">
<pre><code>&lt;form action="<span style="color: #ff0000;">LoginAction.action</span>"&gt;&lt;/form&gt;
&lt;form action="<span style="color: #ff0000;">LoginAction</span>"&gt;&lt;/form&gt;</code></pre>

<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>3、struts.serve.static.browserCache=true&nbsp; &nbsp; &nbsp;是否使用浏览器缓存</h4>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h4>4、struts.devMode = false&nbsp; &nbsp; &nbsp;struts是否以开发模式运行</h4>
<p>开发模式下对开发者更友好，主要有2个方面：</p>
<ul>
<li>修改了国际化的配置、struts.xml文件中的配置时，不需要重启就可生效，即热部署</li>
<li>会提供更详细、更具体的错误信息，方便开发者调试</li>
</ul>
<p>热部署节约了时间，但会消耗更多的资源，因为IDE要时刻监听开发者是否修改了文件。</p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>