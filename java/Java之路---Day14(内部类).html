<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Java之路---Day14(内部类)' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Java之路---Day14(内部类)</center></div><div class='banquan'>原文出处:本文由博客园博主CeliaTodd提供。<br/>
原文连接:https://www.cnblogs.com/hpcz190911/p/11762571.html</div><br>
    <p><span style="font-size: 18px;">2019-10-29-23:08:00</span></p>
<p><strong><span style="font-size: 18px;">目录</span></strong></p>
<p><strong><span style="font-size: 18px;">　　1.内部类</span></strong></p>
<p><strong><span style="font-size: 18px;">　　2.<strong>成员内部类</strong></span></strong></p>
<p><strong><span style="font-size: 18px;"><strong>　　3.<strong>局部内部类</strong></strong></span></strong></p>
<p><strong><span style="font-size: 18px;"><strong><strong>　　4.</strong></strong></span></strong><strong style="font-size: 18px;">局部内部类的final问题</strong></p>
<p><strong style="font-size: 18px;">　　5.</strong><strong style="font-size: 18px;">匿名内部类</strong></p>
<hr />
<p><span style="font-size: 18px;"><strong>内部类:</strong></span></p>
<p><span style="font-size: 18px;">　　what:内部类（nested classes），面向对象程序设计中，可以在一个类的内部定义另一个类</span></p>
<p><span style="font-size: 18px;">　　分类:</span></p>
<p><span style="font-size: 18px;">　　　　1.成员内部类</span></p>
<p><span style="font-size: 18px;">　　　　2.局部内部类(包含匿名内部类)</span></p>
<p><span style="font-size: 18px;"><strong>成员内部类:</strong></span></p>
<p><span style="font-size: 18px;">　　格式:</span></p>
<p><span style="font-size: 18px;">　　　　修饰符 class 外部类名称{</span></p>
<p><span style="font-size: 18px;">　　　　　　修饰符 class 内部类名称{</span></p>
<p><span style="font-size: 18px;">　　　　　　　　语句体;</span></p>
<p><span style="font-size: 18px;">　　　　　　}</span></p>
<p><span style="font-size: 18px;">　　　　语句体;　　</span></p>
<p><span style="font-size: 18px;">　　}</span></p>
<p><span style="font-size: 18px;">　　注意:内用外,可以随意访问,外用内,需要内部类对象</span></p>
<p><span style="font-size: 18px;">　　使用方式:</span></p>
<p><span style="font-size: 18px;">　　　　1.间接方式:在外部类的方法当中，使用内部类:然后main只是调用外部类的方法。</span></p>
<p><span style="font-size: 18px;">　　　　2.直接方式，公式，</span></p>
<p><span style="font-size: 18px;">　　　　　　类名称 对象名 = new&nbsp;类名称();</span></p>
<src class="cnblogs_code">
<pre><code><span style="font-size: 18px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> demosummary.inner;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Body {
</span><span style="color: #008080;"> 4</span> 
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Heart{
</span><span style="color: #008080;"> 6</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> beat(){
</span><span style="color: #008080;"> 7</span>             System.out.println("心脏时时刻刻在跳动"<span style="color: #000000;">);
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">10</span> 
<span style="color: #008080;">11</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> move(){
</span><span style="color: #008080;">12</span>         System.out.println("身体时时刻刻都在动"<span style="color: #000000;">);
</span><span style="color: #008080;">13</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
</span><span style="color: #008080;">16</span>         Body body = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Body();
</span><span style="color: #008080;">17</span> <span style="color: #000000;">        body.move();
</span><span style="color: #008080;">18</span>         Body.Heart heart = <span style="color: #0000ff;">new</span> Body().<span style="color: #0000ff;">new</span><span style="color: #000000;"> Heart();
</span><span style="color: #008080;">19</span> <span style="color: #000000;">        heart.beat();
</span><span style="color: #008080;">20</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">21</span> }</span></code></pre>

<src class="cnblogs_code">
<pre><code><span style="font-size: 18px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> demosummary.inner;
</span><span style="color: #008080;"> 2</span> <span style="color: #008000;">//</span><span style="color: #008000;">定义一个外部类</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Outer {
</span><span style="color: #008080;"> 4</span>     <span style="color: #008000;">//</span><span style="color: #008000;">定义一个外部类成员变量</span>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">int</span> num = 10<span style="color: #000000;">;
</span><span style="color: #008080;"> 6</span>     <span style="color: #008000;">//</span><span style="color: #008000;">定义一个内部类</span>
<span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Inner{
</span><span style="color: #008080;"> 8</span>         <span style="color: #008000;">//</span><span style="color: #008000;">定义一个内部类成员变量</span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">int</span> num = 20<span style="color: #000000;">;
</span><span style="color: #008080;">10</span>         <span style="color: #008000;">//</span><span style="color: #008000;">定义一个内部类成员方法</span>
<span style="color: #008080;">11</span>         <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> innerMethod(){
</span><span style="color: #008080;">12</span>             <span style="color: #008000;">//</span><span style="color: #008000;">内部类成员方法的局部变量</span>
<span style="color: #008080;">13</span>             <span style="color: #0000ff;">int</span> num = 30<span style="color: #000000;">;
</span><span style="color: #008080;">14</span>             System.out.println(num);<span style="color: #008000;">//</span><span style="color: #008000;">就近原则,输出局部变量</span>
<span style="color: #008080;">15</span>             System.out.println(<span style="color: #0000ff;">this</span>.num);<span style="color: #008000;">//</span><span style="color: #008000;">输出内部类成员变量</span>
<span style="color: #008080;">16</span>             System.out.println(Outer.<span style="color: #0000ff;">this</span>.num);<span style="color: #008000;">//</span><span style="color: #008000;">输出外部类成员变量</span>
<span style="color: #008080;">17</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">18</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">19</span> }</span></code></pre>

<p><span style="font-size: 18px;"><strong>局部内部类:</strong></span></p>
<p><span style="font-size: 18px;">　　what:如果一个类是定义在一 个方法内部的，那么这就是一 个局部内部类。局部&rdquo;,只有当前所属的方法才能使用它，出了这个方法外面就不能用了。</span></p>
<p><span style="font-size: 18px;">　　格式:</span></p>
<p><span style="font-size: 18px;">　　　　修饰符 class 外部类名称{</span></p>
<p><span style="font-size: 18px;">　　　　　　修饰符 返回值类型 外部类方法名称(参数列表){</span></p>
<p><span style="font-size: 18px;">　　　　　　　　class 局部内部类{</span></p>
<p><span style="font-size: 18px;">　　　　　　　　　　语句体;</span></p>
<p><span style="font-size: 18px;">　　　　　　　　}</span></p>
<p><span style="font-size: 18px;">　　　　　　}</span></p>
<p><span style="font-size: 18px;">　　　　}</span></p>
<src class="cnblogs_code">
<pre><code><span style="font-size: 18px;"><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> demosummary.inner;
</span><span style="color: #008080;"> 2</span> <span style="color: #008000;">//</span><span style="color: #008000;">定义一个外部类</span>
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Outer01 {
</span><span style="color: #008080;"> 4</span>     <span style="color: #008000;">//</span><span style="color: #008000;">定义一个外部类成员变量</span>
<span style="color: #008080;"> 5</span>     <span style="color: #0000ff;">int</span> num = 10<span style="color: #000000;">;
</span><span style="color: #008080;"> 6</span>     <span style="color: #008000;">//</span><span style="color: #008000;">定义一个外部类成员方法</span>
<span style="color: #008080;"> 7</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> outer01Method(){
</span><span style="color: #008080;"> 8</span>         <span style="color: #008000;">//</span><span style="color: #008000;">定义一个外部类成员方法的局部变量</span>
<span style="color: #008080;"> 9</span>         <span style="color: #0000ff;">int</span> num = 20<span style="color: #000000;">;
</span><span style="color: #008080;">10</span>         <span style="color: #008000;">//</span><span style="color: #008000;">定义一个局部内部类</span>
<span style="color: #008080;">11</span>         <span style="color: #0000ff;">class</span><span style="color: #000000;"> Inner01{
</span><span style="color: #008080;">12</span>             <span style="color: #008000;">//</span><span style="color: #008000;">定义一个局部内部类的成员变量</span>
<span style="color: #008080;">13</span>             <span style="color: #0000ff;">int</span> num = 30<span style="color: #000000;">;
</span><span style="color: #008080;">14</span>             <span style="color: #008000;">//</span><span style="color: #008000;">定义一个局部内部类的成员方法</span>
<span style="color: #008080;">15</span>             <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> inner01Method(){
</span><span style="color: #008080;">16</span>                 System.out.println(num);<span style="color: #008000;">//</span><span style="color: #008000;">30</span>
<span style="color: #008080;">17</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">18</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">19</span>         Inner01 inner01 = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Inner01();
</span><span style="color: #008080;">20</span>         inner01.inner01Method();<span style="color: #008000;">//</span><span style="color: #008000;">调用当前所属方法的局部内部类的方法</span>
<span style="color: #008080;">21</span>         System.out.println(num);<span style="color: #008000;">//</span><span style="color: #008000;">20</span>
<span style="color: #008080;">22</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">23</span> 
<span style="color: #008080;">24</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
</span><span style="color: #008080;">25</span>         Outer01 outer01 = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Outer01();
</span><span style="color: #008080;">26</span>         outer01.outer01Method();<span style="color: #008000;">//</span><span style="color: #008000;">能调用外部类的成员方法,不能调用局部内部类的成员方法</span>
<span style="color: #008080;">27</span>         System.out.println(outer01.num);<span style="color: #008000;">//</span><span style="color: #008000;">10
</span><span style="color: #008080;">28</span> <span style="color: #008000;">//</span><span style="color: #008000;">        Inner01 inner01 = new Inner01();</span><span style="color: #008000;">//</span><span style="color: #008000;">会报错,不能创建局部内部类的对象
</span><span style="color: #008080;">29</span> <span style="color: #008000;">//</span><span style="color: #008000;">        inner01.inner01Method();</span><span style="color: #008000;">//</span><span style="color: #008000;">会报错,局部内部类的方法只能在其所属的方法中调用</span>
<span style="color: #008080;">30</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">31</span> }</span></code></pre>

<p><span style="font-size: 18px;"><strong>局部内部类的final问题:</strong></span></p>
<p><span style="font-size: 18px;">　　局部内部类，如果希望访问所在方法的局部变量，那么这个局部变量必须是[有效final的]</span></p>
<p><span style="font-size: 18px;">　　　　备注:从Java 8+开始，只要局部变量事实不变，那么final关键字可以省略。</span><br /><span style="font-size: 18px;">　　　　原因:</span><br /><span style="font-size: 18px;">　　　　　　1. new出来的对象在堆内存当中。</span><br /><span style="font-size: 18px;">　　　　　　2. 局部变量是跟着方法走的，在栈内存当中。</span><br /><span style="font-size: 18px;">　　　　　　3.方法运行结束之后，立刻出栈，局部变量就会立刻消失。</span><br /><span style="font-size: 18px;">　　　　　　4.但是new出来的对象会在堆当中持续存在，直到垃圾回收消失。</span></p>
<p><span style="font-size: 18px;"><strong>匿名内部类:</strong></span></p>
<p><span style="font-size: 18px;">　　如果接口的实现类(或者是父类的子类)只需要使用唯一的一次，那么这种情况下就可以省略掉该类的定义，而改为使用[匿名内部类]。</span></p>
<p><span style="font-size: 18px;">　　格式:</span></p>
<p><span style="font-size: 18px;">　　　　接口名称 对象名 = new 接口名称(){</span></p>
<p><span style="font-size: 18px;">　　　　　　//覆盖重写所有抽象方法</span></p>
<p><span style="font-size: 18px;">　　　　}</span></p>
<p><span style="font-size: 18px;">　　对格式"new 接口名称() {...}"进行解析</span></p>
<p><span style="font-size: 18px;">　　　　1. new代表创建对象的动作</span></p>
<p><span style="font-size: 18px;">　　　　2.接口名称就是匿名内部类需要实现哪个接口</span></p>
<p><span style="font-size: 18px;">　　　　3. {... }这才是匿名内部类的内容</span></p>
<p><span style="font-size: 18px;">　　另外还要注意几点问题，</span></p>
<p><span style="font-size: 18px;">　　　　1.匿名内部类，在[创建对象]的时候，只能使用唯一次。如果希望多次创建对象，而且类的内容一样的话，那么就必须使用单独定义的实现类了</span></p>
<p><span style="font-size: 18px;">　　　　2.匿名对象，在[调用方法]的时候，只能调用唯一次。如果希望同一个对象，调用多次方法，那么必须给对象起个名字。</span></p>
<p><span style="font-size: 18px;">　　　　3.匿名内部类是省略了[实现类/子类名称]，但是匿名对象是省略了[对象名称]</span><br /><span style="font-size: 18px;">　　强调:匿名内部类和匿名对象不是一<em id="__mceDel">回事! !<em id="__mceDel"> !</em></em></span></p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>