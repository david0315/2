<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修SpringBoot整合MyBatis-Plus3.1详细教程' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>SpringBoot整合MyBatis-Plus3.1详细教程</center></div><div class='banquan'>原文出处:本文由博客园博主Java知音*提供。<br/>
原文连接:https://www.cnblogs.com/javazhiyin/p/11416480.html</div><br>
    <blockquote>
<p>作者：Sans_</p>
<p>juejin.im/post/5cfa6e465188254ee433bc69</p>
</blockquote>
<h2>一.说明</h2>
<p>Mybatis-Plus是一个Mybatis框架的增强插件,根据官方描述,MP只做增强不做改变,引入它不会对现有工程产生影响,如丝般顺滑.并且只需简单配置,即可快速进行 CRUD 操作,从而节省大量时间.代码生成,分页,性能分析等功能一应俱全,最新已经更新到了3.1.1版本了,3.X系列支持lambda语法,让我在写条件构造的时候少了很多的"魔法值",从代码结构上更简洁了.</p>
<h2>二.项目环境</h2>
<ul class="list-paddingleft-2">
<li>
<p>MyBatis-Plus版本: 3.1.0</p>
</li>
<li>
<p>SpringBoot版本:2.1.5</p>
</li>
<li>
<p>JDK版本:1.8</p>
</li>
</ul>
<p>Maven依赖如下：</p>
<pre><code><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">groupId&gt;org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">artifactId&gt;spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">groupId&gt;mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">artifactId&gt;mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">scope&gt;runtime<span class="hljs-tag">&lt;/<span class="hljs-name">scope&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">groupId&gt;org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">artifactId&gt;lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">optional&gt;true<span class="hljs-tag">&lt;/<span class="hljs-name">optional&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">groupId&gt;org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">artifactId&gt;spring-boot-starter-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">scope&gt;test<span class="hljs-tag">&lt;/<span class="hljs-name">scope&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">&lt;!--&nbsp;mybatisPlus&nbsp;核心库&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">groupId&gt;com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">artifactId&gt;mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">version&gt;3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">&lt;!--&nbsp;引入阿里数据库连接池&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">dependency&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">groupId&gt;com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">artifactId&gt;druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">version&gt;1.1.6<span class="hljs-tag">&lt;/<span class="hljs-name">version&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">dependency&gt;<br /><span class="hljs-tag">&lt;/<span class="hljs-name">dependencies&gt;<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>配置如下:</p>
<pre><code><code class="python language-python hljs"><span class="hljs-comment">#&nbsp;配置端口<br />server:<br />&nbsp;&nbsp;port:&nbsp;<span class="hljs-number">8081<br />spring:<br />&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;配置数据源<br />&nbsp;&nbsp;datasource:<br />&nbsp;&nbsp;&nbsp;&nbsp;driver-<span class="hljs-class"><span class="hljs-keyword">class-<span class="hljs-title">name:&nbsp;com.mysql.cj.jdbc.Driver<br />&nbsp;&nbsp;&nbsp;&nbsp;url:&nbsp;jdbc:mysql://localhost:<span class="hljs-number">3306/mp_student?useUnicode=true&amp;characterEncoding=utf<span class="hljs-number">-8<br />&nbsp;&nbsp;&nbsp;&nbsp;username:&nbsp;root<br />&nbsp;&nbsp;&nbsp;&nbsp;password:&nbsp;root<br />&nbsp;&nbsp;&nbsp;&nbsp;type:&nbsp;com.alibaba.druid.pool.DruidDataSource<br /><span class="hljs-comment">#&nbsp;mybatis-plus相关配置<br />mybatis-plus:<br />&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;xml扫描，多个目录用逗号或者分号分隔（告诉&nbsp;Mapper&nbsp;所对应的&nbsp;XML&nbsp;文件位置）<br />&nbsp;&nbsp;mapper-locations:&nbsp;classpath:mapper/*.xml<br />&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;以下配置均有默认值,可以不设置<br />&nbsp;&nbsp;<span class="hljs-keyword">global-config:<br />&nbsp;&nbsp;&nbsp;&nbsp;db-config:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#主键类型&nbsp;AUTO:"数据库ID自增"&nbsp;INPUT:"用户输入ID",ID_WORKER:"全局唯一ID&nbsp;(数字类型唯一ID)",&nbsp;UUID:"全局唯一ID&nbsp;UUID";<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;id-type:&nbsp;auto<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#字段策略&nbsp;IGNORED:"忽略判断"&nbsp;&nbsp;NOT_NULL:"非&nbsp;NULL&nbsp;判断")&nbsp;&nbsp;NOT_EMPTY:"非空判断"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field-strategy:&nbsp;NOT_EMPTY<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#数据库类型<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;db-type:&nbsp;MYSQL<br />&nbsp;&nbsp;configuration:<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;是否开启自动驼峰命名规则映射:从数据库列名到Java属性驼峰命名的类似映射<br />&nbsp;&nbsp;&nbsp;&nbsp;map-underscore-to-camel-case:&nbsp;true<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;如果查询结果中包含空值的列，则&nbsp;MyBatis&nbsp;在映射的时候，不会映射这个字段<br />&nbsp;&nbsp;&nbsp;&nbsp;call-setters-on-nulls:&nbsp;true<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#&nbsp;这个配置会将执行的sql打印出来，在开发或测试的时候可以用<br />&nbsp;&nbsp;&nbsp;&nbsp;log-impl:&nbsp;org.apache.ibatis.logging.stdout.StdOutImpl<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>表结构:</p>
<pre><code><code class="sql language-sql hljs"><span class="hljs-keyword">CREATE&nbsp;<span class="hljs-keyword">TABLE&nbsp;<span class="hljs-string">`user_info`&nbsp;(<br />&nbsp;&nbsp;<span class="hljs-string">`id`&nbsp;<span class="hljs-built_in">bigint(<span class="hljs-number">11)&nbsp;<span class="hljs-keyword">NOT&nbsp;<span class="hljs-literal">NULL&nbsp;AUTO_INCREMENT&nbsp;<span class="hljs-keyword">COMMENT&nbsp;<span class="hljs-string">'ID',<br />&nbsp;&nbsp;<span class="hljs-string">`name`&nbsp;<span class="hljs-built_in">varchar(<span class="hljs-number">32)&nbsp;<span class="hljs-keyword">DEFAULT&nbsp;<span class="hljs-literal">NULL&nbsp;<span class="hljs-keyword">COMMENT&nbsp;<span class="hljs-string">'姓名',<br />&nbsp;&nbsp;<span class="hljs-string">`age`&nbsp;<span class="hljs-built_in">int(<span class="hljs-number">11)&nbsp;<span class="hljs-keyword">DEFAULT&nbsp;<span class="hljs-literal">NULL&nbsp;<span class="hljs-keyword">COMMENT&nbsp;<span class="hljs-string">'年龄',<br />&nbsp;&nbsp;<span class="hljs-string">`skill`&nbsp;<span class="hljs-built_in">varchar(<span class="hljs-number">32)&nbsp;<span class="hljs-keyword">DEFAULT&nbsp;<span class="hljs-literal">NULL&nbsp;<span class="hljs-keyword">COMMENT&nbsp;<span class="hljs-string">'技能',<br />&nbsp;&nbsp;<span class="hljs-string">`evaluate`&nbsp;<span class="hljs-built_in">varchar(<span class="hljs-number">64)&nbsp;<span class="hljs-keyword">DEFAULT&nbsp;<span class="hljs-literal">NULL&nbsp;<span class="hljs-keyword">COMMENT&nbsp;<span class="hljs-string">'评价',<br />&nbsp;&nbsp;<span class="hljs-string">`fraction`&nbsp;<span class="hljs-built_in">bigint(<span class="hljs-number">11)&nbsp;<span class="hljs-keyword">DEFAULT&nbsp;<span class="hljs-literal">NULL&nbsp;<span class="hljs-keyword">COMMENT&nbsp;<span class="hljs-string">'分数',<br />&nbsp;&nbsp;PRIMARY&nbsp;<span class="hljs-keyword">KEY&nbsp;(<span class="hljs-string">`id`)<br />)&nbsp;<span class="hljs-keyword">ENGINE=<span class="hljs-keyword">InnoDB&nbsp;AUTO_INCREMENT=<span class="hljs-number">16&nbsp;<span class="hljs-keyword">DEFAULT&nbsp;<span class="hljs-keyword">CHARSET=utf8mb4&nbsp;<span class="hljs-keyword">COMMENT=<span class="hljs-string">'学生信息表';<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>表数据:</p>
<pre><code><code class="sql language-sql hljs"><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">1,&nbsp;<span class="hljs-string">'小明',&nbsp;<span class="hljs-number">20,&nbsp;<span class="hljs-string">'画画',&nbsp;<span class="hljs-string">'该学生在画画方面有一定天赋',&nbsp;<span class="hljs-number">89);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">2,&nbsp;<span class="hljs-string">'小兰',&nbsp;<span class="hljs-number">19,&nbsp;<span class="hljs-string">'游戏',&nbsp;<span class="hljs-string">'近期该学生由于游戏的原因导致分数降低了',&nbsp;<span class="hljs-number">64);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">3,&nbsp;<span class="hljs-string">'张张',&nbsp;<span class="hljs-number">18,&nbsp;<span class="hljs-string">'英语',&nbsp;<span class="hljs-string">'近期该学生参加英语比赛获得二等奖',&nbsp;<span class="hljs-number">90);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">4,&nbsp;<span class="hljs-string">'大黄',&nbsp;<span class="hljs-number">20,&nbsp;<span class="hljs-string">'体育',&nbsp;<span class="hljs-string">'该学生近期由于参加篮球比赛,导致脚伤',&nbsp;<span class="hljs-number">76);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">5,&nbsp;<span class="hljs-string">'大白',&nbsp;<span class="hljs-number">17,&nbsp;<span class="hljs-string">'绘画',&nbsp;<span class="hljs-string">'该学生参加美术大赛获得三等奖',&nbsp;<span class="hljs-number">77);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">7,&nbsp;<span class="hljs-string">'小龙',&nbsp;<span class="hljs-number">18,&nbsp;<span class="hljs-string">'JAVA',&nbsp;<span class="hljs-string">'该学生是一个在改BUG的码农',&nbsp;<span class="hljs-number">59);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">9,&nbsp;<span class="hljs-string">'Sans',&nbsp;<span class="hljs-number">18,&nbsp;<span class="hljs-string">'睡觉',&nbsp;<span class="hljs-string">'Sans是一个爱睡觉,并且身材较矮骨骼巨大的骷髅小胖子',&nbsp;<span class="hljs-number">60);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">10,&nbsp;<span class="hljs-string">'papyrus',&nbsp;<span class="hljs-number">18,&nbsp;<span class="hljs-string">'JAVA',&nbsp;<span class="hljs-string">'Papyrus是一个讲话大声、个性张扬的骷髅，给人自信、有魅力的骷髅小瘦子',&nbsp;<span class="hljs-number">58);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">11,&nbsp;<span class="hljs-string">'删除数据1',&nbsp;<span class="hljs-number">3,&nbsp;<span class="hljs-string">'画肖像',&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-number">61);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">12,&nbsp;<span class="hljs-string">'删除数据2',&nbsp;<span class="hljs-number">3,&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-number">61);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">13,&nbsp;<span class="hljs-string">'删除数据3',&nbsp;<span class="hljs-number">3,&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-number">61);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">14,&nbsp;<span class="hljs-string">'删除数据4',&nbsp;<span class="hljs-number">5,&nbsp;<span class="hljs-string">'删除',&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-number">10);<br /><span class="hljs-keyword">INSERT&nbsp;<span class="hljs-keyword">INTO&nbsp;<span class="hljs-string">`user_info`&nbsp;<span class="hljs-keyword">VALUES&nbsp;(<span class="hljs-number">15,&nbsp;<span class="hljs-string">'删除数据5',&nbsp;<span class="hljs-number">6,&nbsp;<span class="hljs-string">'删除',&nbsp;<span class="hljs-literal">NULL,&nbsp;<span class="hljs-number">10);<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<h2>三.编写基础类</h2>
<p>在启动类上添加扫描DAO的注解</p>
<pre><code><code class="hljs java"><span class="hljs-meta">@SpringBootApplication<br /><span class="hljs-meta">@MapperScan(basePackages&nbsp;=&nbsp;{<span class="hljs-string">"com.mp.demo.dao"})&nbsp;<span class="hljs-comment">//扫描DAO<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">class&nbsp;<span class="hljs-title">DemoApplication&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">static&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">main<span class="hljs-params">(String[]&nbsp;args)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(DemoApplication.class,&nbsp;args);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>编写Config配置类</p>
<pre><code><code class="hljs java"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;MybatisPlus配置类<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/5/26&nbsp;17:20<br />&nbsp;*/<br /><span class="hljs-meta">@Configuration<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">class&nbsp;<span class="hljs-title">MybatisPlusConfig&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;mybatis-plus&nbsp;SQL执行效率插件【生产环境可以关闭】<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@Bean<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;PerformanceInterceptor&nbsp;<span class="hljs-title">performanceInterceptor<span class="hljs-params">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;<span class="hljs-keyword">new&nbsp;PerformanceInterceptor();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;分页插件<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@Bean<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;PaginationInterceptor&nbsp;<span class="hljs-title">paginationInterceptor<span class="hljs-params">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;<span class="hljs-keyword">new&nbsp;PaginationInterceptor();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>编写Entity类</p>
<pre><code><code class="hljs php"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;学生信息实体类<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/5/26&nbsp;21:41<br />&nbsp;*/<br />@Data<br />@TableName(<span class="hljs-string">"user_info")<span class="hljs-comment">//@TableName中的值对应着表名<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">class&nbsp;<span class="hljs-title">UserInfoEntity&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;主键<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@TableId中可以决定主键的类型,不写会采取默认值,默认值可以在yml中配置<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;AUTO:&nbsp;数据库ID自增<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;INPUT:&nbsp;用户输入ID<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;ID_WORKER:&nbsp;全局唯一ID，Long类型的主键<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;ID_WORKER_STR:&nbsp;字符串全局唯一ID<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;UUID:&nbsp;全局唯一ID，UUID类型的主键<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;NONE:&nbsp;该类型为未设置主键类型<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;@TableId(type&nbsp;=&nbsp;IdType.AUTO)<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;Long&nbsp;id;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;姓名<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;String&nbsp;name;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;年龄<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;Integer&nbsp;age;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;技能<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;String&nbsp;skill;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;评价<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;String&nbsp;evaluate;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;分数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;Long&nbsp;fraction;<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>编写Dao类</p>
<pre><code><code class="hljs php"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;用户信息DAO<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:24<br />&nbsp;*/<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">interface&nbsp;<span class="hljs-title">UserInfoDao&nbsp;<span class="hljs-keyword">extends&nbsp;<span class="hljs-title">BaseMapper&lt;<span class="hljs-title">UserInfoEntity&gt;&nbsp;{<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>编写Service类</p>
<pre><code><code class="hljs php"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;用户业务接口<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:26<br />&nbsp;*/<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">interface&nbsp;<span class="hljs-title">UserInfoService&nbsp;<span class="hljs-keyword">extends&nbsp;<span class="hljs-title">IService&lt;<span class="hljs-title">UserInfoEntity&gt;&nbsp;{<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>编写ServiceImpl类</p>
<pre><code><code class="hljs java"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;用户业务实现<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:26<br />&nbsp;*/<br /><span class="hljs-meta">@Service<br /><span class="hljs-meta">@Transactional<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">class&nbsp;<span class="hljs-title">UserInfoSerivceImpl&nbsp;<span class="hljs-keyword">extends&nbsp;<span class="hljs-title">ServiceImpl&lt;<span class="hljs-title">UserInfoDao,&nbsp;<span class="hljs-title">UserInfoEntity&gt;&nbsp;<span class="hljs-keyword">implements&nbsp;<span class="hljs-title">UserInfoService&nbsp;{<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<h2>四.MyBatis-Plus基础演示</h2>
<p>这里我们看到,service中我们没有写任何方法,MyBatis-Plus官方封装了许多基本CRUD的方法,可以直接使用大量节约时间,MP共通方法详见IService,ServiceImpl,BaseMapper源码,写入操作在ServiceImpl中已有事务绑定,这里我们举一些常用的方法演示.</p>
<pre><code><code class="hljs java"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;UserInfoController<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:27<br />&nbsp;*/<br /><span class="hljs-meta">@RestController<br /><span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/userInfo")<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">class&nbsp;<span class="hljs-title">UserInfoController&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@Autowired<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;UserInfoService&nbsp;userInfoService;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;根据ID获取用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:34<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;userId&nbsp;&nbsp;用户ID<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;UserInfoEntity&nbsp;用户实体<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/getInfo")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;UserInfoEntity&nbsp;<span class="hljs-title">getInfo<span class="hljs-params">(String&nbsp;userId){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserInfoEntity&nbsp;userInfoEntity&nbsp;=&nbsp;userInfoService.getById(userId);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;userInfoEntity;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;查询全部信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:35<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;userId&nbsp;&nbsp;用户ID<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;List&lt;UserInfoEntity&gt;&nbsp;用户实体集合<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/getList")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;List&lt;UserInfoEntity&gt;&nbsp;<span class="hljs-title">getList<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;UserInfoEntity&gt;&nbsp;userInfoEntityList&nbsp;=&nbsp;userInfoService.list();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;userInfoEntityList;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;分页查询全部数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:37<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;分页数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/getInfoListPage")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;<span class="hljs-title">getInfoListPage<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//需要在Config配置类中配置分页插件<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;page&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;Page&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page.setCurrent(<span class="hljs-number">5);&nbsp;<span class="hljs-comment">//当前页<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page.setSize(<span class="hljs-number">1);&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//每页条数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page&nbsp;=&nbsp;userInfoService.page(page);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;page;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;根据指定字段查询用户信息集合<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:39<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;Collection&lt;UserInfoEntity&gt;&nbsp;用户实体集合<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/getListMap")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;Collection&lt;UserInfoEntity&gt;&nbsp;<span class="hljs-title">getListMap<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;map&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;HashMap&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//kay是字段名&nbsp;value是字段值<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(<span class="hljs-string">"age",<span class="hljs-number">20);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collection&lt;UserInfoEntity&gt;&nbsp;userInfoEntityList&nbsp;=&nbsp;userInfoService.listByMap(map);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;userInfoEntityList;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;新增用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:40<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/saveInfo")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">saveInfo<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserInfoEntity&nbsp;userInfoEntity&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;UserInfoEntity();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setName(<span class="hljs-string">"小龙");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setSkill(<span class="hljs-string">"JAVA");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setAge(<span class="hljs-number">18);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setFraction(<span class="hljs-number">59L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setEvaluate(<span class="hljs-string">"该学生是一个在改BUG的码农");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.save(userInfoEntity);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;批量新增用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:42<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/saveInfoList")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">saveInfoList<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//创建对象<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserInfoEntity&nbsp;sans&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;UserInfoEntity();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sans.setName(<span class="hljs-string">"Sans");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sans.setSkill(<span class="hljs-string">"睡觉");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sans.setAge(<span class="hljs-number">18);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sans.setFraction(<span class="hljs-number">60L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sans.setEvaluate(<span class="hljs-string">"Sans是一个爱睡觉,并且身材较矮骨骼巨大的骷髅小胖子");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserInfoEntity&nbsp;papyrus&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;UserInfoEntity();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;papyrus.setName(<span class="hljs-string">"papyrus");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;papyrus.setSkill(<span class="hljs-string">"JAVA");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;papyrus.setAge(<span class="hljs-number">18);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;papyrus.setFraction(<span class="hljs-number">58L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;papyrus.setEvaluate(<span class="hljs-string">"Papyrus是一个讲话大声、个性张扬的骷髅，给人自信、有魅力的骷髅小瘦子");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//批量保存<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;UserInfoEntity&gt;&nbsp;list&nbsp;=<span class="hljs-keyword">new&nbsp;ArrayList&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.add(sans);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.add(papyrus);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.saveBatch(list);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;更新用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:47<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/updateInfo")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">updateInfo<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//根据实体中的ID去更新,其他字段如果值为null则不会更新该字段,参考yml配置文件<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserInfoEntity&nbsp;userInfoEntity&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;UserInfoEntity();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setId(<span class="hljs-number">1L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setAge(<span class="hljs-number">19);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.updateById(userInfoEntity);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;新增或者更新用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:50<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/saveOrUpdateInfo")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">saveOrUpdate<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//传入的实体类userInfoEntity中ID为null就会新增(ID自增)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//实体类ID值存在,如果数据库存在ID就会更新,如果不存在就会新增<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UserInfoEntity&nbsp;userInfoEntity&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;UserInfoEntity();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setId(<span class="hljs-number">1L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoEntity.setAge(<span class="hljs-number">20);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.saveOrUpdate(userInfoEntity);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;根据ID删除用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:52<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/deleteInfo")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">deleteInfo<span class="hljs-params">(String&nbsp;userId){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.removeById(userId);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;根据ID批量删除用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:55<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/deleteInfoList")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">deleteInfoList<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;String&gt;&nbsp;userIdlist&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;ArrayList&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userIdlist.add(<span class="hljs-string">"12");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userIdlist.add(<span class="hljs-string">"13");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.removeByIds(userIdlist);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;根据指定字段删除用户信息<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:57<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/deleteInfoMap")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;<span class="hljs-keyword">void&nbsp;<span class="hljs-title">deleteInfoMap<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//kay是字段名&nbsp;value是字段值<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;map&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;HashMap&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(<span class="hljs-string">"skill",<span class="hljs-string">"删除");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map.put(<span class="hljs-string">"fraction",<span class="hljs-number">10L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;userInfoService.removeByMap(map);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<h2>五.MyBatis-Plus的QueryWrapper条件构造器</h2>
<p>当查询条件复杂的时候,我们可以使用MP的条件构造器,请参考下面的QueryWrapper条件参数说明</p>
<p>下面我们来举一些常见的示例</p>
<pre><code><code class="hljs php"><span class="hljs-comment">/**<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Description&nbsp;UserInfoPlusController<br />&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/9&nbsp;14:52<br />&nbsp;*/<br />@RestController<br />@RequestMapping(<span class="hljs-string">"/userInfoPlus")<br /><span class="hljs-keyword">public&nbsp;<span class="hljs-class"><span class="hljs-keyword">class&nbsp;<span class="hljs-title">UserInfoPlusController&nbsp;{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;@Autowired<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">private&nbsp;UserInfoService&nbsp;userInfoService;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;MP扩展演示<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/8&nbsp;16:37<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;Map&lt;String,Object&gt;&nbsp;返回数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping(<span class="hljs-string">"/getInfoListPlus")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">public&nbsp;Map&lt;String,Object&gt;&nbsp;getInfoListPage(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//初始化返回类<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map&lt;String,Object&gt;&nbsp;result&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;HashMap&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//查询年龄等于18岁的学生<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//等价SQL:&nbsp;SELECT&nbsp;id,name,age,skill,evaluate,fraction&nbsp;FROM&nbsp;user_info&nbsp;WHERE&nbsp;age&nbsp;=&nbsp;18<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryWrapper&lt;UserInfoEntity&gt;&nbsp;queryWrapper1&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;QueryWrapper&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper1.lambda().eq(UserInfoEntity::getAge,<span class="hljs-number">18);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">List&lt;UserInfoEntity&gt;&nbsp;userInfoEntityList1&nbsp;=&nbsp;userInfoService.<span class="hljs-keyword">list(queryWrapper1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.put(<span class="hljs-string">"studentAge18",userInfoEntityList1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//查询年龄大于5岁的学生且小于等于18岁的学生<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//等价SQL:&nbsp;SELECT&nbsp;id,name,age,skill,evaluate,fraction&nbsp;FROM&nbsp;user_info&nbsp;WHERE&nbsp;age&nbsp;&gt;&nbsp;5&nbsp;AND&nbsp;age&nbsp;&lt;=&nbsp;18<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryWrapper&lt;UserInfoEntity&gt;&nbsp;queryWrapper2&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;QueryWrapper&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper2.lambda().gt(UserInfoEntity::getAge,<span class="hljs-number">5);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper2.lambda().le(UserInfoEntity::getAge,<span class="hljs-number">18);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">List&lt;UserInfoEntity&gt;&nbsp;userInfoEntityList2&nbsp;=&nbsp;userInfoService.<span class="hljs-keyword">list(queryWrapper2);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.put(<span class="hljs-string">"studentAge5",userInfoEntityList2);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//模糊查询技能字段带有"画"的数据,并按照年龄降序<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//等价SQL:&nbsp;SELECT&nbsp;id,name,age,skill,evaluate,fraction&nbsp;FROM&nbsp;user_info&nbsp;WHERE&nbsp;skill&nbsp;LIKE&nbsp;'%画%'&nbsp;ORDER&nbsp;BY&nbsp;age&nbsp;DESC<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryWrapper&lt;UserInfoEntity&gt;&nbsp;queryWrapper3&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;QueryWrapper&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper3.lambda().like(UserInfoEntity::getSkill,<span class="hljs-string">"画");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper3.lambda().orderByDesc(UserInfoEntity::getAge);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">List&lt;UserInfoEntity&gt;&nbsp;userInfoEntityList3&nbsp;=&nbsp;userInfoService.<span class="hljs-keyword">list(queryWrapper3);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.put(<span class="hljs-string">"studentAgeSkill",userInfoEntityList3);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//模糊查询名字带有"小"或者年龄大于18的学生<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//等价SQL:&nbsp;SELECT&nbsp;id,name,age,skill,evaluate,fraction&nbsp;FROM&nbsp;user_info&nbsp;WHERE&nbsp;name&nbsp;LIKE&nbsp;'%小%'&nbsp;OR&nbsp;age&nbsp;&gt;&nbsp;18<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryWrapper&lt;UserInfoEntity&gt;&nbsp;queryWrapper4&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;QueryWrapper&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper4.lambda().like(UserInfoEntity::getName,<span class="hljs-string">"小");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper4.lambda().<span class="hljs-keyword">or().gt(UserInfoEntity::getAge,<span class="hljs-number">18);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">List&lt;UserInfoEntity&gt;&nbsp;userInfoEntityList4&nbsp;=&nbsp;userInfoService.<span class="hljs-keyword">list(queryWrapper4);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.put(<span class="hljs-string">"studentOr",userInfoEntityList4);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//查询评价不为null的学生,并且分页<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//等价SQL:&nbsp;SELECT&nbsp;id,name,age,skill,evaluate,fraction&nbsp;FROM&nbsp;user_info&nbsp;WHERE&nbsp;evaluate&nbsp;IS&nbsp;NOT&nbsp;NULL&nbsp;LIMIT&nbsp;0,5<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;page&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;Page&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page.setCurrent(<span class="hljs-number">1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page.setSize(<span class="hljs-number">5);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueryWrapper&lt;UserInfoEntity&gt;&nbsp;queryWrapper5&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;QueryWrapper&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queryWrapper5.lambda().isNotNull(UserInfoEntity::getEvaluate);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page&nbsp;=&nbsp;userInfoService.page(page,queryWrapper5);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.put(<span class="hljs-string">"studentPage",page);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;result;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<h2>六.自定义SQL</h2>
<p>引入Mybatis-Plus不会对项目现有的 Mybatis 构架产生任何影响，而且Mybatis-Plus支持所有 Mybatis 原生的特性,这也是我喜欢使用它的原因之一,由于某些业务复杂,我们可能要自己去写一些比较复杂的SQL语句,我们举一个简单的例子来演示自定义SQL.</p>
<p>示例:查询大于设置分数的学生(分数为动态输入,且有分页)</p>
<p>编写Mapper.xml文件</p>
<pre><code><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">mapper&nbsp;<span class="hljs-attr">namespace=<span class="hljs-string">"com.mp.demo.dao.UserInfoDao"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">&lt;!--&nbsp;Sans&nbsp;2019/6/9&nbsp;14:35&nbsp;--&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">select&nbsp;<span class="hljs-attr">id=<span class="hljs-string">"selectUserInfoByGtFraction"&nbsp;<span class="hljs-attr">resultType=<span class="hljs-string">"com.mp.demo.entity.UserInfoEntity"&nbsp;<span class="hljs-attr">parameterType=<span class="hljs-string">"long"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;SELECT&nbsp;*&nbsp;FROM&nbsp;user_info&nbsp;WHERE&nbsp;fraction&nbsp;&gt;&nbsp;#{fraction}<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">select&gt;<br /><span class="hljs-tag">&lt;/<span class="hljs-name">mapper&gt;<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>在DAO中加入方法</p>
<pre><code><code class="hljs java">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;查询大于该分数的学生<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/9&nbsp;14:28<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;page&nbsp;&nbsp;分页参数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;fraction&nbsp;&nbsp;分数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;分页数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function">IPage&lt;UserInfoEntity&gt;&nbsp;<span class="hljs-title">selectUserInfoByGtFraction<span class="hljs-params">(IPage&lt;UserInfoEntity&gt;&nbsp;page,&nbsp;Long&nbsp;fraction);<br /></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>在service加入方法</p>
<pre><code><code class="hljs java">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;查询大于该分数的学生<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/9&nbsp;14:27<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;page&nbsp;&nbsp;分页参数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;fraction&nbsp;&nbsp;分数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;分页数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function">IPage&lt;UserInfoEntity&gt;&nbsp;<span class="hljs-title">selectUserInfoByGtFraction<span class="hljs-params">(IPage&lt;UserInfoEntity&gt;&nbsp;page,Long&nbsp;fraction);<br /></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>在serviceImpl加入方法</p>
<pre><code><code class="hljs kotlin">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;查询大于该分数的学生<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/9&nbsp;14:27<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;page&nbsp;&nbsp;分页参数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Param&nbsp;&nbsp;fraction&nbsp;&nbsp;分数<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;分页数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@Override<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">public&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;selectUserInfoByGtFraction(IPage&lt;UserInfoEntity&gt;&nbsp;page,&nbsp;<span class="hljs-built_in">Long&nbsp;fraction)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;<span class="hljs-keyword">this.baseMapper.selectUserInfoByGtFraction(page,fraction);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<p>在Controller中测试</p>
<pre><code><code class="hljs java">&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;MP自定义SQL<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Author&nbsp;Sans<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@CreateTime&nbsp;2019/6/9&nbsp;14:37<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;<span class="hljs-doctag">@Return&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;分页数据<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-meta">@RequestMapping(<span class="hljs-string">"/getInfoListSQL")<br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function"><span class="hljs-keyword">public&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;<span class="hljs-title">getInfoListSQL<span class="hljs-params">(){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//查询大于60分以上的学生,并且分页<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IPage&lt;UserInfoEntity&gt;&nbsp;page&nbsp;=&nbsp;<span class="hljs-keyword">new&nbsp;Page&lt;&gt;();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page.setCurrent(<span class="hljs-number">1);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page.setSize(<span class="hljs-number">5);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;page&nbsp;=&nbsp;userInfoService.selectUserInfoByGtFraction(page,<span class="hljs-number">60L);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return&nbsp;page;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></code></code></pre>
<h2>七.项目源码</h2>
<p>项目源码:</p>
<blockquote>
<p>https://gitee.com/liselotte/spring-boot-mp-demo</p>
</blockquote>
<p>个人确实很喜欢用MyBatis-Plus,不仅节约时间,代码也简洁干净,它给了我那时候从SSM到SpringBoot过度的那种感觉</p>
<p>嗯,这玩意真香~</p>
<p><em><strong>推荐阅读(点击即可跳转阅读)</strong></em></p>
<p>&nbsp;</p>
<p><strong>1.</strong>&nbsp;<a href="https://www.javazhiyin.com/go?url=http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488811&amp;idx=2&amp;sn=0d054027651bef114ae6bec5a8f62359&amp;chksm=ebd62a07dca1a3111269692dd9b0a5ab8af7d2038b8ec6600a057573364e76db1332adc5fd46&amp;scene=21#wechat_redirect" rel="nofollow" target="_blank">SpringBoot内容聚合</a></p>
<p><strong>2.&nbsp;</strong><a href="https://www.javazhiyin.com/go?url=http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488811&amp;idx=3&amp;sn=b04d8fdacf575c7ec959de4107f31091&amp;chksm=ebd62a07dca1a31186f7f62de60ba7c7a88db26233562ed7183c6f609c5e7f4ffb448f30375f&amp;scene=21#wechat_redirect" rel="nofollow" target="_blank">面试题内容聚合</a></p>
<p><strong>3.&nbsp;</strong><a href="https://www.javazhiyin.com/go?url=http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488811&amp;idx=4&amp;sn=ec20f59a5b67a59d98d221bd20d78448&amp;chksm=ebd62a07dca1a31188dafea0e6984b4883fa972a32ff31da2df6f52fcc73b56c6c9454751d73&amp;scene=21#wechat_redirect" rel="nofollow" target="_blank">设计模式内容聚合</a></p>
<p><strong>4.&nbsp;</strong><a href="https://www.javazhiyin.com/go?url=http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488945&amp;idx=2&amp;sn=2c0326af621ac51f33720e2608121cef&amp;chksm=ebd62a9ddca1a38b8e284b413a8eea08aa452fdeda3c4740325803514d30029a2ab4af5bdfed&amp;scene=21#wechat_redirect" rel="nofollow" target="_blank">Mybatis内容聚合</a></p>
<p><strong>5.&nbsp;</strong><a href="https://www.javazhiyin.com/go?url=http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488811&amp;idx=6&amp;sn=a769526cf5c4dfc5b0f8e5a40f984cff&amp;chksm=ebd62a07dca1a3116cc6c45ceb7a81d47293b9811c8df97b5ca363c6370ffccfd913bab3599f&amp;scene=21#wechat_redirect" rel="nofollow" target="_blank">多线程内容聚合</a></p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>