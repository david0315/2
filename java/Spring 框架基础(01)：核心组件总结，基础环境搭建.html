<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Spring 框架基础(01)：核心组件总结，基础环境搭建' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Spring 框架基础(01)：核心组件总结，基础环境搭建</center></div><div class='banquan'>原文出处:本文由博客园博主知了一笑提供。<br/>
原文连接:https://www.cnblogs.com/cicada-smile/p/11495324.html</div><br>
    <p>本文源码：<a href="https://github.com/cicadasmile/spring-mvc-parent">GitHub·点这里</a> || <a href="https://gitee.com/cicadasmile/spring-mvc-parent">GitEE·点这里</a></p>
<h1 id="一spring框架">一、Spring框架</h1>
<h2 id="框架简介">1、框架简介</h2>
<blockquote>
<p>Spring是一个开源框架，框架的主要优势之一就是其分层架构，分层架构允许使用者选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。Spring使用基本的JavaBean来完成以前只可能由EJB完成的事情。然而，Spring的用途不仅限于服务器端的开发。从简单性、可测试性和松耦合的角度而言，任何Java应用都可以从Spring中受益。简单来说，Spring是一个分层的轻量级开源框架。</p>
</blockquote>
<h2 id="优点分析">2、优点分析</h2>
<p><strong>1)、分层架构</strong></p>
<p>一站式，每一个层都提供的解决方案<br />
web层：struts，spring-MVC<br />
service层：spring<br />
dao层：hibernate，mybatis，jdbcTemplate，JPA</p>
<p><strong>2)、轻量级</strong></p>
<p>依赖资源少，销毁的资源少。</p>
<p><strong>3)、高内聚低耦合</strong></p>
<p>Spring就是一个大容器，可以将所有对象创建和依赖关系统一维护，交给Spring管理。</p>
<p><strong>4)、AOP编程的支持</strong></p>
<p>Spring提供面向切面编程，可以方便的实现对程序进行权限拦截、运行监控等功能。</p>
<p><strong>5)、事务的支持</strong></p>
<p>只需要通过配置就可以完成对事务的管理，而无需手动编程</p>
<p><strong>6)、集成测试</strong></p>
<p>Spring对Junit4支持，可以通过注解方便的测试Spring程序。</p>
<p><strong>7)、降低API的使用难度</strong></p>
<p>Spring 对JavaEE开发中非常难用的一些API（JDBC、JavaMail、远程调用等），都提供了封装，使这些API应用难度大大降低</p>
<p><strong>8)、集成各种框架</strong></p>
<p>Spring不排斥各种优秀的开源框架，其内部提供了对各种优秀框架的集成，如：Struts、Hibernate、MyBatis等。</p>
<h1 id="二核心组件分析">二、核心组件分析</h1>
<p><img src="./images/Spring 框架基础(01)：核心组件总结，基础环境搭建0.png" /></p>
<p><strong>1、核心容器</strong></p>
<blockquote>
<p>容器是Spring框架的核心模式，该模块包含Bean的创建、配置、管理等功能。</p>
</blockquote>
<p><strong>2、AOP编程</strong></p>
<blockquote>
<p>AOP 编程可以帮助应用程序解耦，使用AOP编程模式，可以把系统中的核心点从对象方法中解耦，统一管理。</p>
</blockquote>
<p><strong>3、数据访问</strong></p>
<blockquote>
<p>该模块集成了JDBC，解决JDBC开发模式导致的大量代码冗余，集成常用的Dao层框架，hibernate，mybatis等，使开发环境的搭建更加便捷。</p>
</blockquote>
<p><strong>4、Web编程</strong></p>
<blockquote>
<p>Spring不仅集成各种流程的MVC框架，还自带springmvc强大的框架，有助实现界面逻辑和应用程序分离，在Web层面实现应用的解耦。</p>
</blockquote>
<h1 id="三环境搭建">三、环境搭建</h1>
<p>项目结构图：</p>
<p><img src="./images/Spring 框架基础(01)：核心组件总结，基础环境搭建1.png" /></p>
<h2 id="spring环境配置">1、Spring环境配置</h2>
<ul>
<li>spring-context</li>
</ul>
<p>Spring框架上下文环境容器配置。</p>
<pre><code><code>&lt;!--读取外部配置文件--&gt;
&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;
    &lt;!-- 允许JVM参数覆盖 --&gt;
    &lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot;/&gt;
    &lt;!--忽略没有找到的配置参数--&gt;
    &lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot;/&gt;
    &lt;!--资源文件位置--&gt;
    &lt;property name=&quot;locations&quot;&gt;
        &lt;list&gt;
            &lt;value&gt;classpath:jdbc.properties&lt;/value&gt;
        &lt;/list&gt;
    &lt;/property&gt;
&lt;/bean&gt;
&lt;!-- 启动组件扫描，排除@Controller组件，该组件由SpringMVC配置文件扫描 --&gt;
&lt;context:component-scan base-package=&quot;com.spring.mvc&quot;&gt;
    &lt;context:exclude-filter type=&quot;annotation&quot;
                            expression=&quot;org.springframework.stereotype.Controller&quot; /&gt;
&lt;/context:component-scan&gt;
&lt;!-- 配置DRUID的连接池 --&gt;
&lt;bean id=&quot;druidDataSource&quot; abstract=&quot;true&quot;&gt;
    &lt;!-- 配置初始化,最小,最大 --&gt;
    &lt;property name=&quot;initialSize&quot; value=&quot;${jdbc.initialSize}&quot;/&gt;
    &lt;property name=&quot;minIdle&quot; value=&quot;${jdbc.minIdle}&quot; /&gt;
    &lt;property name=&quot;maxActive&quot; value=&quot;${jdbc.maxActive}&quot; /&gt;
    &lt;!-- 配置连接等待超时时间 --&gt;
    &lt;property name=&quot;maxWait&quot; value=&quot;${jdbc.maxWait}&quot; /&gt;
    &lt;!-- 配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒 --&gt;
    &lt;property name=&quot;timeBetweenEvictionRunsMillis&quot; value=&quot;${jdbc.timeBetweenEvictionRunsMillis}&quot; /&gt;
    &lt;!-- 配置一个连接在池中的最小生存时间,单位毫秒 --&gt;
    &lt;property name=&quot;minEvictableIdleTimeMillis&quot; value=&quot;${jdbc.minEvictableIdleTimeMillis}&quot; /&gt;
    &lt;property name=&quot;validationQuery&quot; value=&quot;SELECT &#39;x&#39;&quot; /&gt;
    &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot; /&gt;
    &lt;property name=&quot;testOnBorrow&quot; value=&quot;false&quot; /&gt;
    &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot; /&gt;
    &lt;!-- 打开PSCache，并且指定每个连接上PSCache的大小 --&gt;
    &lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot; /&gt;
    &lt;property name=&quot;maxPoolPreparedStatementPerConnectionSize&quot; value=&quot;20&quot; /&gt;
    &lt;!-- 配置监控统计拦截的filters，去掉后监控界面SQL无法统计 --&gt;
    &lt;property name=&quot;filters&quot; value=&quot;stat&quot; /&gt;
&lt;/bean&gt;
&lt;!-- 设置数据源信息 --&gt;
&lt;bean id=&quot;dataSource&quot; class=&quot;com.alibaba.druid.pool.DruidDataSource&quot; destroy-method=&quot;close&quot; parent=&quot;druidDataSource&quot;&gt;
    &lt;!-- 配置连接的基本信息 --&gt;
    &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;
    &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;
    &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;
    &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;
&lt;/bean&gt;
&lt;!--Spring整合mybatis--&gt;
&lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
    &lt;!--读取mybatis配置文件--&gt;
    &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis/mybatis-config.xml&quot;/&gt;
    &lt;!-- 自动扫描mapper.xml映射文件 --&gt;
    &lt;property name=&quot;mapperLocations&quot; value=&quot;classpath:mybatis/mapper/**.xml&quot;/&gt;
    &lt;!--分页助手插件--&gt;
    &lt;property name=&quot;plugins&quot;&gt;
        &lt;array&gt;
            &lt;bean class=&quot;com.github.pagehelper.PageHelper&quot;&gt;
                &lt;property name=&quot;properties&quot;&gt;
                    &lt;value&gt;
                        dialect=mysql
                    &lt;/value&gt;
                &lt;/property&gt;
            &lt;/bean&gt;
        &lt;/array&gt;
    &lt;/property&gt;
&lt;/bean&gt;
&lt;!-- Mapper接口文件扫描 --&gt;
&lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;
    &lt;property name=&quot;basePackage&quot; value=&quot;com.spring.mvc.mapper&quot; /&gt;
    &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot; /&gt;
&lt;/bean&gt;
&lt;!--设置JDBC操作数据库--&gt;
&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot; lazy-init=&quot;false&quot;&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
&lt;/bean&gt;
&lt;!--设置mybatis操作数据库--&gt;
&lt;bean id=&quot;sqlSessionTemplate&quot; class=&quot;org.mybatis.spring.SqlSessionTemplate&quot;&gt;
    &lt;constructor-arg index=&quot;0&quot; ref=&quot;sqlSessionFactory&quot;/&gt;
&lt;/bean&gt;
&lt;!--方式一：spring事物管理器--&gt;
&lt;bean id=&quot;dataSourceTransactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;
    &lt;!-- 关联数据源 --&gt;
    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;
&lt;/bean&gt;
&lt;!--开启事务控制的注解支持--&gt;
&lt;tx:annotation-driven transaction-manager=&quot;dataSourceTransactionManager&quot;/&gt;
&lt;!--配置手动事物管理--&gt;
&lt;bean id=&quot;transactionTemplate&quot; class=&quot;org.springframework.transaction.support.TransactionTemplate&quot;&gt;
    &lt;property name=&quot;transactionManager&quot; ref=&quot;dataSourceTransactionManager&quot;/&gt;
&lt;/bean&gt;</code></code></pre>
<ul>
<li>spring-mvc</li>
</ul>
<p>Mvc开发环境容器配置。</p>
<pre><code><code>&lt;!--扫描文件--&gt;
&lt;context:component-scan base-package=&quot;com.spring.mvc.controller&quot; /&gt;
&lt;!-- MVC默认的注解映射的方式 --&gt;
&lt;mvc:annotation-driven /&gt;
&lt;mvc:default-servlet-handler/&gt;
&lt;!-- 视图解析器 --&gt;
&lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
    &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/page/&quot; /&gt;
    &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;
&lt;/bean&gt;</code></code></pre>
<h2 id="jdbc参数配置">2、jdbc参数配置</h2>
<pre><code><code>jdbc.driverClassName=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/spring-mvc
jdbc.username=root
jdbc.password=123
jdbc.initialSize=10
jdbc.minIdle=10
jdbc.maxActive=120
jdbc.maxWait=60000
jdbc.timeBetweenEvictionRunsMillis=60000
jdbc.minEvictableIdleTimeMillis=300000</code></code></pre>
<h2 id="mybatis配置">3、mybatis配置</h2>
<p>mybatis-config.xml文件</p>
<pre><code><code>&lt;configuration&gt;
    &lt;settings&gt;
        &lt;!--打印sql语句--&gt;
        &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt;
    &lt;/settings&gt;
&lt;/configuration&gt;</code></code></pre>
<h2 id="web.xml配置">4、web.xml配置</h2>
<pre><code><code>&lt;display-name&gt;frame_spring&lt;/display-name&gt;
&lt;!--Spring相关配置--&gt;
&lt;context-param&gt;
    &lt;param-name&gt;encoding&lt;/param-name&gt;
    &lt;param-value&gt;UTF-8&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
    &lt;param-value&gt;classpath:spring*.xml&lt;/param-value&gt;
&lt;/context-param&gt;
&lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;
&lt;servlet&gt;
    &lt;servlet-name&gt;spring-mvc&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
        &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;spring-mvc&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;
&lt;!-- 编码过滤器，以UTF8编码 --&gt;
&lt;filter&gt;
    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;encoding&lt;/param-name&gt;
        &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
    &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;</code></code></pre>
<h2 id="pom.xml配置">5、pom.xml配置</h2>
<pre><code><code>&lt;build&gt;
    &lt;finalName&gt;${pom.artifactId}&lt;/finalName&gt;
    &lt;resources&gt;
        &lt;resource&gt;
            &lt;directory&gt;src/main/java&lt;/directory&gt;
            &lt;includes&gt;
                &lt;include&gt;**/*.xml&lt;/include&gt;
            &lt;/includes&gt;
        &lt;/resource&gt;
        &lt;resource&gt;
            &lt;directory&gt;src/main/resources&lt;/directory&gt;
            &lt;includes&gt;
                &lt;include&gt;**/*&lt;/include&gt;
            &lt;/includes&gt;
        &lt;/resource&gt;
    &lt;/resources&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
            &lt;version&gt;2.3.2&lt;/version&gt;
            &lt;configuration&gt;
                &lt;source&gt;1.8&lt;/source&gt;
                &lt;target&gt;1.8&lt;/target&gt;
                &lt;encoding&gt;UTF-8&lt;/encoding&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></code></pre>
<h1 id="四源代码地址">四、源代码地址</h1>
<pre><code><code>GitHub·地址
https://github.com/cicadasmile/spring-mvc-parent
GitEE·地址
https://gitee.com/cicadasmile/spring-mvc-parent</code></code></pre>
<p><img src="./images/Spring 框架基础(01)：核心组件总结，基础环境搭建2.png" /></p>


</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>