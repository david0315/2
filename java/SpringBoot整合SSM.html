<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修SpringBoot整合SSM' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>SpringBoot整合SSM</center></div><div class='banquan'>原文出处:本文由博客园博主Kaspar_Choo提供。<br/>
原文连接:https://www.cnblogs.com/kaspar/p/11577056.html</div><br>
    <p>其实更准确来说，是整合了MyyBatis。</p>
<h2><!--[if !supportLists]-->1.&nbsp;<!--[endif]--><strong>创建工程</strong></h2>
<h5><strong><span style="font-family: 宋体;">这里我们推荐使用官方提供的</span>springboot<span style="font-family: 宋体;">工具，我觉得这个其实听方便的。</span></strong></h5>
<p><strong><span style="font-family: 宋体;"><img src="./images/SpringBoot整合SSM0.png" alt="" /></span></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong><span style="font-family: 宋体;"><img src="./images/SpringBoot整合SSM1.png" alt="" /></span></strong></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;<img src="./images/SpringBoot整合SSM2.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>需要依赖了可以再去加。需要注意的一点是，约定优于配置，这个看自己去理解了。</p>
<h5><strong><span style="font-family: 宋体;">别的</span>IDE<span style="font-family: 宋体;">像</span><span style="font-family: Calibri;">Eclipse</span><span style="font-family: 宋体;">、</span><span style="font-family: Calibri;">idea</span><span style="font-family: 宋体;">都是可以通过</span><span style="font-family: Calibri;">springboot</span><span style="font-family: 宋体;">插件实现和上面类似的方式第一种方式。至于怎么安装，详情见百度。</span></strong></h5>
<p><span style="font-family: 宋体;">下面以</span>idea<span style="font-family: 宋体;">为例，提供示例：</span></p>
<p class="p"><span style="font-family: Helvetica;">使用</span>idea可以快速创建SpringBoot的工程</p>
<p class="p"><img src="./images/SpringBoot整合SSM3.png" alt="" /></p>
<p>&nbsp;</p>
<p><img src="./images/SpringBoot整合SSM4.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-family: Helvetica;">这里选择常用的类库，</span>SpringBoot将各种框架类库都进行了封装，可以减少pom文件中的引用配置：</p>
<p><img src="./images/SpringBoot整合SSM5.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><strong>搞清楚差别，我们同样可以手动修改整合，不过既然有了项目构建框架，我们也实属没必要烧头发了。下面来对比下差别。</strong></p>
<p class="p"><span style="font-family: Helvetica;">比如</span>Spring和Mybatis整合的时候，传统Spring项目中需要引入：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" nowrap="nowrap" width="69">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
<p align="right">9</p>
<p align="right">10</p>
</td>
<td valign="top" nowrap="nowrap" width="333">
<p>&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.mybatis&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;mybatis&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;version&gt;3.4.1&lt;/version&gt;</p>
<p>&lt;/dependency&gt;</p>
<p>&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.mybatis&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;version&gt;1.3.1&lt;/version&gt;</p>
<p>&lt;/dependency&gt;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="p"><span style="font-family: Helvetica;">而在</span>SpringBoot中引入的是：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" nowrap="nowrap" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
</td>
<td valign="top" nowrap="nowrap" width="418">
<p>&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;version&gt;1.3.1&lt;/version&gt;</p>
<p>&lt;/dependency&gt;</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="p"><span style="font-family: Helvetica;">可以看到这个类库中除了</span>mybatis和mybatis-spring之外，还有spring-boot的东西。</p>
<p class="p"><img src="./images/SpringBoot整合SSM6.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="p"><span style="font-family: Helvetica;">完整的</span>pom.xml如下:</p>
<p>&lt;parent&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.5.10.RELEASE&lt;/version&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;</p>
<p>&lt;/parent&gt;</p>
<p>&lt;properties&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;java.version&gt;1.8&lt;/java.version&gt;</p>
<p>&lt;/properties&gt;</p>
<p>&lt;dependencies&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.3.1&lt;/version&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scope&gt;provided&lt;/scope&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;mysql&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scope&gt;runtime&lt;/scope&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;scope&gt;test&lt;/scope&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--使用jsp页面--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;jstl&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;jstl&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.2&lt;/version&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/dependency&gt;</p>
<p>&lt;/dependencies&gt;</p>
<p>&lt;build&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;finalName&gt;boot&lt;/finalName&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;plugins&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;plugin&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &lt;/plugin&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/plugins&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;resources&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;src/main/java&lt;/directory&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;includes&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/*.xml&lt;/include&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/includes&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;resource&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;directory&gt;src/main/resources&lt;/directory&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;includes&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/*.xml&lt;/include&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;include&gt;**/*.properties&lt;/include&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/includes&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resource&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resources&gt;</p>
<p>&lt;/build&gt;</p>
<p class="p">完整的工程路径如下：</p>
<p class="p"><img src="./images/SpringBoot整合SSM7.png" alt="" /></p>
<h2>2.&nbsp;<strong><span style="font-family: 微软雅黑;">实体类和</span>DAO</strong></h2>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="35">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
</td>
<td valign="top" width="316">
<p>public&nbsp;class&nbsp;Dept {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Integer id;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String name;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//getter/setter方法略</p>
<p>}</p>
</td>
</tr>
<tr>
<td valign="top" width="35">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
</td>
<td colspan="2" valign="top" width="369">
<p>public&nbsp;interface&nbsp;DeptDAO {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//查询列表，演示使用传统的mapper映射文件</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Dept&gt; getDeltList();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//插入，演示使用注解编写sql，省略xml配置</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Insert("insert into DEPT(NAME) values(#{name})")</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Options(useGeneratedKeys =&nbsp;true, keyProperty =&nbsp;"id", keyColumn =&nbsp;"ID")</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addDept(String name);</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<h2>2.&nbsp;<strong><span style="font-family: 微软雅黑;">实体类和</span>DAO</strong></h2>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="35">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
</td>
<td valign="top" width="316">
<p>public&nbsp;class&nbsp;Dept {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;Integer id;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String name;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//getter/setter方法略</p>
<p>}</p>
</td>
</tr>
<tr>
<td valign="top" width="35">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
</td>
<td colspan="2" valign="top" width="369">
<p>public&nbsp;interface&nbsp;DeptDAO {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//查询列表，演示使用传统的mapper映射文件</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Dept&gt; getDeltList();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//插入，演示使用注解编写sql，省略xml配置</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Insert("insert into DEPT(NAME) values(#{name})")</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Options(useGeneratedKeys =&nbsp;true, keyProperty =&nbsp;"id", keyColumn =&nbsp;"ID")</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addDept(String name);</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<p class="p"><strong>DeptMapper.xml</strong></p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="500">
<p>&lt;?xml version="1.0"&nbsp;encoding="UTF-8"?&gt;</p>
<p>&lt;!DOCTYPE mapper PUBLIC&nbsp;"-//mybatis.org//DTD Mapper 3.0//EN"&nbsp;"http://mybatis.org/dtd/mybatis-3-mapper.dtd"&nbsp;&gt;</p>
<p>&lt;mapper namespace="com.test.springboot.ssm.dao.DeptDAO"&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;resultMap id="deptMap"&nbsp;type="Dept"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;id property="id"&nbsp;column="ID"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;result property="name"&nbsp;column="NAME"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/resultMap&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&lt;select id="getDeltList"&nbsp;resultMap="deptMap"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;select ID,NAME from DEPT</p>
<p>&nbsp;&nbsp;&nbsp;&lt;/select&gt;</p>
<p>&lt;/mapper&gt;</p>
</td>
</tr>
</tbody>
</table>
<h2><strong>3.Service</strong></h2>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="35">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
</td>
<td valign="top" width="286">
<p>public&nbsp;interface&nbsp;DeptService {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Dept&gt; getDeltList();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;void&nbsp;addDept(String name);</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<p>@Service</p>
<p>&nbsp;public&nbsp;class&nbsp;DeptServiceImpl&nbsp;implements&nbsp;DeptService {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Autowired</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;DeptDAO deptDAO;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;@Override</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;List&lt;Dept&gt; getDeltList() {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;deptDAO.getDeltList();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Override</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;addDept(String name) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deptDAO.addDept(name);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>}</p>
<h2><strong>4. Controller和页面</strong></h2>
<p>@Controller</p>
<p>&nbsp;public&nbsp;class&nbsp;DeptController {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Autowired</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;DeptService deptService;</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping("list.html")</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;ModelAndView list() {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Dept&gt; deptList = deptService.getDeltList();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;ModelAndView("list",&nbsp;"deptList", deptList);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@RequestMapping("add.html")</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;String add(String name) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deptService.addDept(name);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//添加成功后重定向到列表页</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"redirect:list.html";</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>}</p>
<p class="p"><strong>add.jsp</strong></p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
</td>
<td valign="top" width="245">
<p>&lt;form action="/add.html"&nbsp;method="post"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;部门名:&lt;input type="text"&nbsp;name="name"/&gt;&lt;br/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;input type="submit"&nbsp;value="add"/&gt;</p>
<p>&lt;/form&gt;</p>
</td>
</tr>
</tbody>
</table>
<p class="p"><strong>list.jsp</strong></p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="35">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
</td>
<td valign="top" width="259">
<p>&lt;c:forEach items="${deptList}"&nbsp;var="dept"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;${dept.id}-${dept.name}&lt;br/&gt;</p>
<p>&lt;/c:forEach&gt;</p>
</td>
</tr>
</tbody>
</table>
<h2><strong>5.启动类</strong></h2>
<p class="p"><span style="font-family: 微软雅黑;">到目前为止，项目与传统的</span>spring没有任何区别。</p>
<p class="p"><span style="font-family: 微软雅黑;">传统</span>spring项目中需要增加下面两个配置文件，而SpringBoot中没有配置文件：</p>
<p class="p"><span style="font-family: 微软雅黑;">传统</span>Spring项目中有以下文件：</p>
<p class="p">spring-config.xml</p>
<p>&lt;?xml version="1.0"&nbsp;encoding="UTF-8"?&gt;</p>
<p>&lt;beans xmlns="http://www.springframework.org/schema/beans"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:aop="http://www.springframework.org/schema/aop"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:context="http://www.springframework.org/schema/context"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:tx="http://www.springframework.org/schema/tx"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/context</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/context/spring-context-4.2.xsd</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--扫描@Service<span style="font-family: Consolas;">注解</span>--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;context:component-scan base-package="com.test.springboot.ssm.service"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;context:include-filter type="annotation"&nbsp;expression="org.springframework.stereotype.Service"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/context:component-scan&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--读取配置文件--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;context:property-placeholder location="classpath:db.properties"&nbsp;ignore-unresolvable="true"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--从配置文件中获取数据源--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean id="dataSource"&nbsp;class="org.springframework.jdbc.datasource.DriverManagerDataSource"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="driverClassName"&nbsp;value="${jdbc.driver}"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="url"&nbsp;value="${jdbc.url}"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="username"&nbsp;value="${jdbc.username}"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="password"&nbsp;value="${jdbc.password}"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bean&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--spring管理session工厂--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean id="sqlSessionFactory"&nbsp;class="org.mybatis.spring.SqlSessionFactoryBean"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="dataSource"&nbsp;ref="dataSource"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="mapperLocations"&nbsp;value="classpath:com/test/springboot/ssm/dao/mapper/*.xml"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--配置实体类别名别名--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="typeAliasesPackage"&nbsp;value="com.test.springboot.ssm.pojo"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bean&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--扫描所有mybatis的dao接口，生成代理实现类--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean&nbsp;class="org.mybatis.spring.mapper.MapperScannerConfigurer"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="basePackage"&nbsp;value="com.test.springboot.ssm.dao"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bean&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- 配置事务管理器 --&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean id="transactionManager"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class="org.springframework.jdbc.datasource.DataSourceTransactionManager"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="dataSource"&nbsp;ref="dataSource"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bean&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--事务增强--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:advice id="txAdvice"&nbsp;transaction-manager="transactionManager"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:attributes&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- 传播行为，匹配的是方法名 --&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:method name="add*"&nbsp;rollback-for="Exception"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:method name="delete*"&nbsp;rollback-for="Exception"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:method name="update*"&nbsp;rollback-for="Exception"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:method name="get*"&nbsp;propagation="SUPPORTS"&nbsp;read-only="true"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tx:method name="do*"&nbsp;rollback-for="Exception"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tx:attributes&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tx:advice&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- 通过AOP配置提供事务增强，让service包下所有Bean的所有方法拥有事务 --&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;aop:config&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;aop:pointcut id="serviceMethod"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression="execution(* com.test.springboot.ssm..*(..))"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;aop:advisor pointcut-ref="serviceMethod"&nbsp;advice-ref="txAdvice"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/aop:config&gt;</p>
<p>&nbsp;</p>
<p>&lt;/beans&gt;</p>
<p class="p"><strong>springMVC-servlet.xml</strong></p>
<p>&lt;?xml version="1.0"&nbsp;encoding="UTF-8"?&gt;</p>
<p>&lt;beans xmlns="http://www.springframework.org/schema/beans"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:context="http://www.springframework.org/schema/context"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:mvc="http://www.springframework.org/schema/mvc"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsi:schemaLocation="</p>
<p>&nbsp;&nbsp;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd</p>
<p>&nbsp;&nbsp;http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd</p>
<p>&nbsp;&nbsp;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd"&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;mvc:annotation-driven/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--扫描Controller所在的包--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;context:component-scan base-package="com.ssm.blog.controller"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;context:include-filter type="annotation"&nbsp;expression="org.springframework.stereotype.Controller"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/context:component-scan&gt;</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- 配置视图解析器--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;bean&nbsp;class="org.springframework.web.servlet.view.InternalResourceViewResolver"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="prefix"&nbsp;value="/"&gt;&lt;/property&gt;&lt;!--前缀--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="suffix"&nbsp;value=".jsp"&gt;&lt;/property&gt;&lt;!--后缀--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/bean&gt;</p>
<p>&nbsp;</p>
<p>&lt;/beans&gt;</p>
<p class="p"><strong>web.xml</strong></p>
<p>&lt;?xml version="1.0"&nbsp;encoding="UTF-8"?&gt;</p>
<p>&lt;web-app xmlns="http://java.sun.com/xml/ns/javaee"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsi:schemaLocation="http://java.sun.com/xml/ns/javaee</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version="3.0"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;context-param&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-value&gt;classpath:spring-config.xml&lt;/param-value&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/context-param&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--配置listener，在启动Web容器的时候加载Spring的配置--&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/listener&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;filter&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;init-param&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-name&gt;encoding&lt;/param-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-value&gt;UTF-8&lt;/param-value&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/init-param&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;init-param&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-name&gt;forceEncoding&lt;/param-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-value&gt;true&lt;/param-value&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/init-param&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/filter&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;filter-mapping&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;url-pattern&gt;/*&lt;/url-pattern&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/filter-mapping&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--配置DispatcherServlet --&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;servlet&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/servlet&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;servlet-mapping&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;servlet-name&gt;springMVC&lt;/servlet-name&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;url-pattern&gt;*.html&lt;/url-pattern&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/servlet-mapping&gt;</p>
<p>&lt;/web-app&gt;</p>
<p class="p"><span style="font-family: 微软雅黑;">而</span>SpringBoot中不需要这三个配置文件,写一个启动类，运行main方法即可：</p>
<p>@SpringBootApplication</p>
<p>&nbsp;@EnableTransactionManagement//开启事务管理</p>
<p>&nbsp;@ComponentScan("com.test.springboot.ssm")//扫描注解元素</p>
<p>&nbsp;@MapperScan("com.test.springboot.ssm.dao")//Mybatis的DAO所在包</p>
<p>&nbsp;public&nbsp;class&nbsp;SpringbootSsmApplication {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[] args) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(SpringbootSsmApplication.class, args);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;final&nbsp;String transactionExecution =&nbsp;"execution (* com.test.springboot.service..*(..))";</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Autowired</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;DataSource dataSource;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//声明式事务</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Bean</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;DefaultPointcutAdvisor defaultPointcutAdvisor() {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AspectJExpressionPointcut pointcut =&nbsp;new&nbsp;AspectJExpressionPointcut();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointcut.setExpression(transactionExecution);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DefaultPointcutAdvisor advisor =&nbsp;new&nbsp;DefaultPointcutAdvisor();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;advisor.setPointcut(pointcut);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Properties attributes =&nbsp;new&nbsp;Properties();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes.setProperty("get*",&nbsp;"PROPAGATION_REQUIRED,-Exception");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes.setProperty("add*",&nbsp;"PROPAGATION_REQUIRED,-Exception");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes.setProperty("update*",&nbsp;"PROPAGATION_REQUIRED,-Exception");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes.setProperty("delete*",&nbsp;"PROPAGATION_REQUIRED,-Exception");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TransactionInterceptor txAdvice =&nbsp;new&nbsp;TransactionInterceptor(new&nbsp;DataSourceTransactionManager(dataSource), attributes);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;advisor.setAdvice(txAdvice);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;advisor;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>}</p>
<p class="p"><span style="font-family: 微软雅黑;">数据库等配置信息放到</span>application.properties中</p>
<p>#数据源的基本信息</p>
<p>&nbsp;spring.datasource.url = jdbc:mysql://localhost:3306/test?characterEncoding=utf-8</p>
<p>&nbsp;spring.datasource.username = root</p>
<p>&nbsp;spring.datasource.password =</p>
<p>&nbsp;spring.datasource.driverClassName = com.mysql.jdbc.Driver&nbsp;</p>
<p>&nbsp;#mybatis中mapper文件的路径</p>
<p>&nbsp;mybatis.mapper-locations=classpath*:com/test/springboot/ssm/dao/mappers/*.xml</p>
<p>&nbsp;#起别名。可省略写mybatis的xml中的resultType的全路径</p>
<p>mybatis.type-aliases-package=com.test.springboot.ssm.pojo</p>
<p>#springMVC中的视图信息，响应前缀</p>
<p>spring.mvc.view.prefix=/</p>
<p># 响应页面默认后缀</p>
<p>spring.mvc.view.suffix=.jsp</p>
<p>#DispatcherServlet中响应的url-pattern</p>
<p>server.sevlet-path=*.html</p>
<p>server.context-path=/boot</p>
<p>#logging.level.root=debug</p>
<p>logging.level.com.test.springboot.ssm.dao=trace</p>
<p class="p"><span style="font-family: 微软雅黑;">上面的程序只要启动</span>main方法就可以访问了。</p>
<p class="p"><span style="font-family: 微软雅黑;">另外，如果需要打包发布到</span>tomcat，需要再配置一个ServletInitializer，否则tomcat启动后会出现404。</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
</td>
<td valign="top" width="504">
<p>public&nbsp;class&nbsp;ServletInitializer&nbsp;extends&nbsp;SpringBootServletInitializer {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;@Override</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;SpringApplicationBuilder configure(SpringApplicationBuilder application) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;application.sources(SpringbootSsmApplication.class);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<h1><strong>5. 启动原理解析</strong></h1>
<p class="p"><span style="font-family: 微软雅黑;">任何一个</span>SpringBoot程序都有一个启动类：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
</td>
<td valign="top" width="405">
<p>@SpringBootApplication</p>
<p>public&nbsp;class&nbsp;StartApplication {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[] args) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(StartApplication.class, args);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<p class="p"><span style="font-family: 微软雅黑;">启动类中包含</span>@SpringBootApplication注解和SpringApplication.run()方法</p>
<h2><strong>5.1@SpringBootApplication</strong></h2>
<p class="p">@SpringBootApplication是一个组合注解，除了基本的原信息标注以外，重要的注解有三个：</p>
<p class="p">@Configuration</p>
<p class="p">@EnableAutoConfiguration</p>
<p class="p">@ComponentScan</p>
<p class="p"><span style="font-family: 微软雅黑;">如下代码等同于使用</span>@SpringBootApplication注解</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
</td>
<td valign="top" width="405">
<p>@Configuration</p>
<p>@EnableAutoConfiguration</p>
<p>@ComponentScan</p>
<p>public&nbsp;class&nbsp;StartApplication {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[] args) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SpringApplication.run(StartApplication.class, args);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<p class="p"><span style="font-family: 微软雅黑;">每次写三个注解比较繁琐，所以使用</span>@SpringBootApplication更方便。</p>
<h3><strong>5.1.1&nbsp; @Configuration</strong></h3>
<p class="p"><span style="font-family: 微软雅黑;">简单的说，</span>SpringBoot中使用一个@Configuration注解的类代替xml配置文件。</p>
<p class="p"><span style="font-family: 微软雅黑;">如</span>spring-config.xml如下：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
</td>
<td valign="top" width="517">
<p>&lt;?xml version="1.0"&nbsp;encoding="UTF-8"?&gt;</p>
<p>&lt;beans xmlns="http://www.springframework.org/schema/beans"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--定义bean--&gt;</p>
<p>&lt;/beans&gt;</p>
</td>
</tr>
</tbody>
</table>
<p class="p">SpringBoot中写成：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
</td>
<td valign="top" width="451">
<p>import&nbsp;org.springframework.context.annotation.Configuration;</p>
<p>@Configuration</p>
<p>public&nbsp;class&nbsp;SpringConfig {</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<p class="p"><span style="font-family: 微软雅黑;">如果定义一个</span>bean,xml中写成：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
</td>
<td valign="top" width="443">
<p>&lt;bean id="dept"&nbsp;class="com.spring.test.springboot.pojo.Dept"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="id"&nbsp;value="1"/&gt;</p>
<p>&lt;/bean&gt;</p>
<p>&nbsp;</p>
<p>&lt;bean id="employee"&nbsp;class="com.spring.test.springboot.pojo.Employee"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="name"&nbsp;value="tom"/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;property name="dept"&nbsp;ref="dept"/&gt;</p>
<p>&lt;/bean&gt;</p>
</td>
</tr>
</tbody>
</table>
<p class="p">SpringBoot中写成：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="69">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
<p align="right">9</p>
<p align="right">10</p>
<p align="right">11</p>
<p align="right">12</p>
<p align="right">13</p>
<p align="right">14</p>
</td>
<td valign="top" width="260">
<p>@Bean</p>
<p>&nbsp;public&nbsp;Dept dept() {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dept dept =&nbsp;new&nbsp;Dept();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dept.setId(1);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;dept;</p>
<p>&nbsp;}</p>
<p>&nbsp;&nbsp;</p>
<p>&nbsp;@Bean</p>
<p>&nbsp;public&nbsp;Employee employee() {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;Employee employee =&nbsp;new&nbsp;Employee();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;employee.setName("tom");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;employee.setDept(dept());//注入依赖对象直接调用@Bean注解的方法</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;employee;</p>
<p>}</p>
</td>
</tr>
</tbody>
</table>
<p class="p">SpringBoot中使用@Bean标注一个方法，该方法的方法名将默认成bean的id。注意@Configuration的类要被@ComponentScan扫描到。</p>
<h3><strong>5.1.2 @ComponentScan</strong></h3>
<p class="p">@ComponentScan 自动扫描并加载符合规则的组件。可以通过basePackages指定要扫描的包。如果不指定赛秒范围，SpringBoot默认会从生命@ComponentScan所在类的包进行扫描。</p>
<p class="p">@ComponentScan(basePackages =&nbsp;"com.spring.test.springboot.controller",includeFilters = {@ComponentScan.Filter(type= FilterType.ANNOTATION,value=Controller.class)})</p>
<p class="p">等同于</p>
<p>&lt;context:component-scan base-package="com.spring.test.springboot.controller"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;context:include-filter type="annotation"&nbsp;expression="org.springframework.stereotype.Controller"/&gt;</p>
<p>&lt;/context:component-scan&gt;</p>
<h3><strong>5.5.3 @EnableAutoConfiguration</strong></h3>
<p class="p"><span style="font-family: 微软雅黑;">这个注解的作用是将所有符合自动配置条件的</span>bean自动加载到IoC容器。比如我们的项目引入了spring-boot-starter-web依赖,springboot 会自动帮我们配置 tomcat 和 springmvc。@EnableAutoConfigutation中@Import了EnableAutoConfigurationImportSelector，EnableAutoConfigurationImportSelector类使用了Spring Core包的SpringFactoriesLoader类的loadFactoryNamesof()方法。&nbsp;SpringFactoriesLoader会查询META-INF/spring.factories文件中包含的JAR文件。&nbsp;当找到spring.factories文件后，SpringFactoriesLoader将查询配置文件命名的属性。spring.factories文件，内容如下：。</p>
<p class="p"><img src="./images/SpringBoot整合SSM8.png" alt="" /></p>
<h2>&nbsp;<strong>5.2 SpringApplication</strong></h2>
<p class="p">SpringApplication的run方法的实现是我们本次旅程的主要线路，该方法的主要流程大体可以归纳如下：</p>
<p class="p">1） 如果我们使用的是SpringApplication的静态run方法，那么，这个方法里面首先要创建一个SpringApplication对象实例，然后调用这个创建好的SpringApplication的实例方法。在SpringApplication实例初始化的时候，它会提前做几件事情：</p>
<p class="p">a)&nbsp; 根据classpath里面是否存在某个特征类（org.springframework.web.context.ConfigurableWebApplicationContext）来决定是否应该创建一个为Web应用使用的ApplicationContext类型。</p>
<p class="p">b)&nbsp; 使用SpringFactoriesLoader在应用的classpath中查找并加载所有可用的ApplicationContextInitializer。</p>
<p class="p">c)&nbsp; 使用SpringFactoriesLoader在应用的classpath中查找并加载所有可用的ApplicationListener。</p>
<p class="p">d)&nbsp; 推断并设置main方法的定义类。</p>
<p class="p">2） SpringApplication实例初始化完成并且完成设置后，就开始执行run方法的逻辑了，方法执行伊始，首先遍历执行所有通过SpringFactoriesLoader可以查找到并加载的SpringApplicationRunListener。调用它们的started()方法，告诉这些SpringApplicationRunListener，&ldquo;嘿，SpringBoot应用要开始执行咯！&rdquo;。</p>
<p class="p">3） 创建并配置当前Spring Boot应用将要使用的Environment（包括配置要使用的PropertySource以及Profile）。</p>
<p class="p">4） 遍历调用所有SpringApplicationRunListener的environmentPrepared()的方法，告诉他们：&ldquo;当前SpringBoot应用使用的Environment准备好了咯！&rdquo;。</p>
<p class="p">5） 如果SpringApplication的showBanner属性被设置为true，则打印banner。</p>
<p class="p">6） 根据用户是否明确设置了applicationContextClass类型以及初始化阶段的推断结果，决定该为当前SpringBoot应用创建什么类型的ApplicationContext并创建完成，然后根据条件决定是否添加ShutdownHook，决定是否使用自定义的BeanNameGenerator，决定是否使用自定义的ResourceLoader，当然，最重要的，将之前准备好的Environment设置给创建好的ApplicationContext使用。</p>
<p class="p">7） ApplicationContext创建好之后，SpringApplication会再次借助Spring-FactoriesLoader，查找并加载classpath中所有可用的ApplicationContext-Initializer，然后遍历调用这些ApplicationContextInitializer的initialize（applicationContext）方法来对已经创建好的ApplicationContext进行进一步的处理。</p>
<p class="p">8） 遍历调用所有SpringApplicationRunListener的contextPrepared()方法。</p>
<p class="p">9） 最核心的一步，将之前通过@EnableAutoConfiguration获取的所有配置以及其他形式的IoC容器配置加载到已经准备完毕的ApplicationContext。</p>
<p class="p">10） 遍历调用所有SpringApplicationRunListener的contextLoaded()方法。</p>
<p class="p">11） 调用ApplicationContext的refresh()方法，完成IoC容器可用的最后一道工序。</p>
<p class="p">12） 查找当前ApplicationContext中是否注册有CommandLineRunner，如果有，则遍历执行它们。</p>
<p class="p">13） 正常情况下，遍历执行SpringApplicationRunListener的finished()方法、（如果整个过程出现异常，则依然调用所有SpringApplicationRunListener的finished()方法，只不过这种情况下会将异常信息一并传入处理）<br />去除事件通知点后，整个流程如下：</p>
<p class="p"><img src="./images/SpringBoot整合SSM9.png" alt="" /></p>
<p>&nbsp;</p>
<h1><strong>6. Thymeleaf</strong></h1>
<p class="p">SpringBoot官方不推荐使用JSP，官方推荐使用Thymeleaf。</p>
<p class="p">Thymeleaf是一款用于渲染XML/XHTML/HTML5内容的模板引擎。类似JSP，Velocity，FreeMaker等，它也可以轻易的与Spring MVC等Web框架进行集成作为Web应用的模板引擎。与其它模板引擎相比，Thymeleaf最大的特点是能够直接在浏览器中打开并正确显示模板页面，而不需要启动整个Web应用。</p>
<h2><strong>6.1&nbsp; 搭建示例工程</strong></h2>
<p class="p"><span style="font-family: 微软雅黑;">引入</span>thymeleaf的包：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>

</td>
<td valign="top" width="438">
<p>&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;</p>
<p>&lt;/dependency&gt;</p>

</td>

</tr>

</tbody>

</table>
<p class="p"><span style="font-family: 微软雅黑;">在</span>application.properties文件中配置thymeleaf的视图解析：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>

</td>
<td valign="top" width="326">
<p>spring.thymeleaf.content-type=text/html&nbsp;</p>
<p>spring.thymeleaf.mode =LEGACYHTML5</p>
<p>#开发时关闭缓存,不然没法看到实时页面</p>
<p>spring.thymeleaf.cache=false</p>
<p>#配置静态资源路径</p>
<p>spring.mvc.static-path-pattern=/static/**</p>

</td>

</tr>

</tbody>

</table>
<p class="p">controller中的代码和以前的项目一样：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>

</td>
<td valign="top" width="319">
<p>@RequestMapping("hello")</p>
<p>public&nbsp;String helloWorld(Model model) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;//向页面传值</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute("welcome",&nbsp;"hello thymeleaf");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"hello";</p>
<p>}</p>

</td>

</tr>

</tbody>

</table>
<p class="p"><span style="font-family: 微软雅黑;">页面写在</span>/resources/templates下</p>
<p class="p"><img src="./images/SpringBoot整合SSM10.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="p"><span style="font-family: 微软雅黑;">页面</span>hello.html，页面的文件名与controller中方法的返回值一致。注意页面的&lt;html&gt;标签中有一个&lt;html xmlns:th="http://www.thymeleaf.org"&gt;</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="69">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
<p align="right">9</p>
<p align="right">10</p>

</td>
<td valign="top" width="324">
<p>&lt;!DOCTYPE html&gt;</p>
<p>&nbsp;&lt;html xmlns:th="http://www.thymeleaf.org"&gt;</p>
<p>&nbsp;&lt;head&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta http-equiv="Content-Type"&nbsp;content="text/html; charset=UTF-8"&nbsp;/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Title&lt;/title&gt;</p>
<p>&nbsp;&lt;/head&gt;</p>
<p>&nbsp;&lt;body&gt;</p>
<p>&nbsp;&lt;p th:text="${welcome}"&gt;&lt;/p&gt;</p>
<p>&nbsp;&lt;/body&gt;</p>
<p>&lt;/html&gt;</p>

</td>

</tr>

</tbody>

</table>
<p class="p"><span style="font-family: 微软雅黑;">页面中所有动态的内容都使用</span>&ldquo;th:&rdquo;前缀。</p>
<p class="p"><span style="font-family: 微软雅黑;">并且在</span>thymeleaf的页面中，html语法要求很严格，比如标签必须闭合。如果要在解析时自动进行标签补全，需要引入jar包：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="62">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>

</td>
<td valign="top" width="366">
<p>&lt;dependency&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;groupId&gt;net.sourceforge.nekohtml&lt;/groupId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;artifactId&gt;nekohtml&lt;/artifactId&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&lt;version&gt;1.9.22&lt;/version&gt;</p>
<p>&lt;/dependency&gt;</p>

</td>

</tr>

</tbody>

</table>
<h2><strong>6.2 基础语法</strong></h2>
<p class="p">spring-boot很多配置都有默认配置,比如默认页面映射路径为&nbsp;<br />classpath:/templates/*.html&nbsp;<br /><span style="font-family: 微软雅黑;">同样静态文件路径为</span>&nbsp;<br />classpath:/static/</p>
<p class="p">&nbsp;</p>
<p class="p"><span style="font-family: 微软雅黑;">首先页面的</span>&lt;html&gt;标签要改写：</p>
<p class="p">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;</p>
<p class="p"><strong>6.2.1&nbsp; 获取变量值</strong></p>
<p class="p">thymeleaf通过${变量名.属性名}来获取属性值，这个语法和EL表达式一样。</p>
<p class="p"><span style="font-family: 微软雅黑;">页面中所有动态的内容都使用</span>&ldquo;th:&rdquo;前缀，并且要写在标签中。</p>
<p class="p">&lt;p th:text=${message}&gt;this is tag p&lt;/p&gt;</p>
<p class="p"><span style="font-family: 微软雅黑;">如果直接访问静态页面，会显示</span>&ldquo;this is tag p&rdquo;</p>
<p class="p"><span style="font-family: 微软雅黑;">如果访问动态内容，那么</span>${message}的值会替换掉原来&lt;p&gt;标签中的静态内容。</p>
<p class="p">常见页面操作如下：</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="53">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
<p align="right">9</p>
<p align="right">10</p>
<p align="right">11</p>
<p align="right">12</p>
<p align="right">13</p>
<p align="right">14</p>
<p align="right">15</p>
<p align="right">16</p>
<p align="right">17</p>
<p align="right">18</p>
<p align="right">19</p>


</td>
<td valign="top" width="528">
<p>@RequestMapping("hello")</p>
<p>&nbsp;public&nbsp;String helloWorld(Model model) {</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//向页面传值,普通文本</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute("text",&nbsp;"hello thymeleaf");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//html转义文本</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute("htmlText",&nbsp;"&lt;h1&gt;html&lt;/h1&gt;");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute("ahref",&nbsp;"test");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List&lt;String&gt; list =&nbsp;new&nbsp;ArrayList&lt;&gt;();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.add("a");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;list.add("b");</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute("list", list);</p>
<p>&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;List&lt;Dept&gt; deptList =&nbsp;new&nbsp;ArrayList&lt;&gt;();</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;deptList.add(new&nbsp;Dept(1,&nbsp;"技术部"));</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;deptList.add(new&nbsp;Dept(2,&nbsp;"测试部"));</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;deptList.add(new&nbsp;Dept(3,&nbsp;"行政部"));</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;model.addAttribute("deptList", deptList);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;"hello";</p>
<p>}</p>


</td>


</tr>
<tr>
<td valign="top" width="53">
<p align="right">1</p>
<p align="right">2</p>
<p align="right">3</p>
<p align="right">4</p>
<p align="right">5</p>
<p align="right">6</p>
<p align="right">7</p>
<p align="right">8</p>
<p align="right">9</p>
<p align="right">10</p>
<p align="right">11</p>
<p align="right">12</p>
<p align="right">13</p>
<p align="right">14</p>
<p align="right">15</p>
<p align="right">16</p>


</td>
<td valign="top" width="528">
<p>&lt;p th:text="${text}"&gt;我是文本&lt;/p&gt;</p>
<p>&nbsp;&nbsp;&lt;p th:utext="${htmlText}"&gt;我是转义文本&lt;/p&gt;</p>
<p>&nbsp;&nbsp;&lt;p&gt;&lt;a th:href="@{{ahref}?pa={text}(ahref=${ahref},text=${text})}"&gt;我是a标签&lt;/a&gt;&lt;/p&gt;</p>
<p>&nbsp;&nbsp;我是表格&lt;br/&gt;</p>
<p>&nbsp;&nbsp;&lt;table border="1"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr th:each="dept:${deptList}"&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td th:text="${dept.id}"&gt;id&lt;/td&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td th:text="${dept.name}"&gt;name&lt;/td&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;</p>
<p>&nbsp;&lt;/table&gt;</p>
<p>&nbsp;我是下拉框</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;select&nbsp; &gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;option th:each="dept:${deptList}"&nbsp;th:value="${dept.id}"&nbsp;th:text="${dept.name}"&nbsp;th:selected="${dept.id}==${param.id[0]}"&gt;&lt;/option&gt;</p>
<p>&nbsp;&lt;/select&gt;&lt;br/&gt;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;input th:value="${text}"&gt;</p>
<p>&nbsp;&lt;script th:src="@{static/test.js}"&nbsp;type="text/javascript"&gt;&lt;/script&gt;</p>


</td>


</tr>


</tbody>


</table>
<h3><strong>6.2.2&nbsp; 条件判断</strong></h3>
<p>&nbsp;</p>
<table border="0" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="35">
<p align="right">1</p>


</td>
<td valign="top" width="543">
<p>&lt;div th:if="${ahref == 'test'}"&gt;xxxxxxx&lt;/div&gt;</p>


</td>


</tr>


</tbody>

</table>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>