<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修什么是Json，Json如何使用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>什么是Json，Json如何使用</center></div><div class='banquan'>原文出处:本文由博客园博主若千、提供。<br/>
原文连接:https://www.cnblogs.com/Ruoqian/p/rq207_02.html</div><br>
    <p>　　<strong>JavaScript Object Notation：javascript的对象表示法。</strong></p>
<p><br />　　这是一种能传递对象的语法，可以是键值对，数组，以及其他对象。　　<br />　　<strong>轻量级的数据传输方法。</strong></p>
<p><strong>　　json格式：</strong></p>
<p>　　{ key ：{ key ： [ { key ：value ，key ：value } ] } }，灵活组合。</p>
<p> 　　{ } ： 表示一个集合，容器<br />　　[&nbsp;] ：里面装数组，集合<br />　　键值对之间用冒号隔开，数组的元素用逗号隔开。</p>
<p><strong>　　</strong></p>
<p>　　他不是面向对象的，但是较于javascript他更具有分析性，复用性。前后端都可使用。<br />　　json的值可以是：int float string  boolean 数组 对象。<br />　　</p>
<p>　<strong>　json方法：</strong><br />　　JSON.parse()：该方法用于解析JSON类型的字符串并且返回对应的值。<br />　　JSON.stringify()：该方法同样返回与指定值对应的JSON字符串。</p>
<p>　　</p>
<p>　　JavaScript可以用eval()方法将json文本转换为javascript对象。<br />　　var  obj  =  eval ( " (" + json + " ) " );</p>
<p>　　<span style="text-decoration: underline;">注意：javascript的eval()方法可编译执行任何javascript代码但是这并不安全，如果使用json解析器将json转换为javascript就会更安全</span></p>
<p>　　json格式的转换，对象，集合：（官方的json包和阿里巴巴的json包）<br />　　</p>
<p>　　官方：不能一次拿到对象的所有属性，一次只能取单一的值：<br />　　　　eg：  user对象：有name id<br />　　　　　　转换  JSONObject  userJson = new JSONObject(user);<br />　　　　　　获取  String  userName  =  userJson.getString("name");<br />  　　　　　　　　int  userId  =  userJson.getInt("age");<br />   　　　　　　user集合list<br />　　　　　　转换：JSONArray  userJsonArray =  new  JSONArray(list);<br />　　　　　　获取：JSONObiect  userObj  =  userJsonArray.getJSONObject(0);<br />　　阿里巴巴：fastJson包<br />　　　　eg：user对象：可以直接获得该对象<br />　　　　　　转换：String&nbsp; userFast =&nbsp; JSON.toJSONString(user);<em id="__mceDel">----json字符串</em></p>
<p><em id="__mceDel"> 　　　　　　</em>获取：User  u1 =  JSONObject.parseObject(fastUser,User.class);<br />　　　　　　User集合 ： 可以直接获得该对象集合<br />　　　　　　转换： String  fastList  =  new  JSONArray(list);<br />　　　　　　获取： list&lt;User&gt;  fastList  =  JSONArray.parseArray(fastList,User.class)<br />　　</p>
<p>　　注意：测试的时候注意方法名，二者方法名一样，需要全名引用。</p>
<p>　　</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> com.alibaba.fastjson.JSON;
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.json.JSONArray;
</span><span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.json.JSONException;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> org.json.JSONObject;
</span><span style="color: #008080;"> 5</span> 
<span style="color: #008080;"> 6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.ArrayList;
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.List;
</span><span style="color: #008080;"> 8</span> 
<span style="color: #008080;"> 9</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> TestJson {
</span><span style="color: #008080;">10</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span> main(String[] args) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> JSONException {
</span><span style="color: #008080;">11</span> 
<span style="color: #008080;">12</span>         List&lt;User&gt; list = <span style="color: #0000ff;">new</span> ArrayList&lt;&gt;<span style="color: #000000;">();
</span><span style="color: #008080;">13</span> 
<span style="color: #008080;">14</span>         User user1 = <span style="color: #0000ff;">new</span> User(12,"张三"<span style="color: #000000;">);
</span><span style="color: #008080;">15</span>         User user2 = <span style="color: #0000ff;">new</span> User(13,"李四"<span style="color: #000000;">);
</span><span style="color: #008080;">16</span> <span style="color: #000000;">        list.add(user1);
</span><span style="color: #008080;">17</span> <span style="color: #000000;">        list.add(user2);
</span><span style="color: #008080;">18</span> 
<span style="color: #008080;">19</span>         System.out.println("---------------------------"<span style="color: #000000;">);
</span><span style="color: #008080;">20</span>         System.out.println("            官方jar包测试"<span style="color: #000000;">);
</span><span style="color: #008080;">21</span>         <span style="color: #008000;">//</span><span style="color: #008000;">org.json   转换对象测试</span>
<span style="color: #008080;">22</span>         JSONObject userObj = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JSONObject(user1);
</span><span style="color: #008080;">23</span>         <span style="color: #008000;">//</span><span style="color: #008000;">getString需要异常抛出防止key值不存在</span>
<span style="color: #008080;">24</span>         System.out.println("拿到该对象的id值： "+userObj.getString("id"<span style="color: #000000;">));
</span><span style="color: #008080;">25</span>         <span style="color: #008000;">//</span><span style="color: #008000;">org.json  转换集合测试</span>
<span style="color: #008080;">26</span>         JSONArray userList = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JSONArray(list);
</span><span style="color: #008080;">27</span>         <span style="color: #008000;">//</span><span style="color: #008000;">get方法拿到集合下标，需要抛出下标不存在的异常</span>
<span style="color: #008080;">28</span>         System.out.println("拿到该集合下标为0的值： "+userList.get(0<span style="color: #000000;">));
</span><span style="color: #008080;">29</span>         User user3 = (User) userList.get(0<span style="color: #000000;">);
</span><span style="color: #008080;">30</span>         System.out.println("输出对象："+<span style="color: #000000;">user3.toString());
</span><span style="color: #008080;">31</span>         String userStr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JSONObject(user1).toString();
</span><span style="color: #008080;">32</span>         System.out.println("直接打印对象："+<span style="color: #000000;">user1.toString());
</span><span style="color: #008080;">33</span>         System.out.println("对象转换json字符串："+<span style="color: #000000;">userStr);
</span><span style="color: #008080;">34</span>         System.out.println("直接打印集合： "+<span style="color: #000000;">list);
</span><span style="color: #008080;">35</span>         <span style="color: #008000;">//</span><span style="color: #008000;">对象转json字符串</span>
<span style="color: #008080;">36</span>         String userlistStr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> JSONArray(list).toString();
</span><span style="color: #008080;">37</span>         System.out.println("集合转换json字符串： " +<span style="color: #000000;"> userlistStr);
</span><span style="color: #008080;">38</span>         System.out.println("---------------------------"<span style="color: #000000;">);
</span><span style="color: #008080;">39</span> 
<span style="color: #008080;">40</span>         <span style="color: #008000;">//</span><span style="color: #008000;">阿里巴巴的fastJson包测试</span>
<span style="color: #008080;">41</span>         System.out.println("---------------------------"<span style="color: #000000;">);
</span><span style="color: #008080;">42</span>         System.out.println("            阿里巴巴fastJson包测试"<span style="color: #000000;">);
</span><span style="color: #008080;">43</span>         <span style="color: #008000;">//</span><span style="color: #008000;">com.alibaba.fastjson包测试  由于方法重名，使用全名
</span><span style="color: #008080;">44</span>         <span style="color: #008000;">//</span><span style="color: #008000;">直接转换json字符串</span>
<span style="color: #008080;">45</span>         String userFast =<span style="color: #000000;"> JSON.toJSONString(user1);
</span><span style="color: #008080;">46</span>         System.out.println("fastjson转换对象为json字符串： "+<span style="color: #000000;">userFast);
</span><span style="color: #008080;">47</span>         String userlistFast =<span style="color: #000000;"> JSON.toJSONString(list);
</span><span style="color: #008080;">48</span>         System.out.println("fastjson直接转换集合为json字符串： "+<span style="color: #000000;">userlistFast);
</span><span style="color: #008080;">49</span> 
<span style="color: #008080;">50</span>         <span style="color: #008000;">//</span><span style="color: #008000;">json字符串转换为json对象</span>
<span style="color: #008080;">51</span>         com.alibaba.fastjson.JSONObject userFast2 =<span style="color: #000000;"> JSON.parseObject(userFast);
</span><span style="color: #008080;">52</span>         System.out.println("fastjson将json字符串转换的json对象："+<span style="color: #000000;">userFast2);
</span><span style="color: #008080;">53</span>         <span style="color: #008000;">//</span><span style="color: #008000;">json字符串转换为json集合</span>
<span style="color: #008080;">54</span>         com.alibaba.fastjson.JSONArray userlistFast2 =<span style="color: #000000;"> JSON.parseArray(userlistFast);
</span><span style="color: #008080;">55</span>         System.out.println("fastjson将json字符串转换的json集合："+<span style="color: #000000;">userlistFast2);
</span><span style="color: #008080;">56</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">57</span> }</code></pre>

<src class="cnblogs_code">
<pre><code>---------------------------<span style="color: #000000;">
            官方jar包测试
拿到该对象的id值： </span>12<span style="color: #000000;">
拿到该集合下标为0的值： User{id</span>=12, name='张三'<span style="color: #000000;">}
输出对象：User{id</span>=12, name='张三'<span style="color: #000000;">}
直接打印对象：User{id</span>=12, name='张三'<span style="color: #000000;">}
对象转换json字符串：{</span>"name":"张三","id":12<span style="color: #000000;">}
直接打印集合： [User{id</span>=12, name='张三'}, User{id=13, name='李四'<span style="color: #000000;">}]
集合转换json字符串： [</span>"User{id=12, name='张三'}","User{id=13, name='李四'}"<span style="color: #000000;">]
</span>---------------------------
---------------------------<span style="color: #000000;">
            阿里巴巴fastJson包测试
fastjson转换对象为json字符串： {</span>"id":12,"name":"张三"<span style="color: #000000;">}
fastjson直接转换集合为json字符串： [{</span>"id":12,"name":"张三"},{"id":13,"name":"李四"<span style="color: #000000;">}]
fastjson将json字符串转换的json对象：{</span>"name":"张三","id":12<span style="color: #000000;">}
fastjson将json字符串转换的json集合：[{</span>"name":"张三","id":12},{"name":"李四","id":13}]</code></pre>

<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>