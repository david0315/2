<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修获取时间工具' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>获取时间工具</center></div><div class='banquan'>原文出处:本文由博客园博主奔跑中。。。提供。<br/>
原文连接:https://www.cnblogs.com/run1/p/11671640.html</div><br>
    <p>/**<br />	   * 获取相差天数<br />	   * @param beginTime<br />	   * @param endTime<br />	   * @return<br />	   */<br />	  public static int getDaysBetween(String beginTime,String endTime) {<br />		  SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />		  int day = 0;<br />		  try {<br />				Date date1 = sdf.parse(beginTime);<br />				Date date2 = sdf.parse(endTime);   <br />				Long time = (date2.getTime() - date1.getTime())/(1000*3600*24);<br />				 day = Integer.parseInt(time.toString());<br />			} catch (ParseException e) {<br />				e.printStackTrace();<br />			}<br />			return day;<br />	  } <br />	  <br />	/**<br />	 * 获取每个15分钟的时间<br />	 * @param begin<br />	 * @param end<br />	 * @return<br />	 */<br />	public static List&lt;String&gt; getBetweenMinute(String beginTime,String endTime){<br />		beginTime = beginTime + " 00:00";<br />		endTime = endTime + " 23:45";<br />        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd HH:mm");<br />        List&lt;String&gt; betweenList = Lists.newArrayList();<br />        try{  <br />            Calendar startMonth = Calendar.getInstance();<br />            startMonth.setTime(format.parse(beginTime));<br />            while(true){<br />                Date newDate = startMonth.getTime();<br />                String newend=format.format(newDate);<br />                betweenList.add(newend);<br />                if(endTime.equals(newend)){<br />                    break;<br />                }<br />                startMonth.add(Calendar.MINUTE, +15);<br />            }<br />        }catch (Exception e) {<br />            e.printStackTrace();<br />        }<br />        return betweenList;<br />    }<br />	/**<br />	 * 获取每个小时<br />	 * @param begin<br />	 * @param end<br />	 * @return<br />	 */<br />	public static List&lt;String&gt; getBetweenHour(String beginTime,String endTime){<br />		beginTime = beginTime + " 00";<br />		endTime = endTime + " 23";<br />        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd HH");<br />        List&lt;String&gt; betweenList = Lists.newArrayList();<br />        try{<br />        	 Calendar endMonth = Calendar.getInstance();<br />        	 endMonth.setTime(format.parse(endTime));<br />             String newEnd=format.format(endMonth.getTime());<br />	            <br />            Calendar startMonth = Calendar.getInstance();<br />            startMonth.setTime(format.parse(beginTime));<br />            startMonth.add(Calendar.HOUR, -1);<br />            while(true){<br />            	startMonth.add(Calendar.HOUR, +1);<br />                Date newDate = startMonth.getTime();<br />                String newend=format.format(newDate);<br />                betweenList.add(newend);<br />                if(newEnd.equals(newend)){<br />                    break;<br />                }<br />            }<br />        }catch (Exception e) {<br />            e.printStackTrace();<br />        }<br />        return betweenList;<br />    }<br /> <br />	/**<br />	 * 获取每天<br />	 * @param begin<br />	 * @param end<br />	 * @return<br />	 */<br />	  public static List&lt;String&gt; getBetweenDay(String beginTime,String endTime){<br />	        SimpleDateFormat format = new SimpleDateFormat("yyyy-MM-dd");<br />	        List&lt;String&gt; betweenList = new ArrayList&lt;String&gt;();<br />	        try{<br />	            Calendar startDay = Calendar.getInstance();<br />	            startDay.setTime(format.parse(beginTime));<br />	            while(true){<br />	                Date newDate = startDay.getTime();<br />	                String newend=format.format(newDate);<br />	                betweenList.add(newend);<br />	                if(endTime.equals(newend)){<br />	                    break;<br />	                }<br />	                startDay.add(Calendar.DATE, 1);<br />	            }<br />	        }catch (Exception e) {<br />	            e.printStackTrace();<br />	        }<br />	        <br />	        return betweenList;<br />	    }<br />	  <br />	  /**<br />	   * 获取当前时间的前三天<br />	   * @param beginTime<br />	   * @return<br />	   */<br />	  public static String getAddThreeDay(String beginTime) {<br />		  SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />			Calendar endDay = Calendar.getInstance();<br />			try {<br />				endDay.setTime(sdf.parse(beginTime));<br />			} catch (ParseException e) {<br />				e.printStackTrace();<br />			}<br />			endDay.add(Calendar.DATE, +3);<br />			return sdf.format(endDay.getTime());<br />	  }<br />	  <br />	  /**<br />	   * 获取月度<br />	   * @param begin<br />	   * @param end<br />	   * @return<br />	   */<br />	  public static List&lt;String&gt; getBetweenMonth(String beginTime,String endTime){<br />		  SimpleDateFormat format = new SimpleDateFormat("yyyy-MM");<br />	        List&lt;String&gt; betweenList = Lists.newArrayList();<br />	        try{<br />	        	 Calendar endMonth = Calendar.getInstance();<br />	        	 endMonth.setTime(format.parse(endTime));<br />	             String newEnd=format.format(endMonth.getTime());<br />		            <br />	            Calendar startMonth = Calendar.getInstance();<br />	            startMonth.setTime(format.parse(beginTime));<br />	            while(true){<br />	                Date newDate = startMonth.getTime();<br />	                String newend=format.format(newDate);<br />	                betweenList.add(newend);<br />	                if(newEnd.equals(newend)){<br />	                    break;<br />	                }<br />	            	startMonth.add(Calendar.MONTH, 1);<br />	            }<br />	        }catch (Exception e) {<br />	            e.printStackTrace();<br />	        }<br />	        return betweenList;<br />	    }<br />	  /**<br />	   * 获取季度<br />	   * @param beginDate<br />	   * @param endDate<br />	   * @return<br />	   */<br />	   public static List&lt;String&gt; getYearSecond(String beginTime,String endTime){ <br />	        List&lt;String&gt; rangeSet = Lists.newArrayList();<br />	        SimpleDateFormat sdf =  new SimpleDateFormat("yyyy-MM");<br />	          Date begin_date = null;<br />	          Date end_date = null;<br />	          String[] numStr =null;<br />	          String Q=null; <br />	        try {<br />	              begin_date = sdf.parse(beginTime);//定义起始日期<br />	              end_date = sdf.parse(endTime);//定义结束日期<br />	        } catch (ParseException e) {<br />	            System.out.println("时间转化异常，请检查你的时间格式是否为yyyy-MM或yyyy-MM-dd");<br />	        }<br />	          Calendar dd = Calendar.getInstance();//定义日期实例<br />	          dd.setTime(begin_date);//设置日期起始时间<br />	          while(!dd.getTime().after(end_date)){//判断是否到结束日期<br />	              numStr=  sdf.format(dd.getTime()).split("-",0);<br />	              Q = getQuarter(Integer.valueOf(numStr[1]))+""; <br />	              rangeSet.add(numStr[0].toString()+"年第"+Q+"季度");<br />	              dd.add(Calendar.MONTH, 1);//进行当前日期月份加1<br />	          }<br />	          for  ( int  i  =   0 ; i  &lt;  rangeSet.size()  -   1 ; i ++ )  {   <br />			      for  ( int  j  =  rangeSet.size()  -   1 ; j  &gt;  i; j -- )  {   <br />			           if  (rangeSet.get(j).equals(rangeSet.get(i)))  {   <br />			        	   rangeSet.remove(j);   <br />			            }    <br />			        }    <br />			      }     <br />	          System.out.println(rangeSet);<br />	          return rangeSet;<br />	    }   </p>
<p>	    /**<br />	     * 根据月获得季度<br />	     * @param month  月<br />	     * @return  季度<br />	     */<br />	    private static int getQuarter(int month) {<br />	        if(month == 1 || month == 2 || month == 3){<br />	            return 1;<br />	        }else if(month == 4 || month == 5 || month == 6){<br />	            return  2;<br />	        }else if(month == 7 || month == 8 || month == 9){<br />	            return 3;<br />	        }else{<br />	            return 4;<br />	        }<br />	    }<br />	 /**<br />	  * 获取年<br />	  * @param begin<br />	  * @param end<br />	  * @return<br />	  */<br />	    public  static List&lt;String&gt; getBetweenYear(String beginTime,String endTime){<br />			 SimpleDateFormat sdf = new SimpleDateFormat("yyyy");<br />		        List&lt;String&gt; betweenList = new ArrayList&lt;String&gt;();<br />		        try{<br />		            Calendar startDay = Calendar.getInstance();<br />		            startDay.setTime(sdf.parse(beginTime));<br />		            startDay.add(Calendar.YEAR, -1);<br />		            String endYear = endTime.substring(0,4);<br />		            while(true){<br />		                startDay.add(Calendar.YEAR, 1);<br />		                Date newDate = startDay.getTime();<br />		                String newend=sdf.format(newDate); <br />		                betweenList.add(newend);<br />		                if(endYear.equals(newend)){<br />		                    break;<br />		                }<br />		            }<br />		        }catch (Exception e) {<br />		            e.printStackTrace();<br />		        }<br />		        <br />		        return betweenList;<br />		    }<br />			<br />			<br />			/**********************前一周的开始时间***********************/<br />			  public static Date lastMonday() throws ParseException {<br />			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />			Date start = sdf.parse("2019-09-25");// 定义起始日期<br />	        Calendar calendar = Calendar.getInstance();<br />	        calendar.setTime(start);<br />	        while (calendar.get(Calendar.DAY_OF_WEEK) != Calendar.SUNDAY) {<br />	            calendar.add(Calendar.DAY_OF_WEEK, -1);<br />	        }<br />	        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK) - 1;<br />	        int offset = 1 - dayOfWeek;<br />	        calendar.add(Calendar.DATE, offset - 7);<br />	        return  getFirstDayOfWeek(calendar.getTime(), 1);<br />	    }<br />	   public static Date getFirstDayOfWeek(Date date, int firstDayOfWeek) {<br />		   Calendar cal = Calendar.getInstance();<br />		   if (date != null)<br />		    cal.setTime(date);<br />		   cal.setFirstDayOfWeek(firstDayOfWeek);//设置一星期的第一天是哪一天<br />		   cal.set(Calendar.DAY_OF_WEEK, firstDayOfWeek);//指示一个星期中的某天<br />		   cal.set(Calendar.HOUR_OF_DAY, 0);//指示一天中的小时。HOUR_OF_DAY 用于 24 小时制时钟。例如，在 10:04:15.250 PM 这一时刻，HOUR_OF_DAY 为 22。<br />		   cal.set(Calendar.MINUTE, 0);//指示一小时中的分钟。例如，在 10:04:15.250 PM 这一时刻，MINUTE 为 4。<br />		   cal.set(Calendar.SECOND, 0);<br />		   cal.set(Calendar.MILLISECOND, 0);<br />		    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />		    Date sundayDate = cal.getTime();<br />	         String weekEnd = sdf.format(sundayDate);  <br />	         System.out.println("所在周星期日的日期：" + weekEnd);<br />		   return cal.getTime();<br />		  }<br />		  <br />		  ///////////////////////在时间范围内显示周、周的起始时间/////////////////////////////////////<br />		  public static void main(String[] args) throws Exception {<br />		Map&lt;String, Object&gt; map = getBetweenWeeks("2019-12-20", "2020-01-25");<br />		System.out.println("week************"+ map.get("week"));<br />		System.out.println("time************"+ map.get("time"));<br />	}</p>
<p>	public static Map&lt;String, Object&gt; getBetweenWeeks(String startDate, String endDate) throws ParseException {<br />		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />		Date start = sdf.parse(startDate);// 定义起始日期<br />		Date end = sdf.parse(endDate);// 定义结束日期<br />		Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();<br />		Calendar tempStart = Calendar.getInstance();<br />		tempStart.setTime(start);</p>
<p>		Calendar tempEnd = Calendar.getInstance();<br />		tempEnd.setTime(end);<br />		<br />		List&lt;String&gt; list_Week = Lists.newArrayList();<br />		List&lt;String&gt; list_Time = Lists.newArrayList();<br />		<br />		boolean b = false;<br />		String weekBetween = "";<br />		int week = tempStart.get(Calendar.WEEK_OF_YEAR);<br />		<br />		while (tempStart.before(tempEnd) || tempStart.equals(tempEnd)) {<br />			if (!b) {<br />				int we = tempStart.get(Calendar.DAY_OF_WEEK);<br />				if (we != 1) {<br />					b = false;<br />				} else { <br />					if (tempStart.getTimeInMillis() &gt; tempEnd.getTimeInMillis()) {<br />						weekBetween = sdf.format(end);<br />					} else {<br />						weekBetween = sdf.format(tempStart.getTime());<br />					}<br />					b = true;<br />					list_Week.add(tempStart.get(Calendar.YEAR) + "年第"+ week + "周");<br />					list_Time.add(sdf.format(start) + "至" + weekBetween);<br />					weekBetween = "";<br />				}<br />				tempStart.add(Calendar.DAY_OF_YEAR, 1);<br />			} else { <br />				week = tempStart.get(Calendar.WEEK_OF_YEAR);<br />				int we = tempStart.get(Calendar.DAY_OF_WEEK);<br />				if (we == 2) {<br />					weekBetween = sdf.format(tempStart.getTime());<br />				}<br />				if (weekBetween.isEmpty()) { // 检测map是否为空<br />					tempStart.add(Calendar.DAY_OF_YEAR, 1);<br />				} else {<br />					tempStart.add(Calendar.DAY_OF_YEAR, 6);<br />					if (tempStart.getTimeInMillis() &gt; tempEnd.getTimeInMillis()) {<br />						list_Time.add(weekBetween + "至" +sdf.format(end));<br />					} else {<br />						list_Time.add(weekBetween + "至" + sdf.format(tempStart.getTime()));<br />					}<br />					list_Week.add(tempStart.get(Calendar.YEAR) + "年第"+ week+ "周");<br />					weekBetween = "";<br />				}<br />				result.put("time",list_Time);<br />				result.put("week",list_Week);<br />			}<br />		}<br />		return result;<br />	}<br />	///////////////////////在时间范围内显示周、周的起始时间/////////////////////////////////////<br />	 <br />	<br />	/*************************java获取当前时间所在一周的周一和周日日期*************************/<br />	public static Map&lt;String,String&gt; getWeekDate(String startDate) throws ParseException {<br />	        Map&lt;String,String&gt; map = new HashMap();<br />	        SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />	 <br />	    	Date start = sdf.parse(startDate);// 定义起始日期<br />	         Calendar cal = Calendar.getInstance();  <br />	         cal.setTime(start);<br />	         cal.setFirstDayOfWeek(Calendar.MONDAY);// 设置一个星期的第一天，按中国的习惯一个星期的第一天是星期一  <br />	         int dayWeek = cal.get(Calendar.DAY_OF_WEEK);// 获得当前日期是一个星期的第几天  <br />	         if(dayWeek==1){<br />	             dayWeek = 8;<br />	         }<br />	         System.out.println("要计算日期为:" + sdf.format(cal.getTime())); // 输出要计算日期  <br />	 <br />	         cal.add(Calendar.DATE, cal.getFirstDayOfWeek() - dayWeek);// 根据日历的规则，给当前日期减去星期几与一个星期第一天的差值  <br />	         Date mondayDate = cal.getTime();<br />	         String weekBegin = sdf.format(mondayDate);  <br />	         System.out.println("所在周星期一的日期：" + weekBegin);  <br />	 <br />	 <br />	         cal.add(Calendar.DATE, 4 +cal.getFirstDayOfWeek());<br />	         Date sundayDate = cal.getTime();<br />	         String weekEnd = sdf.format(sundayDate);  <br />	         System.out.println("所在周星期日的日期：" + weekEnd);<br />	 <br />	         map.put("mondayDate", weekBegin);<br />	         map.put("sundayDate", weekEnd);<br />	        return map;<br />	    } <br />	/*************************java获取当前时间所在一周的周一和周日日期*************************/	<br />		<br />	///////////////////////////////Java获取本周一、上周一、下周一时间/////////////////////////////////	<br />		public static Date geLastWeekMonday(Date date) {<br />		Calendar cal = Calendar.getInstance();<br />		cal.setTime(getThisWeekMonday(date));<br />		cal.add(Calendar.DATE, -7);<br />		return cal.getTime();<br />	}<br /> <br />	public static Date getThisWeekMonday(Date date) {<br />		Calendar cal = Calendar.getInstance();<br />		cal.setTime(date);<br />		// 获得当前日期是一个星期的第几天<br />		int dayWeek = cal.get(Calendar.DAY_OF_WEEK);<br />		if (1 == dayWeek) {<br />			cal.add(Calendar.DAY_OF_MONTH, -1);<br />		}<br />		// 设置一个星期的第一天，按中国的习惯一个星期的第一天是星期一<br />		cal.setFirstDayOfWeek(Calendar.MONDAY);<br />		// 获得当前日期是一个星期的第几天<br />		int day = cal.get(Calendar.DAY_OF_WEEK);<br />		// 根据日历的规则，给当前日期减去星期几与一个星期第一天的差值<br />		cal.add(Calendar.DATE, cal.getFirstDayOfWeek() - day);<br />		return cal.getTime();<br />	}<br /> <br />	public static Date getNextWeekMonday(Date date) {<br />		Calendar cal = Calendar.getInstance();<br />		cal.setTime(getThisWeekMonday(date));<br />		cal.add(Calendar.DATE, 7);<br />		return cal.getTime();<br />	}<br /> <br />	public static void main(String[] args) {<br />		SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />		try {<br />			Date date = sdf.parse("2017-09-10");<br />			System.out.println("今天是" + sdf.format(date));<br />			System.out.println("上周一" + sdf.format(geLastWeekMonday(date)));<br />			System.out.println("本周一" + sdf.format(getThisWeekMonday(date)));<br />			System.out.println("下周一" + sdf.format(getNextWeekMonday(date)));<br />		} catch (Exception e) {<br />			e.printStackTrace();<br />		}<br />	} <br />	///////////////////////////////Java获取本周一、上周一、下周一时间/////////////////////////////////	<br />	<br />	/**************************本周的所有日期*******************************/<br />	public static List&lt;String&gt; getDateToWeek(Date date){<br />		List&lt;String&gt; dateWeekList = new ArrayList&lt;String&gt;();<br />		SimpleDateFormat sdf = new SimpleDateFormat("MM月dd日");<br />		String time = "";<br />		//flag用来存取与当天日期的相差数<br />		int flag = 0;<br />		for(int i=1;i&lt;8;i++){<br />			//新建日历<br />			Calendar cal = Calendar.getInstance();<br />			//在日历中找到当前日期<br />			cal.setTime(date);<br />			//当前日期时本周第几天，默认按照西方惯例上周星期天为第一天<br />			flag = -cal.get(Calendar.DAY_OF_WEEK);<br />			//根据循环。当天与上周星期天和本周一到周五相差的天数<br />			cal.add(Calendar.DATE, flag+i);<br />			//转化格式<br />			time = sdf.format(cal.getTime());<br />			//存入list<br />			dateWeekList.add(time);<br />		}<br />		return dateWeekList;	<br />	} </p>
<p> /**<br />	     * 获取上一周日的日期<br />	     * @param beginTime<br />	     * @return<br />	     * @throws Exception<br />	     */<br />	    public static String lastSunday(String beginTime){<br />	    	 String lastTime = null;<br />			SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");<br />		try{<br />			Date start = sdf.parse(beginTime);// 定义起始日期<br />	        Calendar calendar = Calendar.getInstance();<br />	        calendar.setTime(start);<br />	        while (calendar.get(Calendar.DAY_OF_WEEK) != Calendar.SUNDAY) {<br />	            calendar.add(Calendar.DAY_OF_WEEK, -1);<br />	        }<br />	        int dayOfWeek = calendar.get(Calendar.DAY_OF_WEEK) - 1;<br />	        int offset = 1 - dayOfWeek;<br />	        calendar.add(Calendar.DATE, offset - 7);<br />	     <br />	        calendar.setFirstDayOfWeek(1);//设置一星期的第一天是哪一天<br />	        calendar.set(Calendar.DAY_OF_WEEK, 1);//指示一个星期中的某天<br />	        calendar.set(Calendar.HOUR_OF_DAY, 0);//指示一天中的小时。HOUR_OF_DAY 用于 24 小时制时钟。例如，在 10:04:15.250 PM 这一时刻，HOUR_OF_DAY 为 22。<br />	        calendar.set(Calendar.MINUTE, 0);//指示一小时中的分钟。例如，在 10:04:15.250 PM 这一时刻，MINUTE 为 4。<br />	        calendar.set(Calendar.SECOND, 0);<br />	        calendar.set(Calendar.MILLISECOND, 0); <br />		    Date sundayDate = calendar.getTime(); <br />		    lastTime = sdf.format(sundayDate);<br />		  }catch (Exception e) {<br />	            e.printStackTrace();<br />	        }<br />		   return lastTime;<br />		  }</p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>