<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Java的23种设计模式，详细讲解（一）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Java的23种设计模式，详细讲解（一）</center></div><div class='banquan'>原文出处:本文由博客园博主Java博客手留余香提供。<br/>
原文连接:https://www.cnblogs.com/yuxiang1/p/11680738.html</div><br>
    <blockquote>
<h2><span style="font-size: 16px;"><span style="color: #ff0000;">本人免费整理了Java高级资料，涵盖了Java、Redis、MongoDB、MySQL、Zookeeper、Spring Cloud、Dubbo高并发分布式等教程，一共30G，需要自己领取。</span><br /><span style="color: #ff0000;">传送门</span>：<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//links.jianshu.com/go%3Fto%3Dhttps%253A%252F%252Flink.zhihu.com%252F%253Ftarget%253Dhttps%25253A%252F%252Fmp.weixin.qq.com%252Fs%252FJzddfH-7yNudmkjT0IRL8Q" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">https://mp.weixin.qq.com/s/JzddfH-7yNudmkjT0IRL8Q</a></span></h2>
</blockquote>
<h2><span style="font-size: 16px;">一、概述</span></h2>
<p><span style="font-size: 16px;">设计模式是解决问题的方案，学习现有的设计模式可以做到经验复用。</span></p>
<p><span style="font-size: 16px;">拥有设计模式词汇，在沟通时就能用更少的词汇来讨论，并且不需要了解底层细节。</span></p>
<h2><span style="font-size: 16px;">二、创建型</span></h2>
<h2><span style="font-size: 16px;">1. 单例（Singleton）</span></h2>
<h3><span style="font-size: 16px;">Intent</span></h3>
<p><span style="font-size: 16px;">确保一个类只有一个实例，并提供该实例的全局访问点。</span></p>
<h3><span style="font-size: 16px;">Class Diagram</span></h3>
<p><span style="font-size: 16px;">使用一个私有构造函数、一个私有静态变量以及一个公有静态函数来实现。</span></p>
<p><span style="font-size: 16px;">私有构造函数保证了不能通过构造函数来创建对象实例，只能通过公有静态函数返回唯一的私有静态变量。</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;"><img class="origin_image zh-lightbox-thumb lazy" src="./images/Java的23种设计模式，详细讲解（一）0.png" alt="" width="445" data-caption="" data-size="normal" data-rawwidth="445" data-rawheight="295" data-original="https://pic3.zhimg.com/v2-045f7dd04248946b9d72438ded5a7936_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-045f7dd04248946b9d72438ded5a7936_b.jpg" data-lazy-status="ok" /></span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<h3><span style="font-size: 16px;">Implementation</span></h3>
<h3><span style="font-size: 16px;">Ⅰ 懒汉式-线程不安全</span></h3>
<p><span style="font-size: 16px;">以下实现中，私有静态变量 uniqueInstance 被延迟实例化，这样做的好处是，如果没有用到该类，那么就不会实例化 uniqueInstance，从而节约资源。</span></p>
<p><span style="font-size: 16px;">这个实现在多线程环境下是不安全的，如果多个线程能够同时进入&nbsp;<code>if (uniqueInstance == null)</code>&nbsp;，并且此时 uniqueInstance 为 null，那么会有多个线程执行&nbsp;<code>uniqueInstance = new Singleton();</code>&nbsp;语句，这将导致实例化多次 uniqueInstance。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Singleton {

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton uniqueInstance;

    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Singleton() {
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton getUniqueInstance() {
        </span><span style="color: #0000ff;">if</span> (uniqueInstance == <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
            uniqueInstance </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Singleton();
        }
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> uniqueInstance;
    }
}</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">Ⅱ 饿汉式-线程安全</span></h3>
<p><span style="font-size: 16px;">线程不安全问题主要是由于 uniqueInstance 被实例化多次，采取直接实例化 uniqueInstance 的方式就不会产生线程不安全问题。</span></p>
<p><span style="font-size: 16px;">但是直接实例化的方式也丢失了延迟实例化带来的节约资源的好处。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span> Singleton uniqueInstance = <span style="color: #0000ff;">new</span> Singleton();</code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">Ⅲ 懒汉式-线程安全</span></h3>
<p><span style="font-size: 16px;">只需要对 getUniqueInstance() 方法加锁，那么在一个时间点只能有一个线程能够进入该方法，从而避免了实例化多次 uniqueInstance。</span></p>
<p><span style="font-size: 16px;">但是当一个线程进入该方法之后，其它试图进入该方法的线程都必须等待，即使 uniqueInstance 已经被实例化了。这会让线程阻塞时间过长，因此该方法有性能问题，不推荐使用。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">synchronized</span><span style="color: #000000;"> Singleton getUniqueInstance() {
    </span><span style="color: #0000ff;">if</span> (uniqueInstance == <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
        uniqueInstance </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Singleton();
    }
    </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> uniqueInstance;
}</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">Ⅳ 双重校验锁-线程安全</span></h3>
<p><span style="font-size: 16px;">uniqueInstance 只需要被实例化一次，之后就可以直接使用了。加锁操作只需要对实例化那部分的代码进行，只有当 uniqueInstance 没有被实例化时，才需要进行加锁。</span></p>
<p><span style="font-size: 16px;">双重校验锁先判断 uniqueInstance 是否已经被实例化，如果没有被实例化，那么才对实例化语句进行加锁。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Singleton {

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">volatile</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton uniqueInstance;

    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Singleton() {
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton getUniqueInstance() {
        </span><span style="color: #0000ff;">if</span> (uniqueInstance == <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
            </span><span style="color: #0000ff;">synchronized</span> (Singleton.<span style="color: #0000ff;">class</span><span style="color: #000000;">) {
                </span><span style="color: #0000ff;">if</span> (uniqueInstance == <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
                    uniqueInstance </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Singleton();
                }
            }
        }
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> uniqueInstance;
    }
}</span></code></pre>

<p>&nbsp;</p>

<p><span style="font-size: 16px;">考虑下面的实现，也就是只使用了一个 if 语句。在 uniqueInstance == null 的情况下，如果两个线程都执行了 if 语句，那么两个线程都会进入 if 语句块内。虽然在 if 语句块内有加锁操作，但是两个线程都会执行&nbsp;<code>uniqueInstance = new Singleton();</code>&nbsp;这条语句，只是先后的问题，那么就会进行两次实例化。因此必须使用双重校验锁，也就是需要使用两个 if 语句：第一个 if 语句用来避免 uniqueInstance 已经被实例化之后的加锁操作，而第二个 if 语句进行了加锁，所以只能有一个线程进入，就不会出现 uniqueInstance == null 时两个线程同时进行实例化操作。</span></p>
<src class="highlight">
<pre><code><span style="font-size: 16px;"><code class="language-text">&nbsp;</code></span></code></pre>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Singleton {

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">volatile</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton uniqueInstance;

    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Singleton() {
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton getUniqueInstance() {
        </span><span style="color: #0000ff;">if</span> (uniqueInstance == <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
            </span><span style="color: #0000ff;">synchronized</span> (Singleton.<span style="color: #0000ff;">class</span><span style="color: #000000;">) {
                </span><span style="color: #0000ff;">if</span> (uniqueInstance == <span style="color: #0000ff;">null</span><span style="color: #000000;">) {
                    uniqueInstance </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> Singleton();
                }
            }
        }
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> uniqueInstance;
    }
}</span></code></pre>

<p>&nbsp;</p>

<p><span style="font-size: 16px;">uniqueInstance 采用 volatile 关键字修饰也是很有必要的，&nbsp;<code>uniqueInstance = new Singleton();</code>&nbsp;这段代码其实是分为三步执行：</span></p>
<ol>
<li><span style="font-size: 16px;">为 uniqueInstance 分配内存空间</span></li>
<li><span style="font-size: 16px;">初始化 uniqueInstance</span></li>
<li><span style="font-size: 16px;">将 uniqueInstance 指向分配的内存地址</span></li>
</ol>
<p><span style="font-size: 16px;">但是由于 JVM 具有指令重排的特性，执行顺序有可能变成 1&gt;3&gt;2。指令重排在单线程环境下不会出现问题，但是在多线程环境下会导致一个线程获得还没有初始化的实例。例如，线程 T1 执行了 1 和 3，此时 T2 调用 getUniqueInstance() 后发现 uniqueInstance 不为空，因此返回 uniqueInstance，但此时 uniqueInstance 还未被初始化。</span></p>
<p><span style="font-size: 16px;">使用 volatile 可以禁止 JVM 的指令重排，保证在多线程环境下也能正常运行。</span></p>
<h3><span style="font-size: 16px;">Ⅴ 静态内部类实现</span></h3>
<p><span style="font-size: 16px;">当 Singleton 类被加载时，静态内部类 SingletonHolder 没有被加载进内存。只有当调用&nbsp;<code>getUniqueInstance()</code>&nbsp;方法从而触发&nbsp;<code>SingletonHolder.INSTANCE</code>&nbsp;时 SingletonHolder 才会被加载，此时初始化 INSTANCE 实例，并且 JVM 能确保 INSTANCE 只被实例化一次。</span></p>
<p><span style="font-size: 16px;">这种方式不仅具有延迟初始化的好处，而且由 JVM 提供了对线程安全的支持。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Singleton {

    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> Singleton() {
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> SingletonHolder {
        </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">final</span> Singleton INSTANCE = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Singleton();
    }

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span><span style="color: #000000;"> Singleton getUniqueInstance() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> SingletonHolder.INSTANCE;
    }
}</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">Ⅵ 枚举实现</span></h3>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">enum</span><span style="color: #000000;"> Singleton {

    INSTANCE;

    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String objName;


    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String getObjName() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> objName;
    }


    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> setObjName(String objName) {
        </span><span style="color: #0000ff;">this</span>.objName =<span style="color: #000000;"> objName;
    }


    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 单例测试</span>
        Singleton firstSingleton =<span style="color: #000000;"> Singleton.INSTANCE;
        firstSingleton.setObjName(</span>"firstName"<span style="color: #000000;">);
        System.out.println(firstSingleton.getObjName());
        Singleton secondSingleton </span>=<span style="color: #000000;"> Singleton.INSTANCE;
        secondSingleton.setObjName(</span>"secondName"<span style="color: #000000;">);
        System.out.println(firstSingleton.getObjName());
        System.out.println(secondSingleton.getObjName());

        </span><span style="color: #008000;">//</span><span style="color: #008000;"> 反射获取实例测试</span>
        <span style="color: #0000ff;">try</span><span style="color: #000000;"> {
            Singleton[] enumConstants </span>= Singleton.<span style="color: #0000ff;">class</span><span style="color: #000000;">.getEnumConstants();
            </span><span style="color: #0000ff;">for</span><span style="color: #000000;"> (Singleton enumConstant : enumConstants) {
                System.out.println(enumConstant.getObjName());
            }
        } </span><span style="color: #0000ff;">catch</span><span style="color: #000000;"> (Exception e) {
            e.printStackTrace();
        }
    }
}
firstName
secondName
secondName
secondName</span></code></pre>

<p>&nbsp;</p>

<p><span style="font-size: 16px;">该实现可以防止反射攻击。在其它实现中，通过 setAccessible() 方法可以将私有构造函数的访问级别设置为 public，然后调用构造函数从而实例化对象，如果要防止这种攻击，需要在构造函数中添加防止多次实例化的代码。该实现是由 JVM 保证只会实例化一次，因此不会出现上述的反射攻击。</span></p>
<p><span style="font-size: 16px;">该实现在多次序列化和序列化之后，不会得到多个实例。而其它实现需要使用 transient 修饰所有字段，并且实现序列化和反序列化的方法。</span></p>
<h3><span style="font-size: 16px;">Examples</span></h3>
<ul>
<li><span style="font-size: 16px;">Logger Classes</span></li>
<li><span style="font-size: 16px;">Configuration Classes</span></li>
<li><span style="font-size: 16px;">Accesing resources in shared mode</span></li>
<li><span style="font-size: 16px;">Factories implemented as Singletons</span></li>
</ul>
<h3><span style="font-size: 16px;">JDK</span></h3>
<ul>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html%23getRuntime%2528%2529" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.lang.Runtime#getRuntime()</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/awt/Desktop.html%23getDesktop--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.awt.Desktop#getDesktop()</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/lang/System.html%23getSecurityManager--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.lang.System#getSecurityManager()</a></span></li>
</ul>
<h2><span style="font-size: 16px;">2. 简单工厂（Simple Factory）</span></h2>
<h3><span style="font-size: 16px;">Intent</span></h3>
<p><span style="font-size: 16px;">在创建一个对象时不向客户暴露内部细节，并提供一个创建对象的通用接口。</span></p>
<h3><span style="font-size: 16px;">Class Diagram</span></h3>
<p><span style="font-size: 16px;">简单工厂把实例化的操作单独放到一个类中，这个类就成为简单工厂类，让简单工厂类来决定应该用哪个具体子类来实例化。</span></p>
<p><span style="font-size: 16px;">这样做能把客户类和具体子类的实现解耦，客户类不再需要知道有哪些子类以及应当实例化哪个子类。客户类往往有多个，如果不使用简单工厂，那么所有的客户类都要知道所有子类的细节。而且一旦子类发生改变，例如增加子类，那么所有的客户类都要进行修改。</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;"><img class="origin_image zh-lightbox-thumb lazy" src="./images/Java的23种设计模式，详细讲解（一）1.png" alt="" width="698" data-caption="" data-size="normal" data-rawwidth="698" data-rawheight="434" data-original="https://pic2.zhimg.com/v2-d881b991169dbb5be88b343b8b2f8ce5_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-d881b991169dbb5be88b343b8b2f8ce5_b.jpg" data-lazy-status="ok" /></span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<h3><span style="font-size: 16px;">Implementation</span></h3>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span><span style="color: #000000;"> Product {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteProduct <span style="color: #0000ff;">implements</span><span style="color: #000000;"> Product {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteProduct1 <span style="color: #0000ff;">implements</span><span style="color: #000000;"> Product {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteProduct2 <span style="color: #0000ff;">implements</span><span style="color: #000000;"> Product {
}</span></code></pre>

<p>&nbsp;</p>

<p><span style="font-size: 16px;">以下的 Client 类包含了实例化的代码，这是一种错误的实现。如果在客户类中存在这种实例化代码，就需要考虑将代码放到简单工厂中。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Client {

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        </span><span style="color: #0000ff;">int</span> type = 1<span style="color: #000000;">;
        Product product;
        </span><span style="color: #0000ff;">if</span> (type == 1<span style="color: #000000;">) {
            product </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct1();
        } </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (type == 2<span style="color: #000000;">) {
            product </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct2();
        } </span><span style="color: #0000ff;">else</span><span style="color: #000000;"> {
            product </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct();
        }
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> do something with the product</span>
<span style="color: #000000;">    }
}</span></code></pre>

<p>&nbsp;</p>

<p><span style="font-size: 16px;">以下的 SimpleFactory 是简单工厂实现，它被所有需要进行实例化的客户类调用。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> SimpleFactory {

    </span><span style="color: #0000ff;">public</span> Product createProduct(<span style="color: #0000ff;">int</span><span style="color: #000000;"> type) {
        </span><span style="color: #0000ff;">if</span> (type == 1<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct1();
        } </span><span style="color: #0000ff;">else</span> <span style="color: #0000ff;">if</span> (type == 2<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct2();
        }
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct();
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Client {

    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        SimpleFactory simpleFactory </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> SimpleFactory();
        Product product </span>= simpleFactory.createProduct(1<span style="color: #000000;">);
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> do something with the product</span>
<span style="color: #000000;">    }
}</span></code></pre>

<p>&nbsp;</p>

<h2><span style="font-size: 16px;">3. 工厂方法（Factory Method）</span></h2>
<h3><span style="font-size: 16px;">Intent</span></h3>
<p><span style="font-size: 16px;">定义了一个创建对象的接口，但由子类决定要实例化哪个类。工厂方法把实例化操作推迟到子类。</span></p>
<h3><span style="font-size: 16px;">Class Diagram</span></h3>
<p><span style="font-size: 16px;">在简单工厂中，创建对象的是另一个类，而在工厂方法中，是由子类来创建对象。</span></p>
<p><span style="font-size: 16px;">下图中，Factory 有一个 doSomething() 方法，这个方法需要用到一个产品对象，这个产品对象由 factoryMethod() 方法创建。该方法是抽象的，需要由子类去实现。</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;"><img class="origin_image zh-lightbox-thumb lazy" src="./images/Java的23种设计模式，详细讲解（一）2.png" alt="" width="951" data-caption="" data-size="normal" data-rawwidth="951" data-rawheight="389" data-original="https://pic1.zhimg.com/v2-e97e04579bef3a7677d08f446808efa4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-e97e04579bef3a7677d08f446808efa4_b.jpg" data-lazy-status="ok" /></span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<h3><span style="font-size: 16px;">Implementation</span></h3>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">abstract</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Factory {
    </span><span style="color: #0000ff;">abstract</span> <span style="color: #0000ff;">public</span><span style="color: #000000;"> Product factoryMethod();
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> doSomething() {
        Product product </span>=<span style="color: #000000;"> factoryMethod();
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> do something with the product</span>
<span style="color: #000000;">    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteFactory <span style="color: #0000ff;">extends</span><span style="color: #000000;"> Factory {
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> Product factoryMethod() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct();
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteFactory1 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> Factory {
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> Product factoryMethod() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct1();
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteFactory2 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> Factory {
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> Product factoryMethod() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteProduct2();
    }
}</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">JDK</span></h3>
<ul>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/util/Calendar.html%23getInstance--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.util.Calendar</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html%23getBundle-java.lang.String-" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.util.ResourceBundle</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html%23getInstance--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.text.NumberFormat</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/nio/charset/Charset.html%23forName-java.lang.String-" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.nio.charset.Charset</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/net/URLStreamHandlerFactory.html%23createURLStreamHandler-java.lang.String-" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.net.URLStreamHandlerFactory</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//docs.oracle.com/javase/8/docs/api/java/util/EnumSet.html%23of-E-" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.util.EnumSet</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//docs.oracle.com/javase/8/docs/api/javax/xml/bind/JAXBContext.html%23createMarshaller--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">javax.xml.bind.JAXBContext</a></span></li>
</ul>
<h2><span style="font-size: 16px;">4. 抽象工厂（Abstract Factory）</span></h2>
<h3><span style="font-size: 16px;">Intent</span></h3>
<p><span style="font-size: 16px;">提供一个接口，用于创建&nbsp;相关的对象家族&nbsp;。</span></p>
<h3><span style="font-size: 16px;">Class Diagram</span></h3>
<p><span style="font-size: 16px;">抽象工厂模式创建的是对象家族，也就是很多对象而不是一个对象，并且这些对象是相关的，也就是说必须一起创建出来。而工厂方法模式只是用于创建一个对象，这和抽象工厂模式有很大不同。</span></p>
<p><span style="font-size: 16px;">抽象工厂模式用到了工厂方法模式来创建单一对象，AbstractFactory 中的 createProductA() 和 createProductB() 方法都是让子类来实现，这两个方法单独来看就是在创建一个对象，这符合工厂方法模式的定义。</span></p>
<p><span style="font-size: 16px;">至于创建对象的家族这一概念是在 Client 体现，Client 要通过 AbstractFactory 同时调用两个方法来创建出两个对象，在这里这两个对象就有很大的相关性，Client 需要同时创建出这两个对象。</span></p>
<p><span style="font-size: 16px;">从高层次来看，抽象工厂使用了组合，即 Cilent 组合了 AbstractFactory，而工厂方法模式使用了继承。</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;"><img class="origin_image zh-lightbox-thumb lazy" src="./images/Java的23种设计模式，详细讲解（一）3.png" alt="" width="1400" data-caption="" data-size="normal" data-rawwidth="1400" data-rawheight="650" data-original="https://pic3.zhimg.com/v2-3cbe84dd5b19333b97d72435643637ba_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-3cbe84dd5b19333b97d72435643637ba_b.jpg" data-lazy-status="ok" /></span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<h3><span style="font-size: 16px;">Implementation</span></h3>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> AbstractProductA {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> AbstractProductB {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ProductA1 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractProductA {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ProductA2 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractProductA {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ProductB1 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractProductB {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ProductB2 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractProductB {
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">abstract</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> AbstractFactory {
    </span><span style="color: #0000ff;">abstract</span><span style="color: #000000;"> AbstractProductA createProductA();
    </span><span style="color: #0000ff;">abstract</span><span style="color: #000000;"> AbstractProductB createProductB();
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteFactory1 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractFactory {
    AbstractProductA createProductA() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ProductA1();
    }

    AbstractProductB createProductB() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ProductB1();
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcreteFactory2 <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractFactory {
    AbstractProductA createProductA() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ProductA2();
    }

    AbstractProductB createProductB() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ProductB2();
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Client {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        AbstractFactory abstractFactory </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcreteFactory1();
        AbstractProductA productA </span>=<span style="color: #000000;"> abstractFactory.createProductA();
        AbstractProductB productB </span>=<span style="color: #000000;"> abstractFactory.createProductB();
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> do something with productA and productB</span>
<span style="color: #000000;">    }
}</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">JDK</span></h3>
<ul>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/javax/xml/parsers/DocumentBuilderFactory.html" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">javax.xml.parsers.DocumentBuilderFactory</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/javax/xml/transform/TransformerFactory.html%23newInstance--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">javax.xml.transform.TransformerFactory</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/javax/xml/xpath/XPathFactory.html%23newInstance--" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">javax.xml.xpath.XPathFactory</a></span></li>
</ul>
<h2><span style="font-size: 16px;">5. 生成器（Builder）</span></h2>
<h3><span style="font-size: 16px;">Intent</span></h3>
<p><span style="font-size: 16px;">封装一个对象的构造过程，并允许按步骤构造。</span></p>
<h3><span style="font-size: 16px;">Class Diagram</span></h3>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;"><img class="origin_image zh-lightbox-thumb lazy" src="./images/Java的23种设计模式，详细讲解（一）4.png" alt="" width="866" data-caption="" data-size="normal" data-rawwidth="866" data-rawheight="384" data-original="https://pic1.zhimg.com/v2-bcaae344bc5bbcbb6a61bd4ea91c2340_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-bcaae344bc5bbcbb6a61bd4ea91c2340_b.jpg" data-lazy-status="ok" /></span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<h3><span style="font-size: 16px;">Implementation</span></h3>
<p><span style="font-size: 16px;">以下是一个简易的 StringBuilder 实现，参考了 JDK 1.8 源码。</span></p>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> AbstractStringBuilder {
    </span><span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">char</span><span style="color: #000000;">[] value;

    </span><span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> count;

    </span><span style="color: #0000ff;">public</span> AbstractStringBuilder(<span style="color: #0000ff;">int</span><span style="color: #000000;"> capacity) {
        count </span>= 0<span style="color: #000000;">;
        value </span>= <span style="color: #0000ff;">new</span> <span style="color: #0000ff;">char</span><span style="color: #000000;">[capacity];
    }

    </span><span style="color: #0000ff;">public</span> AbstractStringBuilder append(<span style="color: #0000ff;">char</span><span style="color: #000000;"> c) {
        ensureCapacityInternal(count </span>+ 1<span style="color: #000000;">);
        value[count</span>++] =<span style="color: #000000;"> c;
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">this</span><span style="color: #000000;">;
    }

    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">void</span> ensureCapacityInternal(<span style="color: #0000ff;">int</span><span style="color: #000000;"> minimumCapacity) {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> overflow-conscious code</span>
        <span style="color: #0000ff;">if</span> (minimumCapacity - value.length &gt; 0<span style="color: #000000;">)
            expandCapacity(minimumCapacity);
    }

    </span><span style="color: #0000ff;">void</span> expandCapacity(<span style="color: #0000ff;">int</span><span style="color: #000000;"> minimumCapacity) {
        </span><span style="color: #0000ff;">int</span> newCapacity = value.length * 2 + 2<span style="color: #000000;">;
        </span><span style="color: #0000ff;">if</span> (newCapacity - minimumCapacity &lt; 0<span style="color: #000000;">)
            newCapacity </span>=<span style="color: #000000;"> minimumCapacity;
        </span><span style="color: #0000ff;">if</span> (newCapacity &lt; 0<span style="color: #000000;">) {
            </span><span style="color: #0000ff;">if</span> (minimumCapacity &lt; 0) <span style="color: #008000;">//</span><span style="color: #008000;"> overflow</span>
                <span style="color: #0000ff;">throw</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> OutOfMemoryError();
            newCapacity </span>=<span style="color: #000000;"> Integer.MAX_VALUE;
        }
        value </span>=<span style="color: #000000;"> Arrays.copyOf(value, newCapacity);
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> StringBuilder <span style="color: #0000ff;">extends</span><span style="color: #000000;"> AbstractStringBuilder {
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> StringBuilder() {
        </span><span style="color: #0000ff;">super</span>(16<span style="color: #000000;">);
    }

    @Override
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String toString() {
        </span><span style="color: #008000;">//</span><span style="color: #008000;"> Create a copy, don't share the array</span>
        <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span> String(value, 0<span style="color: #000000;">, count);
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Client {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        StringBuilder sb </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> StringBuilder();
        </span><span style="color: #0000ff;">final</span> <span style="color: #0000ff;">int</span> count = 26<span style="color: #000000;">;
        </span><span style="color: #0000ff;">for</span> (<span style="color: #0000ff;">int</span> i = 0; i &lt; count; i++<span style="color: #000000;">) {
            sb.append((</span><span style="color: #0000ff;">char</span>) ('a' +<span style="color: #000000;"> i));
        }
        System.out.println(sb.toString());
    }
}
abcdefghijklmnopqrstuvwxyz</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">JDK</span></h3>
<ul>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.lang.StringBuilder</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html%23put-byte-" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.nio.ByteBuffer</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/lang/StringBuffer.html%23append-boolean-" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.lang.StringBuffer</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/lang/Appendable.html" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.lang.Appendable</a></span></li>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//github.com/apache/camel/tree/0e195428ee04531be27a0b659005e3aa8d159d23/camel-core/src/main/java/org/apache/camel/builder" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">Apache Camel builders</a></span></li>
</ul>
<h2><span style="font-size: 16px;">6. 原型模式（Prototype）</span></h2>
<h3><span style="font-size: 16px;">Intent</span></h3>
<p><span style="font-size: 16px;">使用原型实例指定要创建对象的类型，通过复制这个原型来创建新对象。</span></p>
<h3><span style="font-size: 16px;">Class Diagram</span></h3>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p><span style="font-size: 16px;"><img class="origin_image zh-lightbox-thumb lazy" src="./images/Java的23种设计模式，详细讲解（一）5.png" alt="" width="1033" data-caption="" data-size="normal" data-rawwidth="1033" data-rawheight="393" data-original="https://pic1.zhimg.com/v2-eb57fdcdca7ce55da7aa965ccf9a803c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-eb57fdcdca7ce55da7aa965ccf9a803c_b.jpg" data-lazy-status="ok" /></span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<p class="ztext-empty-paragraph"><span style="font-size: 16px;">&nbsp;</span></p>
<h3><span style="font-size: 16px;">Implementation</span></h3>
<src class="highlight">
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">abstract</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Prototype {
    </span><span style="color: #0000ff;">abstract</span><span style="color: #000000;"> Prototype myClone();
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> ConcretePrototype <span style="color: #0000ff;">extends</span><span style="color: #000000;"> Prototype {

    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String filed;

    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> ConcretePrototype(String filed) {
        </span><span style="color: #0000ff;">this</span>.filed =<span style="color: #000000;"> filed;
    }

    @Override
    Prototype myClone() {
        </span><span style="color: #0000ff;">return</span> <span style="color: #0000ff;">new</span><span style="color: #000000;"> ConcretePrototype(filed);
    }

    @Override
    </span><span style="color: #0000ff;">public</span><span style="color: #000000;"> String toString() {
        </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> filed;
    }
}
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> Client {
    </span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
        Prototype prototype </span>= <span style="color: #0000ff;">new</span> ConcretePrototype("abc"<span style="color: #000000;">);
        Prototype clone </span>=<span style="color: #000000;"> prototype.myClone();
        System.out.println(clone.toString());
    }
}
abc</span></code></pre>

<p>&nbsp;</p>

<h3><span style="font-size: 16px;">JDK</span></h3>
<ul>
<li><span style="font-size: 16px;"><a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//docs.oracle.com/javase/8/docs/api/java/lang/Object.html%23clone%2528%2529" rel="nofollow noreferrer" target="_blank" data-za-detail-view-id="1043">java.lang.Object#clone()</a></span></li>
</ul>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>