<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Spring Boot 2 整合 Dubbo 框架 ,实现 RPC 服务远程调用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Spring Boot 2 整合 Dubbo 框架 ,实现 RPC 服务远程调用</center></div><div class='banquan'>原文出处:本文由博客园博主AI乔治提供。<br/>
原文连接:https://www.cnblogs.com/AIPAOJIAO/p/11951564.html</div><br>
    <p>&nbsp;</p>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">一、Dubbo框架简介</h2>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">1、框架依赖</h2>
<src class="image-package" style="box-sizing: border-box; width: 682px; margin: 0px; padding-bottom: 25px; text-align: center; font-size: 0px; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">
<src class="image-container" style="box-sizing: border-box; position: relative; z-index: 95; background-color: transparent; transition: background-color 0.1s linear 0s; margin: 0px auto; max-width: 544px; max-height: 393px;">
<src class="image-container-fill" style="box-sizing: border-box; z-index: 90; padding-bottom: 392.984px;">&nbsp;
<src class="image-view" style="box-sizing: border-box; position: absolute; top: 0px; left: 0px; width: 544px; height: 392.984px; overflow: hidden;" data-width="544" data-height="393"><img style="box-sizing: border-box; vertical-align: middle; max-width: 100%; width: auto; height: auto; transition: all 0.15s linear 0s; z-index: 95; opacity: 1; cursor: zoom-in;" src="./images/Spring Boot 2 整合 Dubbo 框架 ,实现 RPC 服务远程调用0.png" alt="" data-original-src="//upload-images.jianshu.io/upload_images/9727275-d5fd48cb79eb0922.jpg!web" data-original-width="544" data-original-height="393" data-original-format="image/jpeg" data-original-filesize="27427" data-image-index="0" />


<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">图例说明：</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">1)图中小方块 Protocol, Cluster, Proxy, Service, Container, Registry, Monitor 代表层或模块，蓝色的表示与业务有交互，绿色的表示只对 Dubbo 内部交互。</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">2)图中背景方块 Consumer, Provider, Registry, Monitor 代表部署逻辑拓扑节点。</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">3)图中蓝色虚线为初始化时调用，红色虚线为运行时异步调用，红色实线为运行时同步调用。</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">4)图中只包含 RPC 的层，不包含 Remoting 的层，Remoting 整体都隐含在 Protocol 中。</p>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">2、核心角色说明</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">1）Provider 暴露服务的服务提供方</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">2）Consumer 调用远程服务的服务消费方（负载均衡）</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">3）Registry 服务注册与发现的注册中心（监控、心跳、踢出、重入）</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">4）Monitor 服务消费者和提供者在内存中累计调用次数和调用时间，主动定时每分钟发送一次统计数据到监控中心。</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">5）Container 服务运行容器：远程调用、序列化</p>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">二、与SpringBoot2.0整合</h2>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">1、核心依赖</h2>
<pre><code><code class="  language-xml" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token comment" style="box-sizing: border-box; color: #999999;">&lt;!-- 这里包含了Zookeeper依赖和Dubbo依赖 --&gt;</span>
<span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;</span>dependency</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>
    <span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;</span>groupId</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>com.alibaba.boot<span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;/</span>groupId</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>
    <span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;</span>artifactId</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>dubbo-spring-boot-starter<span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;/</span>artifactId</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>
    <span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;</span>version</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>0.2.0<span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;/</span>version</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>
<span class="token tag" style="box-sizing: border-box; color: #e2777a;"><span class="token tag" style="box-sizing: border-box;"><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&lt;/</span>dependency</span><span class="token punctuation" style="box-sizing: border-box; color: #cccccc;">&gt;</span></span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">2、项目结构说明</h2>
<src class="image-package" style="box-sizing: border-box; width: 682px; margin: 0px; padding-bottom: 25px; text-align: center; font-size: 0px; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">
<src class="image-container" style="box-sizing: border-box; position: relative; z-index: 95; background-color: transparent; transition: background-color 0.1s linear 0s; margin: 0px auto; max-width: 276px; max-height: 112px;">
<src class="image-container-fill" style="box-sizing: border-box; z-index: 90; padding-bottom: 112px;">&nbsp;
<src class="image-view" style="box-sizing: border-box; position: absolute; top: 0px; left: 0px; width: 276px; height: 112px; overflow: hidden;" data-width="276" data-height="112"><img style="box-sizing: border-box; vertical-align: middle; max-width: 100%; width: auto; height: auto; transition: all 0.15s linear 0s; z-index: 95; opacity: 1; cursor: zoom-in;" src="./images/Spring Boot 2 整合 Dubbo 框架 ,实现 RPC 服务远程调用1.png" alt="" data-original-src="//upload-images.jianshu.io/upload_images/9727275-40d174bbcda61e86.png!web" data-original-width="276" data-original-height="112" data-original-format="image/png" data-original-filesize="5391" data-image-index="1" />


<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">结构说明</p>
<pre class="line-numbers  language-undefined"><code class="  language-undefined" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">dubbo-consume：服务消费方
dubbo-provider：服务提供方
dubbo-common：公共代码块，Dubbo接口，实体类
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">3、核心配置</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">1）提供方配置</p>
<pre class="line-numbers  language-css"><code class="  language-css" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token property" style="box-sizing: border-box; color: #f8c555;">server</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">tomcat</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">uri-encoding</span><span class="token punctuation" style="box-sizing: border-box;">:</span> UTF-8
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">max-threads</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 1000
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">min-spare-threads</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 30
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">port</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 7007
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">connection-timeout</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 5000ms
<span class="token property" style="box-sizing: border-box; color: #f8c555;">spring</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">application</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">name</span><span class="token punctuation" style="box-sizing: border-box;">:</span> block-dubbo-provider
# Dubbo 配置文件
<span class="token property" style="box-sizing: border-box; color: #f8c555;">dubbo</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">application</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">name</span><span class="token punctuation" style="box-sizing: border-box;">:</span> block-dubbo-provider
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">registry</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">address</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 127.0.0.1<span class="token punctuation" style="box-sizing: border-box;">:</span>2181
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">protocol</span><span class="token punctuation" style="box-sizing: border-box;">:</span> zookeeper
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">protocol</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">name</span><span class="token punctuation" style="box-sizing: border-box;">:</span> dubbo
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">port</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 20880
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">scan</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">base-packages</span><span class="token punctuation" style="box-sizing: border-box;">:</span> com.boot.consume
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">2)消费方配置</p>
<pre class="line-numbers  language-css"><code class="  language-css" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token property" style="box-sizing: border-box; color: #f8c555;">server</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">tomcat</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">uri-encoding</span><span class="token punctuation" style="box-sizing: border-box;">:</span> UTF-8
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">max-threads</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 1000
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">min-spare-threads</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 30
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">port</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 7008
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">connection-timeout</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 5000ms

<span class="token property" style="box-sizing: border-box; color: #f8c555;">spring</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">application</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">name</span><span class="token punctuation" style="box-sizing: border-box;">:</span> block-dubbo-consume
# Dubbo 配置文件
<span class="token property" style="box-sizing: border-box; color: #f8c555;">dubbo</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">application</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">name</span><span class="token punctuation" style="box-sizing: border-box;">:</span> block-dubbo-consume
  <span class="token property" style="box-sizing: border-box; color: #f8c555;">registry</span><span class="token punctuation" style="box-sizing: border-box;">:</span>
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">address</span><span class="token punctuation" style="box-sizing: border-box;">:</span> 127.0.0.1<span class="token punctuation" style="box-sizing: border-box;">:</span>2181
    <span class="token property" style="box-sizing: border-box; color: #f8c555;">protocol</span><span class="token punctuation" style="box-sizing: border-box;">:</span> zookeeper
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">三、演示案例</h2>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">1、服务远程调用</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">1）提供方服务接口</p>
<ul style="box-sizing: border-box; margin: 0px 0px 20px 20px; padding-left: 0px; list-style-position: initial; list-style-image: initial; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; line-height: 30px;">
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word;">注意这里的注解</p>
</li>
<li style="box-sizing: border-box; line-height: 30px;">
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word;">com.alibaba.dubbo.config.annotation.Service</p>
</li>
</ul>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Service</span>
<span class="token annotation punctuation" style="box-sizing: border-box;">@Component</span>
<span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboServiceImpl</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">implements</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboService</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">private</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">static</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">Logger</span> LOGGER <span class="token operator" style="box-sizing: border-box; color: #67cdcc;">=</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">LoggerFactory</span><span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">getLogger</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboServiceImpl</span><span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span><span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getInfo</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> param<span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        LOGGER<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">info</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token string" style="box-sizing: border-box; color: #7ec699;">"字符参数：{}"</span><span class="token punctuation" style="box-sizing: border-box;">,</span>param<span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"[Hello,Cicada]"</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">UserEntity</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getUserInfo</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token class-name" style="box-sizing: border-box; color: #f8c555;">UserEntity</span> userEntity<span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        LOGGER<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">info</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token string" style="box-sizing: border-box; color: #7ec699;">"实体类参数：{}"</span><span class="token punctuation" style="box-sizing: border-box;">,</span>userEntity<span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> userEntity<span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
<span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">2）消费方接口</p>
<ul style="box-sizing: border-box; margin: 0px 0px 20px 20px; padding-left: 0px; list-style-position: initial; list-style-image: initial; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">
<li style="box-sizing: border-box; line-height: 30px;">
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word;">注意这里注解</p>
</li>
<li style="box-sizing: border-box; line-height: 30px;">
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word;">com.alibaba.dubbo.config.annotation.Reference</p>
</li>
<li style="box-sizing: border-box; line-height: 30px;">
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word;">org.springframework.stereotype.Service</p>
</li>
</ul>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Service</span>
<span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">ConsumeService</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">implements</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboService</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Reference</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">private</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboService</span> dubboService <span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getInfo</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> param<span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> dubboService<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">getInfo</span><span class="token punctuation" style="box-sizing: border-box;">(</span>param<span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">UserEntity</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getUserInfo</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token class-name" style="box-sizing: border-box; color: #f8c555;">UserEntity</span> userEntity<span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> dubboService<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">getUserInfo</span><span class="token punctuation" style="box-sizing: border-box;">(</span>userEntity<span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
<span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">2、接口超时配置</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">该配置可以在服务提供方配置，也可以在服务消费方配置，这里演示在提供方的配置。</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">注解：timeout</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">1）服务接口注解</p>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Service</span><span class="token punctuation" style="box-sizing: border-box;">(</span>timeout <span class="token operator" style="box-sizing: border-box; color: #67cdcc;">=</span> <span class="token number" style="box-sizing: border-box; color: #f08d49;">2000</span><span class="token punctuation" style="box-sizing: border-box;">)</span>
<span class="token annotation punctuation" style="box-sizing: border-box;">@Component</span>
<span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboServiceImpl</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">implements</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">DubboService</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
<span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">2）消费方调用</p>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
 <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">timeOut</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token class-name" style="box-sizing: border-box; color: #f8c555;">Integer</span> time<span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
     <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> dubboService<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">timeOut</span><span class="token punctuation" style="box-sizing: border-box;">(</span>time<span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
 <span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">3）测试接口</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">服务超时抛出异常</p>
<pre class="line-numbers  language-css"><code class="  language-css" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;">com.alibaba.dubbo.remoting.TimeoutException
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<h2 style="box-sizing: border-box; margin-top: 0px; margin-bottom: 16px; color: #404040; text-rendering: optimizelegibility; font-size: 24px; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;">3、接口多版本配置</h2>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">1）服务提供方</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">相同接口提供两个版本实现。注解：version。</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">版本一：</p>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Service</span><span class="token punctuation" style="box-sizing: border-box;">(</span>version <span class="token operator" style="box-sizing: border-box; color: #67cdcc;">=</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"1.0.0"</span><span class="token punctuation" style="box-sizing: border-box;">)</span>
<span class="token annotation punctuation" style="box-sizing: border-box;">@Component</span>
<span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionOneImpl</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">implements</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionService</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getVersion</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"{当前版本：1.0.0}"</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
<span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">版本二：</p>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Service</span><span class="token punctuation" style="box-sizing: border-box;">(</span>version <span class="token operator" style="box-sizing: border-box; color: #67cdcc;">=</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"2.0.0"</span><span class="token punctuation" style="box-sizing: border-box;">)</span>
<span class="token annotation punctuation" style="box-sizing: border-box;">@Component</span>
<span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionTwoImpl</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">implements</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionService</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getVersion</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"{当前版本：2.0.0}"</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
<span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">2）消费方调用</p>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">通过@Reference(version)注解，将指向不同版本的接口实现。</p>
<pre class="line-numbers  language-java"><code class="  language-java" style="box-sizing: border-box; font-size: 1em; font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace; padding: 0px; border: none; vertical-align: unset; white-space: inherit; background: none; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; position: relative;"><span class="token annotation punctuation" style="box-sizing: border-box;">@Service</span>
<span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">class</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionServiceImpl</span> <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">implements</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionService</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Reference</span><span class="token punctuation" style="box-sizing: border-box;">(</span>version <span class="token operator" style="box-sizing: border-box; color: #67cdcc;">=</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"1.0.0"</span><span class="token punctuation" style="box-sizing: border-box;">)</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">private</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionService</span> versionService1 <span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Reference</span><span class="token punctuation" style="box-sizing: border-box;">(</span>version <span class="token operator" style="box-sizing: border-box; color: #67cdcc;">=</span> <span class="token string" style="box-sizing: border-box; color: #7ec699;">"2.0.0"</span><span class="token punctuation" style="box-sizing: border-box;">)</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">private</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">VersionService</span> versionService2 <span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token annotation punctuation" style="box-sizing: border-box;">@Override</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> <span class="token function" style="box-sizing: border-box; color: #f08d49;">getVersion</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">{</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> versionService1<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">getVersion</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
    <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">public</span> <span class="token class-name" style="box-sizing: border-box; color: #f8c555;">String</span> version2 <span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token punctuation" style="box-sizing: border-box;">)</span><span class="token punctuation" style="box-sizing: border-box;">{</span>
        <span class="token keyword" style="box-sizing: border-box; color: #cc99cd;">return</span> versionService2<span class="token punctuation" style="box-sizing: border-box;">.</span><span class="token function" style="box-sizing: border-box; color: #f08d49;">getVersion</span><span class="token punctuation" style="box-sizing: border-box;">(</span><span class="token punctuation" style="box-sizing: border-box;">)</span> <span class="token punctuation" style="box-sizing: border-box;">;</span>
    <span class="token punctuation" style="box-sizing: border-box;">}</span>
<span class="token punctuation" style="box-sizing: border-box;">}</span>
</code><button class="VJbwyy" style="touch-action: manipulation; margin: 0px; font-size: 14px; font-family: inherit; line-height: inherit; overflow: visible; position: absolute; top: 6px; right: 6px; display: flex; justify-content: center; align-items: center; width: 32px; height: 24px; cursor: pointer; padding: 0px; border-width: initial; border-style: none; border-color: initial; border-radius: 6px; background-color: rgba(230, 230, 230, 0.2); box-shadow: rgba(0, 0, 0, 0.25) 0px 2px 0px 0px; opacity: 0; visibility: hidden; user-select: none; transition: opacity 0.2s ease-in-out 0s, visibility 0.2s ease-in-out 0s;" type="button"></button></code></pre>
<p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 20px; word-break: break-word; color: #404040; font-family: -apple-system, BlinkMacSystemFont, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 16px;">以上案例都是参照Dubbo官网的流程编写的，Dubbo许多强大功能都可以参考官网一步步的配置。</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>