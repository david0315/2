<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Java开发笔记（一百四十二）JavaFX的对话框' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Java开发笔记（一百四十二）JavaFX的对话框</center></div><div class='banquan'>原文出处:本文由博客园博主pinlantu提供。<br/>
原文连接:https://www.cnblogs.com/pinlantu/p/11415444.html</div><br>
    <p>JavaFX的对话框主要分为提示对话框和文件对话框两类，其中提示对话框又分作消息对话框、警告对话框、错误对话框、确认对话框四种。这四种对话框都使用Alert控件表达，并通过对话框类型加以区分，例如AlertType.INFORMATION表示消息对话框，AlertType.WARNIN表示警告对话框，AlertType.ERROR表示错误对话框，AlertType.CONFIRMATION表示确认对话框。另外，Alert工具还提供了下列方法来操作对话框：<br />setTitle：设置对话框的标题。<br />setHeaderText：设置对话框的头部文本。<br />setContentText：设置对话框的内容文本。<br />show：显示对话框。<br />showAndWait：显示对话框，并等待按钮返回。该方法的返回类型是Optional&lt;ButtonType&gt;，它用来描述确认对话框选择的是确定按钮还是取消按钮。</p>
<p>接下来分别列举几种提示对话框的实现例子，首先是消息对话框，它的调用代码示例如下：</p>
<src class="cnblogs_Highlighter">
<pre><code>		Button btn1 = new Button("消息对话框"); // 创建一个按钮
		btn1.setOnAction(new EventHandler&lt;ActionEvent&gt;() { // 设置按钮的单击事件
			@Override
			public void handle(ActionEvent arg0) { // 处理单击事件
				Alert alert = new Alert(Alert.AlertType.INFORMATION); // 创建一个消息对话框
				alert.setHeaderText("今日天气"); // 设置对话框的头部文本
				// 设置对话框的内容文本
				alert.setContentText("今天白天晴转多云，北转南风2、3间4级，最高气温28℃；夜间多云转阴，南风2级左右，最低气温16℃。");
				alert.show(); // 显示对话框
			}
		});
		flowPane.getChildren().add(btn1); // 往流式窗格上添加按钮
</code></pre>

<p>&nbsp;</p>
<p>运行包含以上代码的测试程序，单击按钮后弹出的对话框如下图所示，可见消息对话框的提示图标是个内嵌感叹号的圆圈。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框0.png" alt="" /><br />其次是警告对话框，它的调用代码示例如下：</p>
<src class="cnblogs_Highlighter">
<pre><code>		Button btn2 = new Button("警告对话框"); // 创建一个按钮
		btn2.setOnAction(new EventHandler&lt;ActionEvent&gt;() { // 设置按钮的单击事件
			@Override
			public void handle(ActionEvent arg0) { // 处理单击事件
				Alert alert = new Alert(Alert.AlertType.WARNING); // 创建一个警告对话框
				alert.setHeaderText("编译警告"); // 设置对话框的头部文本
				// 设置对话框的内容文本
				alert.setContentText("您在本代码的第60行未初始化变量，可能导致空指针异常。");
				alert.show(); // 显示对话框
			}
		});
		flowPane.getChildren().add(btn2); // 往流式窗格上添加按钮
</code></pre>

<p>&nbsp;</p>
<p>运行包含以上代码的测试程序，单击按钮后弹出的对话框如下图所示，可见警告对话框的提示图标是个内嵌感叹号的三角框。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框1.png" alt="" /><br />再次是错误对话框，它的调用代码示例如下：</p>
<src class="cnblogs_Highlighter">
<pre><code>		Button btn3 = new Button("错误对话框"); // 创建一个按钮
		btn3.setOnAction(new EventHandler&lt;ActionEvent&gt;() { // 设置按钮的单击事件
			@Override
			public void handle(ActionEvent arg0) { // 处理单击事件
				Alert alert = new Alert(Alert.AlertType.ERROR); // 创建一个错误对话框
				alert.setHeaderText("致命错误"); // 设置对话框的头部文本
				// 设置对话框的内容文本
				alert.setContentText("系统即将关机，请赶紧保存文件。");
				alert.show(); // 显示对话框
			}
		});
		flowPane.getChildren().add(btn3); // 往流式窗格上添加按钮
</code></pre>

<p>&nbsp;</p>
<p>运行包含以上代码的测试程序，单击按钮后弹出的对话框如下图所示，可见错误对话框的提示图标是个内嵌叉号的圆角方框。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框2.png" alt="" /></p>
<p>最后是确认对话框，它使用showAndWait方法替换了show方法，具体的调用代码示例如下：</p>
<src class="cnblogs_Highlighter">
<pre><code>		Button btn4 = new Button("确认对话框"); // 创建一个按钮
		btn4.setOnAction(new EventHandler&lt;ActionEvent&gt;() { // 设置按钮的单击事件
			@Override
			public void handle(ActionEvent arg0) { // 处理单击事件
				Alert alert = new Alert(Alert.AlertType.CONFIRMATION); // 创建一个确认对话框
				alert.setHeaderText("温馨提示"); // 设置对话框的头部文本
				// 设置对话框的内容文本
				alert.setContentText("尊敬的用户，你真的要卸载我吗？");
				// 显示对话框，并等待按钮返回
				Optional&lt;ButtonType&gt; buttonType = alert.showAndWait();
				// 判断返回的按钮类型是确定还是取消，再据此分别进一步处理
				if (buttonType.get().getButtonData().equals(ButtonBar.ButtonData.OK_DONE)) { // 单击了确定按钮OK_DONE
					label.setText("您选择了&ldquo;确定&rdquo;按钮。虽然依依不舍，但是只能离开了");
				} else { // 单击了取消按钮CANCEL_CLOSE
					label.setText("您选择了&ldquo;取消&rdquo;按钮。让我再陪你三百六十五个日夜");
				}
			}
		});
		flowPane.getChildren().add(btn4); // 往流式窗格上添加按钮
</code></pre>

<p>&nbsp;</p>
<p>运行包含以上代码的测试程序，单击按钮后弹出的对话框如下图所示，可见确认对话框的提示图标是个内嵌问号的圆圈。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框3.png" alt="" /><br />各自单击确认对话框上的确定按钮和取消按钮，对话框消失后的窗口界面分别如下面两张图所示。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框4.png" alt="" /><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框5.png" alt="" /><br />除了提示对话框这一大类，还有文件对话框FileChooser，它又细分为文件打开对话框与文件保存对话框两种，FileChooser的常见方法说明如下：<br />setTitle：设置文件对话框的标题。<br />setInitialDirectory：设置文件对话框的初始目录。<br />getExtensionFilters：获得文件对话框的扩展过滤器。调用过滤器的add方法或者addAll方法可以添加新的文件类型过滤器。<br />showOpenDialog：显示文件打开对话框。该方法返回一个选中的文件对象。<br />showOpenMultipleDialog：显示文件打开对话框，且该对话框支持同时选择多个文件。该方法返回一个选中的文件清单。<br />showSaveDialog：显示文件保存对话框。该方法返回一个待保存的文件对象，文件可能存在也可能不存在。</p>
<p>接着看个文件对话框的运用场景，现在准备打开某张图片，以便对该图片进行加工。鉴于图片文件包含jpg、gif、bmp、png等多种格式，在创建文件类型过滤器时得添加主要的几种图片扩展名，下面便是打开图片的对话框调用代码例子：</p>
<src class="cnblogs_Highlighter">
<pre><code>		Button btn1 = new Button("文件打开对话框"); // 创建一个按钮
		btn1.setOnAction(new EventHandler&lt;ActionEvent&gt;() { // 设置按钮的单击事件
			@Override
			public void handle(ActionEvent arg0) { // 处理单击事件
				FileChooser chooser = new FileChooser(); // 创建一个文件对话框
				chooser.setTitle("打开文件"); // 设置文件对话框的标题
				chooser.setInitialDirectory(new File("E:\\")); // 设置文件对话框的初始目录
				// 给文件对话框添加多个文件类型的过滤器
				chooser.getExtensionFilters().addAll(
						new FileChooser.ExtensionFilter("所有文件", "*.*"),
						new FileChooser.ExtensionFilter("所有图片", "*.jpg", "*.gif", "*.bmp", "*.png"));
				// 显示文件打开对话框，且该对话框支持同时选择多个文件
				File file = chooser.showOpenDialog(stage); // 显示文件打开对话框
				if (file == null) { // 文件对象为空，表示没有选择任何文件
					label.setText("未选择任何文件");
				} else { // 文件对象非空，表示选择了某个文件
					label.setText("准备打开的文件路径是："+file.getAbsolutePath());
				}
			}
		});
		flowPane.getChildren().add(btn1); // 往流式窗格上添加按钮
</code></pre>

<p>&nbsp;</p>
<p>运行包含以上代码的测试程序，单击按钮后弹出的对话框如下图所示。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框6.png" alt="" /><br />在文件对话框中选择某个目录下的某个图片文件，此时对话框界面如下图所示。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框7.png" alt="" /><br />然后单击确定按钮，回到主程序的窗口界面如下图所示，可见主程序成功获取到了该文件的完整路径。</p>
<p>&nbsp;<img src="./images/Java开发笔记（一百四十二）JavaFX的对话框8.png" alt="" /></p>
<p>再来验证文件保存对话框的使用过程，这次期望将一段文字保存到文本文件，那么具体实现的对话框代码如下所示：</p>
<src class="cnblogs_Highlighter">
<pre><code>		Button btn2 = new Button("文件保存对话框"); // 创建一个按钮
		btn2.setOnAction(new EventHandler&lt;ActionEvent&gt;() { // 设置按钮的单击事件
			@Override
			public void handle(ActionEvent arg0) { // 处理单击事件
				FileChooser chooser = new FileChooser(); // 创建一个文件对话框
				chooser.setTitle("保存文件"); // 设置文件对话框的标题
				chooser.setInitialDirectory(new File("E:\\")); // 设置文件对话框的初始目录
				// 创建一个文件类型过滤器
				FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter("文本文件(*.txt)", "*.txt");
				// 给文件对话框添加文件类型过滤器
				chooser.getExtensionFilters().add(filter);
				File file = chooser.showSaveDialog(stage); // 显示文件保存对话框
				if (file == null) { // 文件对象为空，表示没有选择任何文件
					label.setText("未选择任何文件");
				} else { // 文件对象非空，表示选择了某个文件
					label.setText("准备保存的文件路径是："+file.getAbsolutePath());
				}
			}
		});
		flowPane.getChildren().add(btn2); // 往流式窗格上添加按钮
</code></pre>

<p>&nbsp;</p>
<p>运行包含以上代码的测试程序，单击按钮后弹出的对话框如下图所示。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框9.png" alt="" /><br />在文件对话框中进入到指定目录，并在对话框下方的文件名一栏填写待保存的文件名称，此时对话框界面如下图所示。</p>
<p><img src="./images/Java开发笔记（一百四十二）JavaFX的对话框10.png" alt="" /><br />然后单击确定按钮，回到主程序的窗口界面如下图所示，可见主程序也获取到了该文件的完整路径。</p>
<p>&nbsp;<img src="./images/Java开发笔记（一百四十二）JavaFX的对话框11.png" alt="" /></p>
<p><br /><em id="__mceDel"><br /></em>更多Java技术文章参见《<a href="https://www.cnblogs.com/pinlantu/p/9941789.html" target="_blank">Java开发笔记（序）章节目录</a>》</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>