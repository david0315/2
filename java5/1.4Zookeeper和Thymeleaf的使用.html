<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修1.4Zookeeper和Thymeleaf的使用' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>1.4Zookeeper和Thymeleaf的使用</center></div><div class='banquan'>原文出处:本文由博客园博主wm根mw提供。<br/>
原文连接:https://www.cnblogs.com/sovy/p/11536529.html</div><br>
    <h3>什么是Zookeeper？</h3>
<p>Zookeeper 是一个开放源码的分布式应用程序协调服务，它包含一个简单的原语集，分布式应用程序可以基于它实现同步服务、配置维护和命名服务等等。<br />采用下图描述zookeeper协调服务。<br /><img src="./images/1.4Zookeeper和Thymeleaf的使用0.png" alt="" /></p>
<h3>Zookeeper特性</h3>
<p>ZooKeeper非常快速且非常简单。但是，由于其目标是构建更复杂的服务（如同步）的基础，因此它提供了一系列保证。这些是：</p>
<ul>
<li>顺序一致性 - 客户端的更新将按发送顺序应用。</li>
<li>原子性 - 更新成功或失败。没有部分结果。</li>
<li>单系统映像 - 无论服务器连接到哪个服务器，客户端都将看到相同的服务视图。</li>
<li>可靠性 - 一旦应用了更新，它将从那时起持续到客户端覆盖更新。</li>
<li>及时性 - 系统的客户视图保证在特定时间范围内是最新的。</li>

</ul>
<h3>什么是分布式锁</h3>
<p>顾名思义，分布式锁肯定是用在分布式环境下。在分布式环境下，使用分布式锁的目的也是保证同一时刻只有一个线程来修改共享变量，修改共享缓存&hellip;&hellip;。</p>
<p>前景：<br />jdk提供的锁只能保证线程间的安全性，但分布式环境下，各节点之间的线程同步执行却得不到保障，分布式锁由此诞生。</p>
<p>实现方式有以下几种：</p>
<ol>
<li>基于数据库实现分布式锁；</li>
<li>基于缓存（Redis等）实现分布式锁；</li>
<li>基于Zookeeper实现分布式锁；</li>

</ol>
<p>本示例利用zookeeper实现分布式锁。</p>
<h3>实现思路</h3>
<p>zookeeper 可以根据有序节点+watch实现，实现思路，如：<br />为每个线程生成一个有序的临时节点，为确保有序性，在排序一次全部节点，获取全部节点，每个线程判断自己是否最小，如果是的话，获得锁，执行操作，操作完删除自身节点。如果不是第一个的节点则监听它的前一个节点，当它的前一个节点被删除时，则它会获得锁，以此类推。</p>
<h3>使用Zookeeper实现分布式锁的优点</h3>
<p>有效的解决单点问题，不可重入问题，非阻塞问题以及锁无法释放的问题。实现起来较为简单。</p>
<h3>使用Zookeeper实现分布式锁的缺点</h3>
<p>性能上不如使用缓存实现分布式锁。因为需要频繁的创建删除节点。并且需要对ZK的原理有所了解。</p>
<p>&nbsp;</p>
<p>参考链接：<br /><a href="http://www.hollischuang.com/archives/1716" rel="nofollow,noindex" target="_blank">三种方案实现分布式锁</a></p>
<h1 id="Spring%20Boot%20%E4%BD%BF%E7%94%A8%20Thymeleaf%C2%A0">Spring Boot 使用 Thymeleaf&nbsp;</h1>
<p>&lt;!-- 引入thymeleaf模板引擎--&gt;<br />        &lt;dependency&gt;<br />            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;<br />            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;<br />        &lt;/dependency&gt;</p>
<p>一、标准表达式语法<br />它又分为：<br />消息<br />变量<br />选择表达式<br />链接URL<br />片段<br />文字<br />附加文本<br />字面替代<br />算术运算<br />比较与平等<br />条件表达式<br />默认表达式<br />无操作令牌<br />数据转换/格式化<br />预处理<br />我就只介绍常用的了<br />${&hellip;} 表达式实际上是在上下文中包含的变量的地图上执行的OGNL（Object-Graph Navigation Language）对象。</p>
<p>1、变量<br />&lt;p&gt;Today is: &lt;span th:text="${today}"&gt;13 february 2011&lt;/span&gt;.&lt;/p&gt;<br />1<br />意味着 &lt;span&gt;标签中的内容会被表达式${today}的值所替代，无论模板中它的内容是什么，之所以在模板中&ldquo;多此一举&ldquo;地填充它的内容，完全是为了它能够作为原型在浏览器中直接显示出来。<br />假设today的值为2015年8月14日，那么渲染结果为：&lt;p&gt;Today is: 2015年8月14日.&lt;/p&gt;。可见Thymeleaf的基本变量和JSP一样，都使用${.}表示获取变量的值。</p>
<p>2、URL<br />URL在Web应用模板中占据着十分重要的地位，需要特别注意的是Thymeleaf对于URL的处理是通过语法@{&hellip;}来处理的。Thymeleaf支持绝对路径URL：<br />&lt;a th:href="@{http://www.thymeleaf.org}"&gt;Thymeleaf&lt;/a&gt;<br />1<br />同时也能够支持相对路径URL：<br />另外，如果需要Thymeleaf对URL进行渲染，那么务必使用th:href，th:src等属性，下面是一个例子<br />&lt;!-- Will produce 'http://localhost:8080/gtvg/order/details?orderId=3' (plus rewriting) --&gt;<br />&lt;a href="details.html" <br />   th:href="@{http://localhost:8080/gtvg/order/details(orderId=${o.id})}"&gt;view&lt;/a&gt;<br />&lt;!-- Will produce '/gtvg/order/details?orderId=3' (plus rewriting) --&gt;<br />&lt;a href="details.html" th:href="@{/order/details(orderId=${o.id})}"&gt;view&lt;/a&gt;<br />&lt;!-- Will produce '/gtvg/order/3/details' (plus rewriting) --&gt;<br />&lt;a href="details.html" th:href="@{/order/{orderId}/details(orderId=${o.id})}"&gt;view&lt;/a&gt;<br /><br />几点说明：<br />上例中URL最后的(orderId=${o.id})表示将括号内的内容作为URL参数处理，该语法避免使用字符串拼接，大大提高了可读性@{...}表达式中可以通过{orderId}访问Context中的orderId变量@{/order}是Context相关的相对路径，在渲染时会自动添加上当前Web应用的Context名字，假设context名字为app，那么结果应该是/app/order<br />3、字符串替换<br />很多时候可能我们只需要对一大段文字中的某一处地方进行替换，可以通过字符串拼接操作完成：</p>
<p>&lt;span th:text="'Welcome to our application, ' + ${user.name} + '!'"&gt;<br />1<br />一种更简洁的方式是：<br />&lt;span th:text="|Welcome to our application, ${user.name}!|"&gt;<br />1<br />当然这种形式限制比较多，|&hellip;|中只能包含变量表达式${&hellip;}，不能包含其他常量、条件表达式等。</p>
<p>4、运算符<br />在表达式中可以使用各类算术运算符，例如+, -, *, /, %</p>
<p>th:with="isEven=(${prodStat.count} % 2 == 0)"<br />1<br />逻辑运算符&gt;, &lt;, &lt;=,&gt;=，==,!=都可以使用，唯一需要注意的是使用&lt;,&gt;时需要用它的HTML转义符：</p>
<p>th:if="${prodStat.count} &amp;gt; 1"<br />th:text="'Execution mode is ' + ( (${execMode} == 'dev')? 'Development' : 'Production')"<br />1<br />2<br />二、常用的表达式<br />1、for循环<br />使用 th:each 标签<br />&lt;div class="row" &gt;<br />	&lt;div th:each="url,lstat:${links}"&gt;<br />		&lt;div class="col-md-2"  th:title="${url.description}"  title="一个人，信你所信，为你所现" &gt;<br />			&lt;strong th:text="${url.link_name}"&gt;这个冬天不太冷&lt;/strong&gt;<br />			&lt;a href="http://www.lrshuai.top" th:href="${url.link}" th:text="${url.link}" &gt;http://www.lrshuai.top&lt;/a&gt;<br />		&lt;/div&gt;<br />	&lt;/div&gt;<br />&lt;/div&gt;<br /><br />lstat称作状态变量，属性有：<br />index:当前迭代对象的index（从0开始计算）<br />count: 当前迭代对象的index(从1开始计算)<br />size:被迭代对象的大小<br />current:当前迭代变量<br />even/odd:布尔值，当前循环是否是偶数/奇数（从0开始计算）<br />first:布尔值，当前循环是否是第一个<br />last:布尔值，当前循环是否是最后一个<br />2、条件求值<br />If/Unless<br />demo<br />&lt;div class="row" &gt;<br />	&lt;div th:each="url,lstat:${links}"&gt;<br />		&lt;div class="col-md-2"  th:title="${url.description}" th:if="${lstat.index}%4 == 0" &gt;<br />			&lt;strong th:text="${url.link_name}"&gt;这个冬天不太冷&lt;/strong&gt;<br />			&lt;a href="http://www.lrshuai.top" th:href="${url.link}" th:text="${url.link}"&gt;http://www.lrshuai.top&lt;/a&gt;<br />		&lt;/div&gt;<br />		<br />		&lt;div class="col-md-2 col-md-offset-1" th:title="${url.description}" th:unless="${lstat.index}%4==0"&gt;<br />			&lt;strong th:text="${url.link_name}"&gt;这个冬天不太冷&lt;/strong&gt;<br />			&lt;a href="http://www.lrshuai.top" th:href="${url.link}" th:text="${url.link}"  &gt;http://www.lrshuai.top&lt;/a&gt;<br />		&lt;/div&gt;<br />	&lt;/div&gt;<br />&lt;/div&gt;<br /><br />Thymeleaf中使用th:if和th:unless属性进行条件判断，上面的例子中，&lt;div&gt;标签只有在th:if中条件成立时才显示：</p>
<p>th:unless于th:if恰好相反，只有表达式中的条件不成立，才会显示其内容。</p>
<p>Switch<br />Thymeleaf同样支持多路选择Switch结构：<br />&lt;div th:switch="${user.role}"&gt;<br />  &lt;p th:case="'admin'"&gt;User is an administrator&lt;/p&gt;<br />  &lt;p th:case="#{roles.manager}"&gt;User is a manager&lt;/p&gt;<br />&lt;/div&gt;<br /><br />默认属性default可以用*表示：<br />&lt;div th:switch="${user.role}"&gt;<br />  &lt;p th:case="'admin'"&gt;User is an administrator&lt;/p&gt;<br />  &lt;p th:case="#{roles.manager}"&gt;User is a manager&lt;/p&gt;<br />  &lt;p th:case="*"&gt;User is some other thing&lt;/p&gt;<br />&lt;/div&gt;<br /><br />3、内嵌变量<br />为了模板更加易用，Thymeleaf还提供了一系列Utility对象（内置于Context中），可以通过#直接访问：<br />dates ： java.util.Date的功能方法类。<br />calendars : 类似#dates，面向java.util.Calendar<br />numbers : 格式化数字的功能方法类<br />strings : 字符串对象的功能类<br />objects: 对objects的功能类操作。<br />bools: 对布尔值求值的功能方法。<br />arrays：对数组的功能类方法。<br />lists: 对lists功能类方法<br />sets<br />maps<br />说说我常用得方法吧，太多了，你也不一定看完<br />(1)、字符串太多，显示&hellip;<br /># 这里的含义是 如果 atc.text 这个变量多余200个字符，后面显示...<br />&lt;p th:text="${#strings.abbreviate(atc.text,200)}"&gt;内容内容内容&lt;/p&gt;<br />1<br />2<br />(2)、数组判断是否为空<br />&lt;div th:if="${#lists.isEmpty(arrays)} " class="blog-article"&gt;<br />1<br />(3)、request 获取绝对路径<br />&lt;img th:src="${#httpServletRequest.getContextPath()}+${atc.img}" src="/images/logo.jpg"&gt;<br />1<br />常用th标签<br />标签	说明	例子<br />th:id	替换id	&lt;input th:id="'xxx' + ${collect.id}"/&gt;<br />th:text	文本替换	&lt;p th:text="${collect.description}"&gt;description&lt;/p&gt;<br />th:utext	支持html的文本替换	&lt;p th:utext="${htmlcontent}"&gt;conten&lt;/p&gt;<br />th:object	替换对象	&lt;div th:object="${session.user}"&gt;<br />th:value	属性赋值	&lt;input th:value="${user.name}" /&gt;<br />th:with	变量赋值运算	&lt;div th:with="isEven=${prodStat.count}%2==0"&gt;&lt;/div&gt;<br />th:style	设置样式	th:style="'display:' + @{(${sitrue} ? 'none' : 'inline-block')} + ''"<br />th:onclick	点击事件	th:"'getCollect()'"<br />th:each	属性赋值	tr th:each="user,userStat:${users}"&gt;<br />th:if	判断条件	&lt;a th:if="${userId == collect.userId}" &gt;<br />th:unless	和th:if判断相反	&lt;a th:href="@{/login}" th:unless=${session.user != null}&gt;Login&lt;/a&gt;<br />th:href	链接地址	&lt;a th:href="@{/login}" th:unless=${session.user != null}&gt;Login&lt;/a&gt; /&gt;<br />th:switch	多路选择 配合th:case 使用	&lt;div th:switch="${user.role}"&gt;<br />th:case	th:switch的一个分支	&lt;p th:case="'admin'"&gt;User is an administrator&lt;/p&gt;<br />th:fragment	布局标签，定义一个代码片段，方便其它地方引用	&lt;div th:fragment="alert"&gt;<br />th:include	布局标签，替换内容到引入的文件	&lt;head th:include="layout :: htmlhead" th:with="title='xx'"&gt;&lt;/head&gt; /&gt;<br />th:replace	布局标签，替换整个标签到引入的文件	&lt;div th:replace="fragments/header :: title"&gt;&lt;/div&gt;<br />th:selected	selected选择框 选中	th:selected="(${xxx.id} == ${configObj.dd})"<br />th:src	图片类地址引入	&lt;img class="img-responsive" alt="App Logo" th:src="@{/img/logo.png}" /&gt;<br />th:inline	定义js脚本可以使用变量	&lt;script type="text/javascript" th:inline="javascript"&gt;<br />th:action	表单提交的地址	&lt;form action="subscribe.html" th:action="@{/subscribe}"&gt;<br />th:remove	删除某个属性	&lt;tr th:remove="all"&gt;1.all:删除包含标签和所有的孩子。2.body:不包含标记删除,但删除其所有的孩子。3.tag:包含标记的删除,但不删除它的孩子。4.all-but-first:删除所有包含标签的孩子,除了第一个。5.none:什么也不做。这个值是有用的动态评估。<br />th:attr	设置标签属性，多个属性可以用逗号分隔	比如&lt;p th:attr="src=@{/image/aa.jpg},title=${title}"&gt;内容&lt;/p&gt;，这样如果${title}=&lsquo;这个是title&rsquo; 则结果就是&lt;p src="/image/aa.jpg" title="这个是title"&gt;内容&lt;/p&gt;<br />html 有的，它几乎都有相对应的标签</p>
<p>下面是一组的API<br />日期: #dates<br />/*<br /> * ======================================================================<br /> * See javadoc API for class org.thymeleaf.expression.Dates<br /> * ======================================================================<br /> */</p>
<p>/*<br /> * Format date with the standard locale format<br /> * Also works with arrays, lists or sets<br /> */<br />${#dates.format(date)}<br />${#dates.arrayFormat(datesArray)}<br />${#dates.listFormat(datesList)}<br />${#dates.setFormat(datesSet)}</p>
<p>/*<br /> * Format date with the ISO8601 format<br /> * Also works with arrays, lists or sets<br /> */<br />${#dates.formatISO(date)}<br />${#dates.arrayFormatISO(datesArray)}<br />${#dates.listFormatISO(datesList)}<br />${#dates.setFormatISO(datesSet)}</p>
<p>/*<br /> * Format date with the specified pattern<br /> * Also works with arrays, lists or sets<br /> */<br />${#dates.format(date, 'dd/MMM/yyyy HH:mm')}<br />${#dates.arrayFormat(datesArray, 'dd/MMM/yyyy HH:mm')}<br />${#dates.listFormat(datesList, 'dd/MMM/yyyy HH:mm')}<br />${#dates.setFormat(datesSet, 'dd/MMM/yyyy HH:mm')}</p>
<p>/*<br /> * Obtain date properties<br /> * Also works with arrays, lists or sets<br /> */<br />${#dates.day(date)}                    // also arrayDay(...), listDay(...), etc.<br />${#dates.month(date)}                  // also arrayMonth(...), listMonth(...), etc.<br />${#dates.monthName(date)}              // also arrayMonthName(...), listMonthName(...), etc.<br />${#dates.monthNameShort(date)}         // also arrayMonthNameShort(...), listMonthNameShort(...), etc.<br />${#dates.year(date)}                   // also arrayYear(...), listYear(...), etc.<br />${#dates.dayOfWeek(date)}              // also arrayDayOfWeek(...), listDayOfWeek(...), etc.<br />${#dates.dayOfWeekName(date)}          // also arrayDayOfWeekName(...), listDayOfWeekName(...), etc.<br />${#dates.dayOfWeekNameShort(date)}     // also arrayDayOfWeekNameShort(...), listDayOfWeekNameShort(...), etc.<br />${#dates.hour(date)}                   // also arrayHour(...), listHour(...), etc.<br />${#dates.minute(date)}                 // also arrayMinute(...), listMinute(...), etc.<br />${#dates.second(date)}                 // also arraySecond(...), listSecond(...), etc.<br />${#dates.millisecond(date)}            // also arrayMillisecond(...), listMillisecond(...), etc.</p>
<p>/*<br /> * Create date (java.util.Date) objects from its components<br /> */<br />${#dates.create(year,month,day)}<br />${#dates.create(year,month,day,hour,minute)}<br />${#dates.create(year,month,day,hour,minute,second)}<br />${#dates.create(year,month,day,hour,minute,second,millisecond)}</p>
<p>/*<br /> * Create a date (java.util.Date) object for the current date and time<br /> */<br />${#dates.createNow()}</p>
<p>${#dates.createNowForTimeZone()}</p>
<p>/*<br /> * Create a date (java.util.Date) object for the current date (time set to 00:00)<br /> */<br />${#dates.createToday()}</p>
<p>${#dates.createTodayForTimeZone()}<br /><br />数字:#numbers<br />/*<br /> * ======================================================================<br /> * See javadoc API for class org.thymeleaf.expression.Numbers<br /> * ======================================================================<br /> */</p>
<p>/*<br /> * ==========================<br /> * Formatting integer numbers<br /> * ==========================<br /> */</p>
<p>/* <br /> * Set minimum integer digits.<br /> * Also works with arrays, lists or sets<br /> */<br />${#numbers.formatInteger(num,3)}<br />${#numbers.arrayFormatInteger(numArray,3)}<br />${#numbers.listFormatInteger(numList,3)}<br />${#numbers.setFormatInteger(numSet,3)}</p>
<p><br />/* <br /> * Set minimum integer digits and thousands separator: <br /> * 'POINT', 'COMMA', 'WHITESPACE', 'NONE' or 'DEFAULT' (by locale).<br /> * Also works with arrays, lists or sets<br /> */<br />${#numbers.formatInteger(num,3,'POINT')}<br />${#numbers.arrayFormatInteger(numArray,3,'POINT')}<br />${#numbers.listFormatInteger(numList,3,'POINT')}<br />${#numbers.setFormatInteger(numSet,3,'POINT')}</p>
<p><br />/*<br /> * ==========================<br /> * Formatting decimal numbers<br /> * ==========================<br /> */</p>
<p>/*<br /> * Set minimum integer digits and (exact) decimal digits.<br /> * Also works with arrays, lists or sets<br /> */<br />${#numbers.formatDecimal(num,3,2)}<br />${#numbers.arrayFormatDecimal(numArray,3,2)}<br />${#numbers.listFormatDecimal(numList,3,2)}<br />${#numbers.setFormatDecimal(numSet,3,2)}</p>
<p>/*<br /> * Set minimum integer digits and (exact) decimal digits, and also decimal separator.<br /> * Also works with arrays, lists or sets<br /> */<br />${#numbers.formatDecimal(num,3,2,'COMMA')}<br />${#numbers.arrayFormatDecimal(numArray,3,2,'COMMA')}<br />${#numbers.listFormatDecimal(numList,3,2,'COMMA')}<br />${#numbers.setFormatDecimal(numSet,3,2,'COMMA')}</p>
<p>/*<br /> * Set minimum integer digits and (exact) decimal digits, and also thousands and <br /> * decimal separator.<br /> * Also works with arrays, lists or sets<br /> */<br />${#numbers.formatDecimal(num,3,'POINT',2,'COMMA')}<br />${#numbers.arrayFormatDecimal(numArray,3,'POINT',2,'COMMA')}<br />${#numbers.listFormatDecimal(numList,3,'POINT',2,'COMMA')}<br />${#numbers.setFormatDecimal(numSet,3,'POINT',2,'COMMA')}</p>
<p><br />/* <br /> * =====================<br /> * Formatting currencies<br /> * =====================<br /> */</p>
<p>${#numbers.formatCurrency(num)}<br />${#numbers.arrayFormatCurrency(numArray)}<br />${#numbers.listFormatCurrency(numList)}<br />${#numbers.setFormatCurrency(numSet)}</p>
<p><br />/* <br /> * ======================<br /> * Formatting percentages<br /> * ======================<br /> */</p>
<p>${#numbers.formatPercent(num)}<br />${#numbers.arrayFormatPercent(numArray)}<br />${#numbers.listFormatPercent(numList)}<br />${#numbers.setFormatPercent(numSet)}</p>
<p>/* <br /> * Set minimum integer digits and (exact) decimal digits.<br /> */<br />${#numbers.formatPercent(num, 3, 2)}<br />${#numbers.arrayFormatPercent(numArray, 3, 2)}<br />${#numbers.listFormatPercent(numList, 3, 2)}<br />${#numbers.setFormatPercent(numSet, 3, 2)}</p>
<p><br />/*<br /> * ===============<br /> * Utility methods<br /> * ===============<br /> */</p>
<p>/*<br /> * Create a sequence (array) of integer numbers going<br /> * from x to y<br /> */<br />${#numbers.sequence(from,to)}<br />${#numbers.sequence(from,to,step)}<br /><br />字符串:#strings<br />/*<br /> * Null-safe toString()<br /> */<br />${#strings.toString(obj)}                           // also array*, list* and set*</p>
<p>/*<br /> * Check whether a String is empty (or null). Performs a trim() operation before check<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.isEmpty(name)}<br />${#strings.arrayIsEmpty(nameArr)}<br />${#strings.listIsEmpty(nameList)}<br />${#strings.setIsEmpty(nameSet)}</p>
<p>/*<br /> * Perform an 'isEmpty()' check on a string and return it if false, defaulting to<br /> * another specified string if true.<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.defaultString(text,default)}<br />${#strings.arrayDefaultString(textArr,default)}<br />${#strings.listDefaultString(textList,default)}<br />${#strings.setDefaultString(textSet,default)}</p>
<p>/*<br /> * Check whether a fragment is contained in a String<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.contains(name,'ez')}                     // also array*, list* and set*<br />${#strings.containsIgnoreCase(name,'ez')}           // also array*, list* and set*</p>
<p>/*<br /> * Check whether a String starts or ends with a fragment<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.startsWith(name,'Don')}                  // also array*, list* and set*<br />${#strings.endsWith(name,endingFragment)}           // also array*, list* and set*</p>
<p>/*<br /> * Substring-related operations<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.indexOf(name,frag)}                      // also array*, list* and set*<br />${#strings.substring(name,3,5)}                     // also array*, list* and set*<br />${#strings.substringAfter(name,prefix)}             // also array*, list* and set*<br />${#strings.substringBefore(name,suffix)}            // also array*, list* and set*<br />${#strings.replace(name,'las','ler')}               // also array*, list* and set*</p>
<p>/*<br /> * Append and prepend<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.prepend(str,prefix)}                     // also array*, list* and set*<br />${#strings.append(str,suffix)}                      // also array*, list* and set*</p>
<p>/*<br /> * Change case<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.toUpperCase(name)}                       // also array*, list* and set*<br />${#strings.toLowerCase(name)}                       // also array*, list* and set*</p>
<p>/*<br /> * Split and join<br /> */<br />${#strings.arrayJoin(namesArray,',')}<br />${#strings.listJoin(namesList,',')}<br />${#strings.setJoin(namesSet,',')}<br />${#strings.arraySplit(namesStr,',')}                // returns String[]<br />${#strings.listSplit(namesStr,',')}                 // returns List&lt;String&gt;<br />${#strings.setSplit(namesStr,',')}                  // returns Set&lt;String&gt;</p>
<p>/*<br /> * Trim<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.trim(str)}                               // also array*, list* and set*</p>
<p>/*<br /> * Compute length<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.length(str)}                             // also array*, list* and set*</p>
<p>/*<br /> * Abbreviate text making it have a maximum size of n. If text is bigger, it<br /> * will be clipped and finished in "..."<br /> * Also works with arrays, lists or sets<br /> */<br />${#strings.abbreviate(str,10)}                      // also array*, list* and set*</p>
<p>/*<br /> * Convert the first character to upper-case (and vice-versa)<br /> */<br />${#strings.capitalize(str)}                         // also array*, list* and set*<br />${#strings.unCapitalize(str)}                       // also array*, list* and set*</p>
<p>/*<br /> * Convert the first character of every word to upper-case<br /> */<br />${#strings.capitalizeWords(str)}                    // also array*, list* and set*<br />${#strings.capitalizeWords(str,delimiters)}         // also array*, list* and set*</p>
<p>/*<br /> * Escape the string<br /> */<br />${#strings.escapeXml(str)}                          // also array*, list* and set*<br />${#strings.escapeJava(str)}                         // also array*, list* and set*<br />${#strings.escapeJavaScript(str)}                   // also array*, list* and set*<br />${#strings.unescapeJava(str)}                       // also array*, list* and set*<br />${#strings.unescapeJavaScript(str)}                 // also array*, list* and set*</p>
<p>/*<br /> * Null-safe comparison and concatenation<br /> */<br />${#strings.equals(first, second)}<br />${#strings.equalsIgnoreCase(first, second)}<br />${#strings.concat(values...)}<br />${#strings.concatReplaceNulls(nullValue, values...)}</p>
<p>/*<br /> * Random<br /> */<br />${#strings.randomAlphanumeric(count)}<br /><br />布尔:#bools<br />/*<br /> * Evaluate a condition in the same way that it would be evaluated in a th:if tag<br /> * (see conditional evaluation chapter afterwards).<br /> * Also works with arrays, lists or sets<br /> */<br />${#bools.isTrue(obj)}<br />${#bools.arrayIsTrue(objArray)}<br />${#bools.listIsTrue(objList)}<br />${#bools.setIsTrue(objSet)}</p>
<p>/*<br /> * Evaluate with negation<br /> * Also works with arrays, lists or sets<br /> */<br />${#bools.isFalse(cond)}<br />${#bools.arrayIsFalse(condArray)}<br />${#bools.listIsFalse(condList)}<br />${#bools.setIsFalse(condSet)}</p>
<p>/*<br /> * Evaluate and apply AND operator<br /> * Receive an array, a list or a set as parameter<br /> */<br />${#bools.arrayAnd(condArray)}<br />${#bools.listAnd(condList)}<br />${#bools.setAnd(condSet)}</p>
<p>/*<br /> * Evaluate and apply OR operator<br /> * Receive an array, a list or a set as parameter<br /> */<br />${#bools.arrayOr(condArray)}<br />${#bools.listOr(condList)}<br />${#bools.setOr(condSet)}<br /><br />数组 :#arrays<br />/*<br /> * Converts to array, trying to infer array component class.<br /> * Note that if resulting array is empty, or if the elements<br /> * of the target object are not all of the same class,<br /> * this method will return Object[].<br /> */<br />${#arrays.toArray(object)}</p>
<p>/*<br /> * Convert to arrays of the specified component class.<br /> */<br />${#arrays.toStringArray(object)}<br />${#arrays.toIntegerArray(object)}<br />${#arrays.toLongArray(object)}<br />${#arrays.toDoubleArray(object)}<br />${#arrays.toFloatArray(object)}<br />${#arrays.toBooleanArray(object)}</p>
<p>/*<br /> * Compute length<br /> */<br />${#arrays.length(array)}</p>
<p>/*<br /> * Check whether array is empty<br /> */<br />${#arrays.isEmpty(array)}</p>
<p>/*<br /> * Check if element or elements are contained in array<br /> */<br />${#arrays.contains(array, element)}<br />${#arrays.containsAll(array, elements)}</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>