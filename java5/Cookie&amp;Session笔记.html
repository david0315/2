<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修Cookie&amp;Session笔记' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>Cookie&amp;Session笔记</center></div><div class='banquan'>原文出处:本文由博客园博主Freud领工资也用券提供。<br/>
原文连接:https://www.cnblogs.com/freud-shen/p/11621922.html</div><br>
    <p><span style="color: #b22222;"># 今日内容<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;会话技术<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;Cookie<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;Session<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;JSP：入门学习<br />
<br />
<br />
<br />
<span style="color: #b22222;">## 会话技术<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;会话：一次会话中包含多次请求和响应。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 一次会话：浏览器第一次给服务器资源发送请求，会话建立，直到有一方断开为止<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;功能：在一次会话的范围内的多次请求间，共享数据<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;方式：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;客户端会话技术：Cookie<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;服务器端会话技术：Session<br />
<br />
<br />
<span style="color: #b22222;">## Cookie：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;概念：客户端会话技术，将数据保存到客户端<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;快速入门：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 使用步骤：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;创建Cookie对象，绑定数据<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* new Cookie(String name, String value)&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;发送Cookie对象<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* response.addCookie(Cookie cookie)&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;获取Cookie，拿到数据<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Cookie[]&nbsp;&nbsp;request.getCookies()&nbsp;&nbsp;<br />
<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;实现原理<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 基于响应头set-cookie和请求头cookie实现<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;cookie的细节<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;一次可不可以发送多个cookie?<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 可以<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 可以创建多个Cookie对象，使用response调用多次addCookie方法发送cookie即可。<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;cookie在浏览器中保存多长时间？<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;默认情况下，当浏览器关闭后，Cookie数据被销毁<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;持久化存储：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* setMaxAge(int seconds)<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;正数：将Cookie数据写到硬盘的文件中。持久化存储。并指定cookie存活时间，时间到后，cookie文件自动失效<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;负数：默认值<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;零：删除cookie信息<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;cookie能不能存中文？<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 在tomcat 8 之前 cookie中不能直接存储中文数据。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 需要将中文数据转码---一般采用URL编码(%E3)<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 在tomcat 8 之后，cookie支持中文数据。特殊字符还是不支持，建议使用URL编码存储，URL解码解析<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;cookie共享问题？<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;假设在一个tomcat服务器中，部署了多个web项目，那么在这些web项目中cookie能不能共享？<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 默认情况下cookie不能共享<br />
<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* setPath(String path):设置cookie的获取范围。默认情况下，设置当前的虚拟目录<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 如果要共享，则可以将path设置为"/"<br />
<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;不同的tomcat服务器间cookie共享问题？<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* setDomain(String path):如果设置一级域名相同，那么多个服务器之间cookie可以共享<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* setDomain(".baidu.com"),那么tieba.baidu.com和news.baidu.com中cookie可以共享<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;5.&nbsp;Cookie的特点和作用<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;cookie存储数据在客户端浏览器<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;浏览器对于单个cookie 的大小有限制(4kb) 以及 对同一个域名下的总cookie数量也有限制(20个)<br />
<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 作用：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;cookie一般用于存出少量的不太敏感的数据<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;在不登录的情况下，完成服务器对客户端的身份识别<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;6.&nbsp;案例：记住上一次访问时间<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;需求：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;访问一个Servlet，如果是第一次访问，则提示：您好，欢迎您首次访问。<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;如果不是第一次访问，则提示：欢迎回来，您上次访问时间为:显示时间字符串<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;分析：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;可以采用Cookie来完成<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;在服务器中的Servlet判断是否有一个名为lastTime的cookie<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;有：不是第一次访问<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;响应数据：欢迎回来，您上次访问时间为:2018年6月10日11:50:20<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;写回Cookie：lastTime=2018年6月10日11:50:01<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;没有：是第一次访问<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;响应数据：您好，欢迎您首次访问<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;写回Cookie：lastTime=2018年6月10日11:50:01<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;代码实现：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">package</span><span style="color: #000000;"> cn.itcast.cookie;
</span><span style="color: #008080;"> 2</span> 
<span style="color: #008080;"> 3</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.ServletException;
</span><span style="color: #008080;"> 4</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.annotation.WebServlet;
</span><span style="color: #008080;"> 5</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.Cookie;
</span><span style="color: #008080;"> 6</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServlet;
</span><span style="color: #008080;"> 7</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletRequest;
</span><span style="color: #008080;"> 8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> javax.servlet.http.HttpServletResponse;
</span><span style="color: #008080;"> 9</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.io.IOException;
</span><span style="color: #008080;">10</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.net.URLDecoder;
</span><span style="color: #008080;">11</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.net.URLEncoder;
</span><span style="color: #008080;">12</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.text.SimpleDateFormat;
</span><span style="color: #008080;">13</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Date;
</span><span style="color: #008080;">14</span> 
<span style="color: #008080;">15</span> 
<span style="color: #008080;">16</span> @WebServlet("/cookieTest"<span style="color: #000000;">)
</span><span style="color: #008080;">17</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span> CookieTest <span style="color: #0000ff;">extends</span><span style="color: #000000;"> HttpServlet {
</span><span style="color: #008080;">18</span>     <span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">void</span> doPost(HttpServletRequest request, HttpServletResponse response) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">19</span>     <span style="color: #008000;">//</span><span style="color: #008000;">设置响应的消息体的数据格式以及编码</span>
<span style="color: #008080;">20</span>     response.setContentType("text/html;charset=utf-8"<span style="color: #000000;">);
</span><span style="color: #008080;">21</span>         
<span style="color: #008080;">22</span>     <span style="color: #008000;">//</span><span style="color: #008000;">1.获取所有Cookie</span>
<span style="color: #008080;">23</span>     Cookie[] cookies =<span style="color: #000000;"> request.getCookies();
</span><span style="color: #008080;">24</span>     <span style="color: #0000ff;">boolean</span> flag = <span style="color: #0000ff;">false</span>;<span style="color: #008000;">//</span><span style="color: #008000;">没有cookie为lastTime
</span><span style="color: #008080;">25</span>     <span style="color: #008000;">//</span><span style="color: #008000;">2.遍历cookie数组</span>
<span style="color: #008080;">26</span>     <span style="color: #0000ff;">if</span>(cookies != <span style="color: #0000ff;">null</span> &amp;&amp; cookies.length &gt; 0<span style="color: #000000;">){
</span><span style="color: #008080;">27</span>         <span style="color: #0000ff;">for</span><span style="color: #000000;"> (Cookie cookie : cookies) {
</span><span style="color: #008080;">28</span>             <span style="color: #008000;">//</span><span style="color: #008000;">3.获取cookie的名称</span>
<span style="color: #008080;">29</span>             String name =<span style="color: #000000;"> cookie.getName();
</span><span style="color: #008080;">30</span>             <span style="color: #008000;">//</span><span style="color: #008000;">4.判断名称是否是：lastTime</span>
<span style="color: #008080;">31</span>             <span style="color: #0000ff;">if</span>("lastTime"<span style="color: #000000;">.equals(name)){
</span><span style="color: #008080;">32</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">有该Cookie，不是第一次访问</span>
<span style="color: #008080;">33</span>         
<span style="color: #008080;">34</span>                 flag = <span style="color: #0000ff;">true</span>;<span style="color: #008000;">//</span><span style="color: #008000;">有lastTime的cookie
</span><span style="color: #008080;">35</span>         
<span style="color: #008080;">36</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">设置Cookie的value
</span><span style="color: #008080;">37</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">获取当前时间的字符串，重新设置Cookie的值，重新发送cookie</span>
<span style="color: #008080;">38</span>                 Date date  = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Date();
</span><span style="color: #008080;">39</span>                 SimpleDateFormat sdf = <span style="color: #0000ff;">new</span> SimpleDateFormat("yyyy年MM月dd日 HH:mm:ss"<span style="color: #000000;">);
</span><span style="color: #008080;">40</span>                 String str_date =<span style="color: #000000;"> sdf.format(date);
</span><span style="color: #008080;">41</span>                 System.out.println("编码前："+<span style="color: #000000;">str_date);
</span><span style="color: #008080;">42</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">URL编码</span>
<span style="color: #008080;">43</span>                 str_date = URLEncoder.encode(str_date,"utf-8"<span style="color: #000000;">);
</span><span style="color: #008080;">44</span>                 System.out.println("编码后："+<span style="color: #000000;">str_date);
</span><span style="color: #008080;">45</span> <span style="color: #000000;">                cookie.setValue(str_date);
</span><span style="color: #008080;">46</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">设置cookie的存活时间</span>
<span style="color: #008080;">47</span>                 cookie.setMaxAge(60 * 60 * 24 * 30);<span style="color: #008000;">//</span><span style="color: #008000;">一个月</span>
<span style="color: #008080;">48</span> <span style="color: #000000;">                response.addCookie(cookie);
</span><span style="color: #008080;">49</span>         
<span style="color: #008080;">50</span>         
<span style="color: #008080;">51</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">响应数据
</span><span style="color: #008080;">52</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">获取Cookie的value，时间</span>
<span style="color: #008080;">53</span>                 String value =<span style="color: #000000;"> cookie.getValue();
</span><span style="color: #008080;">54</span>                 System.out.println("解码前："+<span style="color: #000000;">value);
</span><span style="color: #008080;">55</span>                 <span style="color: #008000;">//</span><span style="color: #008000;">URL解码：</span>
<span style="color: #008080;">56</span>                 value = URLDecoder.decode(value,"utf-8"<span style="color: #000000;">);
</span><span style="color: #008080;">57</span>                 System.out.println("解码后："+<span style="color: #000000;">value);
</span><span style="color: #008080;">58</span>                 response.getWriter().write("&lt;h1&gt;欢迎回来，您上次访问时间为:"+value+"&lt;/h1&gt;"<span style="color: #000000;">);
</span><span style="color: #008080;">59</span>         
<span style="color: #008080;">60</span>                 <span style="color: #0000ff;">break</span><span style="color: #000000;">;
</span><span style="color: #008080;">61</span>         
<span style="color: #008080;">62</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">63</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">64</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">65</span>         
<span style="color: #008080;">66</span>         
<span style="color: #008080;">67</span>     <span style="color: #0000ff;">if</span>(cookies == <span style="color: #0000ff;">null</span> || cookies.length == 0 || flag == <span style="color: #0000ff;">false</span><span style="color: #000000;">){
</span><span style="color: #008080;">68</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">没有，第一次访问
</span><span style="color: #008080;">69</span>         
<span style="color: #008080;">70</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">设置Cookie的value
</span><span style="color: #008080;">71</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">获取当前时间的字符串，重新设置Cookie的值，重新发送cookie</span>
<span style="color: #008080;">72</span>                     Date date  = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Date();
</span><span style="color: #008080;">73</span>                     SimpleDateFormat sdf = <span style="color: #0000ff;">new</span> SimpleDateFormat("yyyy年MM月dd日 HH:mm:ss"<span style="color: #000000;">);
</span><span style="color: #008080;">74</span>                     String str_date =<span style="color: #000000;"> sdf.format(date);
</span><span style="color: #008080;">75</span>                     System.out.println("编码前："+<span style="color: #000000;">str_date);
</span><span style="color: #008080;">76</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">URL编码</span>
<span style="color: #008080;">77</span>                     str_date = URLEncoder.encode(str_date,"utf-8"<span style="color: #000000;">);
</span><span style="color: #008080;">78</span>                     System.out.println("编码后："+<span style="color: #000000;">str_date);
</span><span style="color: #008080;">79</span>         
<span style="color: #008080;">80</span>                     Cookie cookie = <span style="color: #0000ff;">new</span> Cookie("lastTime"<span style="color: #000000;">,str_date);
</span><span style="color: #008080;">81</span>                     <span style="color: #008000;">//</span><span style="color: #008000;">设置cookie的存活时间</span>
<span style="color: #008080;">82</span>                     cookie.setMaxAge(60 * 60 * 24 * 30);<span style="color: #008000;">//</span><span style="color: #008000;">一个月</span>
<span style="color: #008080;">83</span> <span style="color: #000000;">                    response.addCookie(cookie);
</span><span style="color: #008080;">84</span>         
<span style="color: #008080;">85</span>                     response.getWriter().write("&lt;h1&gt;您好，欢迎您首次访问&lt;/h1&gt;"<span style="color: #000000;">);
</span><span style="color: #008080;">86</span> <span style="color: #000000;">                }
</span><span style="color: #008080;">87</span>         
<span style="color: #008080;">88</span>         
<span style="color: #008080;">89</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">90</span>         
<span style="color: #008080;">91</span>             <span style="color: #0000ff;">protected</span> <span style="color: #0000ff;">void</span> doGet(HttpServletRequest request, HttpServletResponse response) <span style="color: #0000ff;">throws</span><span style="color: #000000;"> ServletException, IOException {
</span><span style="color: #008080;">92</span>                 <span style="color: #0000ff;">this</span><span style="color: #000000;">.doPost(request, response);
</span><span style="color: #008080;">93</span> <span style="color: #000000;">            }
</span><span style="color: #008080;">94</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">95</span>         </code></pre>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="color: #b22222;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #b22222;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #b22222;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #808080;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><span style="color: #008000;"><br />
<br />
<span style="color: #b22222;">## JSP：入门学习<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;概念：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Java Server Pages： java服务器端页面<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 可以理解为：一个特殊的页面，其中既可以指定定义html标签，又可以定义java代码<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 用于简化书写！！！<br />
<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;原理<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* JSP本质上就是一个Servlet<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;JSP的脚本：JSP定义Java代码的方式<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;&lt;%&nbsp;&nbsp;代码 %&gt;：定义的java代码，在service方法中。service方法中可以定义什么，该脚本中就可以定义什么。<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;&lt;%! 代码 %&gt;：定义的java代码，在jsp转换后的java类的成员位置。<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;&lt;%= 代码 %&gt;：定义的java代码，会输出到页面上。输出语句中可以定义什么，该脚本中就可以定义什么。<br />
<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;JSP的内置对象：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 在jsp页面中不需要获取和创建，可以直接使用的对象<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* jsp一共有9个内置对象。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 今天学习3个：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* request<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* response<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* out：字符输出流对象。可以将数据输出到页面上。和response.getWriter()类似<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* response.getWriter()和out.write()的区别：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 在tomcat服务器真正给客户端做出响应之前，会先找response缓冲区数据，再找out缓冲区数据。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* response.getWriter()数据输出永远在out.write()之前<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;5.&nbsp;案例:改造Cookie案例<br />
<br />
<br />
<br />
<br />
<span style="color: #b22222;">## Session：主菜<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;概念：服务器端会话技术，在一次会话的多次请求间共享数据，将数据保存在服务器端的对象中。HttpSession<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;快速入门：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;获取HttpSession对象：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HttpSession session = request.getSession();<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;使用HttpSession对象：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Object getAttribute(String name)&nbsp;&nbsp;<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void setAttribute(String name, Object value)<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;void removeAttribute(String name)&nbsp;&nbsp;<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;原理<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* Session的实现是依赖于Cookie的。<br />
<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;细节：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;当客户端关闭后，服务器不关闭，两次获取session是否为同一个？<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 默认情况下。不是。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 如果需要相同，则可以创建Cookie,键为JSESSIONID，设置最大存活时间，让cookie持久化保存。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cookie c = new Cookie("JSESSIONID",session.getId());<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.setMaxAge(60*60);<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response.addCookie(c);<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;客户端不关闭，服务器关闭后，两次获取的session是同一个吗？<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 不是同一个，但是要确保数据不丢失。tomcat自动完成以下工作<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* session的钝化：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 在服务器正常关闭之前，将session对象系列化到硬盘上<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* session的活化：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 在服务器启动后，将session文件转化为内存中的session对象即可。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;session什么时候被销毁？<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;服务器关闭<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;session对象调用invalidate() 。<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;session默认失效时间 30分钟<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;选择性配置修改&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;session-config&gt;<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;session-timeout&gt;30&lt;/session-timeout&gt;<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/session-config&gt;<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5.&nbsp;session的特点<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;session用于存储一次会话的多次请求的数据，存在服务器端<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;session可以存储任意类型，任意大小的数据<br />
<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* session与Cookie的区别：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;session存储数据在服务器端，Cookie在客户端<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;session没有数据大小限制，Cookie有<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;session数据安全，Cookie相对于不安全<br />
<br />
<br />
<span style="color: #b22222;">## 案例：验证码<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;案例需求：<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;访问带有验证码的登录页面login.jsp<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;用户输入用户名，密码以及验证码。<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 如果用户名和密码输入有误，跳转登录页面，提示:用户名或密码错误<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 如果验证码输入有误，跳转登录页面，提示：验证码错误<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* 如果全部输入正确，则跳转到主页success.jsp，显示：用户名,欢迎您<br />
<br />
<br />
<span style="color: #808080;">&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;分析：<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp;&nbsp;<br />
<span style="color: #008000;">&nbsp;&nbsp;&nbsp; <br /></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>