<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修《Java语言程序设计》编程练习6.31（财务应用程序：信用卡号的合法性）' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>《Java语言程序设计》编程练习6.31（财务应用程序：信用卡号的合法性）</center></div><div class='banquan'>原文出处:本文由博客园博主爱上不一样的风采提供。<br/>
原文连接:https://www.cnblogs.com/buyiyangdefengcai/p/11664248.html</div><br>
    <p>6.31（财务应用程序：信用卡号的合法性）信用卡号遵循下面的模式。一个信用卡号必须是13到16位的整数。它的开头必须是：</p>
<ul>
<li>4，指Visa卡</li>
<li>5，指Master卡</li>
<li>37，指American Express卡</li>
<li>6，指Discover卡</li>
</ul>
<p>&nbsp; &nbsp; &nbsp; 在1954年，IBM的Hans Luhn提出一种算法，该算法可以验证信用卡号的有效性。这个算法在确定输入的卡号是否正确，或者这张信用卡号是否被扫描仪正确扫描方面是非常有用的。遵循这个合法性检&nbsp; &nbsp; 测可以生成所有的信用卡号，通常称之为Luhn检测或者Mod 10检测，可以如下描述（为了方便解释，假设卡号为4388576018402626)：</p>
<p>1）从右到左对每个数字翻倍。如果对某个数字翻倍之后的结果是一个两位数，那么就将这两位加在一起得到一位数。</p>
<p><img src="./images/《Java语言程序设计》编程练习6.31（财务应用程序：信用卡号的合法性）0.png" alt="" /></p>
<p>&nbsp;</p>
<p><br />2) 现在将第一步得到的所有一位数相加。<br />　　　　　　4+4+8+2+3+1+7+8=37<br />3) 将卡号里从右到左在奇数位上的所有数字相加。<br />　　　　　　6+6+0+8+0+7+8+3=38<br />4) 将第二步和第三步得到的结果相加。<br />　　　　　　37+38=75<br />5) 如果第四步得到的结果能被10整除，那么卡号是合法的；否则，卡号是不合法的。例<br />如，号码4388576018402626是不合法的，但是号码4388576018410707是合法的。</p>
<p>编写程序，提示用户输入一个long型整数的信用卡号码，显示这个数字是合法的还是非法<br />的。使用下面的方法设计程序：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;"> 1</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Returntrue if the card number is valid </span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 2</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span> isVa1id(<span style="color: #0000ff;">long</span><span style="color: #000000;"> number)
</span><span style="color: #008080;"> 3</span> 
<span style="color: #008080;"> 4</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Getthe result from Step2 </span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 5</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> sumOfDoubleEvenPIace(<span style="color: #0000ff;">long</span><span style="color: #000000;"> number)
</span><span style="color: #008080;"> 6</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Return this number if it is a single digit, otherwise,
</span><span style="color: #008080;"> 7</span> <span style="color: #008000;">* return the sum of the two digits</span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 8</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> getDigit(<span style="color: #0000ff;">int</span><span style="color: #000000;"> number)
</span><span style="color: #008080;"> 9</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Returnsum ofodd-placedigitsin number </span><span style="color: #008000;">*/</span>
<span style="color: #008080;">10</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> sumOfOddPlace(1ong number)
</span><span style="color: #008080;">11</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Returntrue if the digitd is a prefix for number </span><span style="color: #008000;">*/</span>
<span style="color: #008080;">12</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span> prefixMatched(1ong number, <span style="color: #0000ff;">int</span><span style="color: #000000;"> d)
</span><span style="color: #008080;">13</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Returnthe number ofdigitsin d </span><span style="color: #008000;">*/</span>
<span style="color: #008080;">14</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> getSize(1ong d)
</span><span style="color: #008080;">15</span> <span style="color: #008000;">/**</span><span style="color: #008000;"> Return the first k number ofdigitsfrom number. If the
</span><span style="color: #008080;">16</span> <span style="color: #008000;">* number ofdigitsin number is less than k, return number. </span><span style="color: #008000;">*/</span>
<span style="color: #008080;">17</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">long</span> getPrefix(<span style="color: #0000ff;">long</span> number, <span style="color: #0000ff;">int</span> k)&nbsp;</code></pre>

<p>下面是程序的运行示例：（你也可以通过将输人作为一个宇符串读人，以及对宇符串进行处<br />理来验证信用卡卡号。</p>
<p><img src="./images/《Java语言程序设计》编程练习6.31（财务应用程序：信用卡号的合法性）1.png" alt="" /></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>以下为实现这功能的代码：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #008080;">  1</span> <span style="color: #008000;">/**</span><span style="color: #008000;">     fileName:   creditCardVerify.java
</span><span style="color: #008080;">  2</span> <span style="color: #008000;"> *       作用:      计算信用卡号的合法性
</span><span style="color: #008080;">  3</span> <span style="color: #008000;"> *      mail:       xuangliang1@live.com
</span><span style="color: #008080;">  4</span> <span style="color: #008000;"> *      说明：      信用卡号必须是13到16位，开头必须是4，5，37，6
</span><span style="color: #008080;">  5</span> <span style="color: #008000;"> *                          
</span><span style="color: #008080;">  6</span>  <span style="color: #008000;">*/</span>
<span style="color: #008080;">  7</span> 
<span style="color: #008080;">  8</span> <span style="color: #0000ff;">import</span><span style="color: #000000;"> java.util.Scanner;
</span><span style="color: #008080;">  9</span> 
<span style="color: #008080;"> 10</span> <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> creditCardVerify{
</span><span style="color: #008080;"> 11</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">void</span><span style="color: #000000;"> main(String[] args) {
</span><span style="color: #008080;"> 12</span>         Scanner input = <span style="color: #0000ff;">new</span><span style="color: #000000;"> Scanner(System.in);
</span><span style="color: #008080;"> 13</span>         System.out.print("请输入卡号，按Enter结束输入: "<span style="color: #000000;">);
</span><span style="color: #008080;"> 14</span>         <span style="color: #0000ff;">long</span> i =<span style="color: #000000;"> input.nextLong();
</span><span style="color: #008080;"> 15</span>         <span style="color: #0000ff;">if</span><span style="color: #000000;"> (isValid(i))
</span><span style="color: #008080;"> 16</span>             System.out.println(i + " is valid"<span style="color: #000000;">);
</span><span style="color: #008080;"> 17</span>         <span style="color: #0000ff;">else</span>
<span style="color: #008080;"> 18</span>             System.out.println(i + " is invalid"<span style="color: #000000;">);
</span><span style="color: #008080;"> 19</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 20</span> 
<span style="color: #008080;"> 21</span>     <span style="color: #008000;">/**</span><span style="color: #008000;"> Return true if the card number is valid </span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 22</span>     <span style="color: #008000;">/**</span><span style="color: #008000;"> 返回ture表明这个卡号是有效的 </span><span style="color: #008000;">*/</span>
<span style="color: #008080;"> 23</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span> isValid(<span style="color: #0000ff;">long</span><span style="color: #000000;"> number) {
</span><span style="color: #008080;"> 24</span>         <span style="color: #0000ff;">if</span><span style="color: #000000;">(prefixMatched(number)){
</span><span style="color: #008080;"> 25</span>             <span style="color: #0000ff;">if</span>(sumOfdoubleEvenPlace(number)%10 == 0<span style="color: #000000;">)
</span><span style="color: #008080;"> 26</span>                 <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 27</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 28</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 29</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 30</span> 
<span style="color: #008080;"> 31</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 32</span> <span style="color: #008000;">     * Get the result from Step 2 从步骤2得到结果？。双重偶数之和
</span><span style="color: #008080;"> 33</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 34</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> sumOfdoubleEvenPlace(<span style="color: #0000ff;">long</span><span style="color: #000000;"> number) {
</span><span style="color: #008080;"> 35</span>         <span style="color: #0000ff;">int</span> sum = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 36</span>         <span style="color: #0000ff;">int</span> sumGetdigit = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 37</span>         <span style="color: #0000ff;">long</span> temp = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 38</span>         <span style="color: #0000ff;">int</span> numberSize =<span style="color: #000000;"> getSize(number);
</span><span style="color: #008080;"> 39</span>         <span style="color: #0000ff;">for</span>(<span style="color: #0000ff;">int</span> i =2; i &lt;= numberSize; i += 2<span style="color: #000000;">){
</span><span style="color: #008080;"> 40</span>             temp =<span style="color: #000000;"> getPrefix(number, i);
</span><span style="color: #008080;"> 41</span>             sumGetdigit += getDigit((<span style="color: #0000ff;">int</span>)temp*2<span style="color: #000000;">);
</span><span style="color: #008080;"> 42</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 43</span>         sum = sumGetdigit +<span style="color: #000000;"> sumOfOddPlace(number);
</span><span style="color: #008080;"> 44</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> sum;
</span><span style="color: #008080;"> 45</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 46</span> 
<span style="color: #008080;"> 47</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 48</span> <span style="color: #008000;">     * Retrun this number if it is a single digit, otherwise, Return the sum of the
</span><span style="color: #008080;"> 49</span> <span style="color: #008000;">     * two digits
</span><span style="color: #008080;"> 50</span> <span style="color: #008000;">     * 
</span><span style="color: #008080;"> 51</span> <span style="color: #008000;">     * 如果是单个数字，则返回该数字，否则返回两位数的和。获得数字
</span><span style="color: #008080;"> 52</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 53</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> getDigit(<span style="color: #0000ff;">int</span><span style="color: #000000;"> number) {
</span><span style="color: #008080;"> 54</span>         <span style="color: #0000ff;">int</span> numGetDigit = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 55</span>         <span style="color: #0000ff;">if</span>(number % 10 &gt;= 0<span style="color: #000000;">){
</span><span style="color: #008080;"> 56</span>             numGetDigit = number % 10<span style="color: #000000;">;
</span><span style="color: #008080;"> 57</span>             number /= 10<span style="color: #000000;">;
</span><span style="color: #008080;"> 58</span>             numGetDigit +=<span style="color: #000000;"> number;
</span><span style="color: #008080;"> 59</span>             <span style="color: #0000ff;">return</span><span style="color: #000000;"> numGetDigit;
</span><span style="color: #008080;"> 60</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 61</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> number;
</span><span style="color: #008080;"> 62</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 63</span> 
<span style="color: #008080;"> 64</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 65</span> <span style="color: #008000;">     * Return sum of odd-place digits in number 返回卡号总右往左的奇位数之和
</span><span style="color: #008080;"> 66</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 67</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> sumOfOddPlace(<span style="color: #0000ff;">long</span><span style="color: #000000;"> number) {
</span><span style="color: #008080;"> 68</span>         <span style="color: #0000ff;">int</span> sum = 0, i = 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 69</span>         <span style="color: #0000ff;">int</span> Size =<span style="color: #000000;"> getSize(number);
</span><span style="color: #008080;"> 70</span> 
<span style="color: #008080;"> 71</span>         <span style="color: #0000ff;">for</span>(i = 1; i &lt;= Size; i+=2<span style="color: #000000;">){
</span><span style="color: #008080;"> 72</span>             sum +=<span style="color: #000000;"> getPrefix(number, i);
</span><span style="color: #008080;"> 73</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 74</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> sum;
</span><span style="color: #008080;"> 75</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 76</span> 
<span style="color: #008080;"> 77</span>     <span style="color: #008000;">/**</span>
<span style="color: #008080;"> 78</span> <span style="color: #008000;">     * Return true if the digit d is a prefix for number 判断卡号的前缀是否合法
</span><span style="color: #008080;"> 79</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 80</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">boolean</span> prefixMatched(<span style="color: #0000ff;">long</span><span style="color: #000000;"> number) {
</span><span style="color: #008080;"> 81</span>         <span style="color: #0000ff;">int</span> numberSize =<span style="color: #000000;"> getSize(number); 
</span><span style="color: #008080;"> 82</span>         <span style="color: #0000ff;">if</span>(numberSize &gt;= 13 &amp;&amp; numberSize &lt;= 16<span style="color: #000000;">){
</span><span style="color: #008080;"> 83</span>             <span style="color: #0000ff;">switch</span>((<span style="color: #0000ff;">int</span><span style="color: #000000;">)getPrefix(number, numberSize)){
</span><span style="color: #008080;"> 84</span>                 <span style="color: #0000ff;">case</span> 4: <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 85</span>                 <span style="color: #0000ff;">case</span> 5: <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 86</span>                 <span style="color: #0000ff;">case</span> 6: <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 87</span>                 <span style="color: #0000ff;">case</span> 3: <span style="color: #0000ff;">if</span>((<span style="color: #0000ff;">int</span>)getPrefix(number, numberSize -1) == 7<span style="color: #000000;">)
</span><span style="color: #008080;"> 88</span>                         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">true</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 89</span> <span style="color: #000000;">            }
</span><span style="color: #008080;"> 90</span> <span style="color: #000000;">        }
</span><span style="color: #008080;"> 91</span>         <span style="color: #0000ff;">return</span> <span style="color: #0000ff;">false</span><span style="color: #000000;">;
</span><span style="color: #008080;"> 92</span> <span style="color: #000000;">    }
</span><span style="color: #008080;"> 93</span> 
<span style="color: #008080;"> 94</span>     <span style="color: #008000;">/**</span><span style="color: #008000;"> Return the number of digits in d 
</span><span style="color: #008080;"> 95</span> <span style="color: #008000;">     * 获得信用卡号的长度并将结果返回
</span><span style="color: #008080;"> 96</span>     <span style="color: #008000;">*/</span>
<span style="color: #008080;"> 97</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">int</span> getSize(<span style="color: #0000ff;">long</span><span style="color: #000000;"> d){
</span><span style="color: #008080;"> 98</span>         <span style="color: #0000ff;">long</span> i= 0<span style="color: #000000;">;
</span><span style="color: #008080;"> 99</span>         <span style="color: #0000ff;">while</span>(d &gt; 0<span style="color: #000000;">){
</span><span style="color: #008080;">100</span>             i += 1<span style="color: #000000;">;
</span><span style="color: #008080;">101</span>             d /= 10<span style="color: #000000;">;
</span><span style="color: #008080;">102</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">103</span>         <span style="color: #0000ff;">return</span> (<span style="color: #0000ff;">int</span><span style="color: #000000;">)i; 
</span><span style="color: #008080;">104</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">105</span> 
<span style="color: #008080;">106</span>     <span style="color: #008000;">/**</span><span style="color: #008000;"> Return the first k number of digits from number. If the 
</span><span style="color: #008080;">107</span> <span style="color: #008000;">     *  Number of digits in number is less than k, return number.
</span><span style="color: #008080;">108</span> <span style="color: #008000;">     * 从数字中返回第一个k位数。如果数字总的位数小于k，则返回数字。
</span><span style="color: #008080;">109</span> <span style="color: #008000;">     * 应该是获得信用卡号的第k位的字母
</span><span style="color: #008080;">110</span>      <span style="color: #008000;">*/</span>
<span style="color: #008080;">111</span>     <span style="color: #0000ff;">public</span> <span style="color: #0000ff;">static</span> <span style="color: #0000ff;">long</span> getPrefix(<span style="color: #0000ff;">long</span> number, <span style="color: #0000ff;">int</span><span style="color: #000000;"> k){
</span><span style="color: #008080;">112</span>         <span style="color: #0000ff;">int</span> i = 0<span style="color: #000000;">;
</span><span style="color: #008080;">113</span>         <span style="color: #0000ff;">long</span> temp=0<span style="color: #000000;">;
</span><span style="color: #008080;">114</span>         <span style="color: #0000ff;">while</span> (i &lt;<span style="color: #000000;"> k){
</span><span style="color: #008080;">115</span>             i++<span style="color: #000000;">;
</span><span style="color: #008080;">116</span>             temp = number % 10<span style="color: #000000;">;
</span><span style="color: #008080;">117</span>             number /= 10<span style="color: #000000;">;   
</span><span style="color: #008080;">118</span> <span style="color: #000000;">        }
</span><span style="color: #008080;">119</span>         <span style="color: #0000ff;">return</span><span style="color: #000000;"> temp;
</span><span style="color: #008080;">120</span> <span style="color: #000000;">    }
</span><span style="color: #008080;">121</span> }</code></pre>

<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>