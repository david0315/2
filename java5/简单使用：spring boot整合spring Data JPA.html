<html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='applicable-device' content='pc'><meta name='keywords' content='电脑,电脑讲解,电脑技术,编程,电脑故障维修简单使用：spring boot整合spring Data JPA' />
<script src='../../highlight/highlight.pack.js'></script>
<link rel='stylesheet' type='text/css' href='../../highlight/styles/monokai.css'/>

<link rel='stylesheet' href='../../fenxiang/dist/css/share.min.css'>
<script src='../../fenxiang/src/js/social-share.js'></script>
<script src='../../fenxiang/src/js/qrcode.js'></script>

</head><body><script>hljs.initHighlightingOnLoad();</script><script>
var system ={};  
var p = navigator.platform;       
system.win = p.indexOf('Win') == 0;  
system.mac = p.indexOf('Mac') == 0;  
system.x11 = (p == 'X11') || (p.indexOf('Linux') == 0);     
if(system.win||system.mac||system.xll){
document.write("<link href='../css/3.css' rel='stylesheet' type='text/css'>");}else{ document.write("<link href='../css/3wap.css' rel='stylesheet' type='text/css'>");}</script><script src='../../js/3.js'></script><div class='div2'><div class='heading_nav'><ul><div><li><a href='../../index.html'>首页</a></li>
</div><div onclick='hidden1()' >分享</div>
</ul></div></div>
<div id='heading_nav2'> 
<li class='row' >
<div class='social-share' data-mode='prepend'><a href='javascript:' class='social-share-icon icon-heart'></a></div></li></div><script charset='utf-8' src='../../3/js/hengfu.js'></script><script charset='utf-8' src='../../3/js/hengfu2.js'></script><hr><div class='div1'><div class='biaoti'><center>简单使用：spring boot整合spring Data JPA</center></div><div class='banquan'>原文出处:本文由博客园博主crazy戴夫提供。<br/>
原文连接:https://www.cnblogs.com/crazy-lc/p/11801373.html</div><br>
    <p>　　JPA<span style="font-family: 宋体;">顾名思义就是</span><span style="font-family: Calibri;">Java Persistence API</span><span style="font-family: 宋体;">的意思，是</span><span style="font-family: Calibri;">JDK 5.0</span><span style="font-family: 宋体;">注解或</span><span style="font-family: Calibri;">XML</span><span style="font-family: 宋体;">描述对象－关系表的映射关系，并将运行期的实体对象持久化到数据库中。</span></p>
<p><strong><span style="font-size: 16px;">1.jpa<span style="font-family: 宋体;">具有什么优势？</span></span></strong></p>
<p><span style="font-size: 13px;"><span style="font-family: 宋体;">（</span>1<span style="font-family: 宋体;">）、标准化</span></span></p>
<p><span style="font-size: 13px;">　　JPA <span style="font-family: 宋体;">是 </span><span style="font-family: Calibri;">JCP </span><span style="font-family: 宋体;">组织发布的 </span><span style="font-family: Calibri;">Java EE </span><span style="font-family: 宋体;">标准之一，因此任何声称符合 </span><span style="font-family: Calibri;">JPA </span><span style="font-family: 宋体;">标准的框架都遵循同样的架构，提供相同的访问</span><span style="font-family: Calibri;">API</span><span style="font-family: 宋体;">，这保证了基于</span><span style="font-family: Calibri;">JPA</span><span style="font-family: 宋体;">开发的企业应用能够经过少量的修改就能够在不同的</span><span style="font-family: Calibri;">JPA</span><span style="font-family: 宋体;">框架下运行。</span></span></p>
<p><span style="font-size: 13px;"><span style="font-family: 宋体;">（</span>2<span style="font-family: 宋体;">）、容器级特性的支持</span></span></p>
<p><span style="font-size: 13px;">　　JPA<span style="font-family: 宋体;">框架中支持大数据集、事务、并发等容器级事务，这使得 </span><span style="font-family: Calibri;">JPA </span><span style="font-family: 宋体;">超越了简单持久化框架的局限，在企业应用发挥更大的作用。</span></span></p>
<p><span style="font-size: 13px;"><span style="font-family: 宋体;">（</span>3<span style="font-family: 宋体;">）、简单方便</span></span></p>
<p><span style="font-size: 13px;">　　JPA<span style="font-family: 宋体;">的主要目标之一就是提供更加简单的编程模型：在</span><span style="font-family: Calibri;">JPA</span><span style="font-family: 宋体;">框架下创建实体和创建</span><span style="font-family: Calibri;">Java </span><span style="font-family: 宋体;">类一样简单，没有任何的约束和限制，只需要使用 </span><span style="font-family: Calibri;">javax.persistence.Entity</span><span style="font-family: 宋体;">进行注释，</span><span style="font-family: Calibri;">JPA</span><span style="font-family: 宋体;">的框架和接口也都非常简单，没有太多特别的规则和设计模式的要求，开发者可以很容易的掌握。</span><span style="font-family: Calibri;">JPA</span><span style="font-family: 宋体;">基于非侵入式原则设计，因此可以很容易的和其它框架或者容器集成。</span></span></p>
<p><span style="font-size: 13px;"><span style="font-family: 宋体;">（</span>4<span style="font-family: 宋体;">）、查询能力</span></span></p>
<p><span style="font-size: 13px;">　　JPA<span style="font-family: 宋体;">的查询语言是面向对象而非面向数据库的，它以面向对象的自然语法构造查询语句，可以看成是</span><span style="font-family: Calibri;">Hibernate HQL</span><span style="font-family: 宋体;">的等价物。</span><span style="font-family: Calibri;">JPA</span><span style="font-family: 宋体;">定义了独特的</span><span style="font-family: Calibri;">JPQL</span><span style="font-family: 宋体;">（</span><span style="font-family: Calibri;">Java Persistence Query Language</span><span style="font-family: 宋体;">），</span><span style="font-family: Calibri;">JPQL</span><span style="font-family: 宋体;">是</span><span style="font-family: Calibri;">EJB QL</span><span style="font-family: 宋体;">的一种扩展，它是针对实体的一种查询语言，操作对象是实体，而不是关系数据库的表，而且能够支持批量更新和修改、</span><span style="font-family: Calibri;">JOIN</span><span style="font-family: 宋体;">、</span><span style="font-family: Calibri;">GROUP BY</span><span style="font-family: 宋体;">、</span><span style="font-family: Calibri;">HAVING </span><span style="font-family: 宋体;">等通常只有 </span><span style="font-family: Calibri;">SQL </span><span style="font-family: 宋体;">才能够提供的高级查询特性，甚至还能够支持子查询。</span></span></p>
<p><span style="font-size: 13px;"><span style="font-family: 宋体;">（</span>5<span style="font-family: 宋体;">）、高级特性</span></span></p>
<p><span style="font-size: 13px;">　　JPA <span style="font-family: 宋体;">中能够支持面向对象的高级特性，如类之间的继承、多态和类之间的复杂关系，这样的支持能够让开发者最大限度的使用面向对象的模型设计企业应用，而不需要自行处理这些特性在关系数据库的持久化。</span></span></p>
<h2>2.JPA<span style="font-family: 黑体;">注解</span></h2>
<table border="1" cellspacing="0">
<tbody>
<tr>
<td valign="top" width="142">
<p>注解</p>
</td>
<td valign="top" width="425">
<p>作用</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Entity</p>
</td>
<td valign="top" width="425">
<p>声明类为实体或表</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Table</p>
</td>
<td valign="top" width="425">
<p>声明表名</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Basic</p>
</td>
<td valign="top" width="425">
<p>指定非约束明确的各个字段</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Embedded</p>
</td>
<td valign="top" width="425">
<p>指定类或它的值是一个可嵌入的类的实例的实体的属性</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Id</p>
</td>
<td valign="top" width="425">
<p>指定的类的属性，用于识别（一个表中的主键）</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@GeneratedValue</p>
</td>
<td valign="top" width="425">
<p>指定如何标识属性可以被初始化，例如自动、手动、或从序列表中获得的值</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Transient</p>
</td>
<td valign="top" width="425">
<p>指定的属性，它是不持久的，即：该值永远不会存储在数据库中</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@Column</p>
</td>
<td valign="top" width="425">
<p>指定持久属性栏属性</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@SequenceGenerator</p>
</td>
<td valign="top" width="425">
<p>指定在<span style="font-family: Calibri;">@GeneratedValue</span><span style="font-family: 宋体;">注解中指定的属性的值。它创建了一个序列</span></p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@TableGenerator</p>
</td>
<td valign="top" width="425">
<p>指定在<span style="font-family: Calibri;">@GeneratedValue</span><span style="font-family: 宋体;">批注指定属性的值发生器。它创造了的值生成的表</span></p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@AccessType</p>
</td>
<td valign="top" width="425">
<p>这种类型的注释用于设置访问类型。如果设置<span style="font-family: Calibri;">@AccessType</span><span style="font-family: 宋体;">（</span><span style="font-family: Calibri;">FIELD</span><span style="font-family: 宋体;">），则可以直接访问变量并且不需要</span><span style="font-family: Calibri;">getter</span><span style="font-family: 宋体;">和</span><span style="font-family: Calibri;">setter</span><span style="font-family: 宋体;">，但必须为</span><span style="font-family: Calibri;">public</span><span style="font-family: 宋体;">。如果设置</span><span style="font-family: Calibri;">@AccessType</span><span style="font-family: 宋体;">（</span><span style="font-family: Calibri;">PROPERTY</span><span style="font-family: 宋体;">），通过</span><span style="font-family: Calibri;">getter</span><span style="font-family: 宋体;">和</span><span style="font-family: Calibri;">setter</span><span style="font-family: 宋体;">方法访问</span><span style="font-family: Calibri;">Entity</span><span style="font-family: 宋体;">的变量</span></p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@JoinColumn</p>
</td>
<td valign="top" width="425">
<p>指定一个实体组织或实体的集合。这是用在多对一和一对多关联</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@UniqueConstraint</p>
</td>
<td valign="top" width="425">
<p>指定的字段和用于主要或辅助表的唯一约束</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@ColumnResult</p>
</td>
<td valign="top" width="425">
<p>参考使用<span style="font-family: Calibri;">select</span><span style="font-family: 宋体;">子句的</span><span style="font-family: Calibri;">SQL</span><span style="font-family: 宋体;">查询中的列名</span></p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@ManyToMany</p>
</td>
<td valign="top" width="425">
<p>定义了连接表之间的多对多一对多的关系</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@ManyToOne</p>
</td>
<td valign="top" width="425">
<p>定义了连接表之间的多对一的关系</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@OneToMany</p>
</td>
<td valign="top" width="425">
<p>定义了连接表之间存在一个一对多的关系</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@OneToOne</p>
</td>
<td valign="top" width="425">
<p>定义了连接表之间有一个一对一的关系</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@NamedQueries</p>
</td>
<td valign="top" width="425">
<p>指定命名查询的列表</p>
</td>
</tr>
<tr>
<td valign="top" width="142">
<p>@NamedQuery</p>
</td>
<td valign="top" width="425">
<p>指定使用静态名称的查询</p>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>1.依赖：</p>
<src class="cnblogs_code">
<pre><code>&lt;dependency&gt;
            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;
&lt;/dependency&gt;
<br />&lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
&lt;/dependency&gt;        
&lt;dependency&gt;
            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
            &lt;artifactId&gt;druid&lt;/artifactId&gt;
            &lt;version&gt;1.1.10&lt;/version&gt;<br />&lt;/dependency&gt;</code></pre>

<p>2.配置文件</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">application.properties
#DB Configation
spring.datasource.driver</span>-<span style="color: #0000ff;">class</span>-name=<span style="color: #000000;">com.mysql.jdbc.Driver
spring.datasource.url</span>=jdbc:mysql:<span style="color: #008000;">//</span><span style="color: #008000;">127.0.0.1:3306/springboot?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC</span>
spring.datasource.username=<span style="color: #000000;">root
spring.datasource.password</span>=2119<span style="color: #000000;">
# JPAConfiguration
spring.jpa.database</span>=<span style="color: #000000;">mysql
spring.jpa.show</span>-sql=<span style="color: #0000ff;">true</span><span style="color: #000000;">
spring.jpa.generate</span>-ddl=<span style="color: #0000ff;">true<br /><br />application.yml</span></code></pre>
<pre><code>spring:<br />  datasource:<br />    driver-class-name: com.mysql.jdbc.Driver<br />    url: jdbc:mysql://127.0.0.1:3306/springboot?useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=UTC<br />    username: root<br />    password: 2119<br />  jpa:<br />    database: mysql<br />    show-sql: true<br />    generate-ddl: true<br />  freemarker:<br />    suffix: .ftl</code></pre>

<p>3.实体类：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #000000;">@Entity
@Table(name</span>="user"<span style="color: #000000;">)
</span><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">class</span><span style="color: #000000;"> User {
    @Id
    @GeneratedValue(strategy </span>=<span style="color: #000000;"> GenerationType.IDENTITY)
    </span><span style="color: #0000ff;">private</span> <span style="color: #0000ff;">int</span><span style="color: #000000;"> id;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String username;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String password;
    </span><span style="color: #0000ff;">private</span><span style="color: #000000;"> String name;
}</span></code></pre>

<p>4.数据访问接口：</p>
<src class="cnblogs_code">
<pre><code><span style="color: #0000ff;">public</span> <span style="color: #0000ff;">interface</span> UserDao <span style="color: #0000ff;">extends</span> JpaRepository&lt;User,Integer&gt;<span style="color: #000000;">{

}</span></code></pre>

<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

</div><hr><script charset='utf-8' src='../../js/sming.js'></script></body></html>